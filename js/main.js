webpackJsonp([0],{100:function(e,t,i){"use strict";function getPropertyInView(e,t,i){if(t===i)return e;for(var o=s.THIS_EXPR,a=t;a!==i&&n.isPresent(a.declarationElement.view);)a=a.declarationElement.view,o=o.prop("parent");if(a!==i)throw new r.BaseException("Internal error: Could not calculate a property in a parent view: "+e);if(e instanceof s.ReadPropExpr){var p=e;(i.fields.some(function(e){return e.name==p.name})||i.getters.some(function(e){return e.name==p.name}))&&(o=o.cast(i.classType))}return s.replaceVarInExpression(s.THIS_EXPR.name,o,e)}function injectFromViewParentInjector(e,t){var i=[createDiTokenExpression(e)];return t&&i.push(s.NULL_EXPR),s.THIS_EXPR.prop("parentInjector").callMethod("get",i)}function getViewFactoryName(e,t){return"viewFactory_"+e.type.name+t}function createDiTokenExpression(e){return n.isPresent(e.value)?s.literal(e.value):e.identifierIsInstance?s.importExpr(e.identifier).instantiate([],s.importType(e.identifier,[],[s.TypeModifier.Const])):s.importExpr(e.identifier)}function createFlatArray(e){for(var t=[],i=s.literalArr([]),r=0;r<e.length;r++){var n=e[r];n.type instanceof s.ArrayType?(t.length>0&&(i=i.callMethod(s.BuiltinMethod.ConcatArray,[s.literalArr(t)]),t=[]),i=i.callMethod(s.BuiltinMethod.ConcatArray,[n])):t.push(n)}return t.length>0&&(i=i.callMethod(s.BuiltinMethod.ConcatArray,[s.literalArr(t)])),i}function createPureProxy(e,t,i,a){a.fields.push(new s.ClassField(i.name,null));var p=t<o.Identifiers.pureProxies.length?o.Identifiers.pureProxies[t]:null;if(n.isBlank(p))throw new r.BaseException("Unsupported number of argument for pure functions: "+t);a.createMethod.addStmt(s.THIS_EXPR.prop(i.name).set(s.importExpr(p).callFn([e])).toStmt())}var r=i(15),n=i(5),s=i(19),o=i(32);t.getPropertyInView=getPropertyInView,t.injectFromViewParentInjector=injectFromViewParentInjector,t.getViewFactoryName=getViewFactoryName,t.createDiTokenExpression=createDiTokenExpression,t.createFlatArray=createFlatArray,t.createPureProxy=createPureProxy},1027:function(e,t,i){e.exports=i(539)},12:[1030,5],130:function(e,t,i){"use strict";function getHtmlTagDefinition(e){var t=o[e.toLowerCase()];return r.isPresent(t)?t:a}function splitNsName(e){if(":"!=e[0])return[null,e];var t=r.RegExpWrapper.firstMatch(p,e);return[t[1],t[2]]}function getNsPrefix(e){return splitNsName(e)[0]}function mergeNsAndName(e,t){return r.isPresent(e)?":"+e+":"+t:t}var r=i(5);t.NAMED_ENTITIES={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",alefsym:"ℵ",Alpha:"Α",alpha:"α",amp:"&",and:"∧",ang:"∠",apos:"'",Aring:"Å",aring:"å",asymp:"≈",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",bdquo:"„",Beta:"Β",beta:"β",brvbar:"¦",bull:"•",cap:"∩",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",Chi:"Χ",chi:"χ",circ:"ˆ",clubs:"♣",cong:"≅",copy:"©",crarr:"↵",cup:"∪",curren:"¤",dagger:"†",Dagger:"‡",darr:"↓",dArr:"⇓",deg:"°",Delta:"Δ",delta:"δ",diams:"♦",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",empty:"∅",emsp:" ",ensp:" ",Epsilon:"Ε",epsilon:"ε",equiv:"≡",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",exist:"∃",fnof:"ƒ",forall:"∀",frac12:"½",frac14:"¼",frac34:"¾",frasl:"⁄",Gamma:"Γ",gamma:"γ",ge:"≥",gt:">",harr:"↔",hArr:"⇔",hearts:"♥",hellip:"…",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",image:"ℑ",infin:"∞","int":"∫",Iota:"Ι",iota:"ι",iquest:"¿",isin:"∈",Iuml:"Ï",iuml:"ï",Kappa:"Κ",kappa:"κ",Lambda:"Λ",lambda:"λ",lang:"⟨",laquo:"«",larr:"←",lArr:"⇐",lceil:"⌈",ldquo:"“",le:"≤",lfloor:"⌊",lowast:"∗",loz:"◊",lrm:"‎",lsaquo:"‹",lsquo:"‘",lt:"<",macr:"¯",mdash:"—",micro:"µ",middot:"·",minus:"−",Mu:"Μ",mu:"μ",nabla:"∇",nbsp:" ",ndash:"–",ne:"≠",ni:"∋",not:"¬",notin:"∉",nsub:"⊄",Ntilde:"Ñ",ntilde:"ñ",Nu:"Ν",nu:"ν",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",OElig:"Œ",oelig:"œ",Ograve:"Ò",ograve:"ò",oline:"‾",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",oplus:"⊕",or:"∨",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",otimes:"⊗",Ouml:"Ö",ouml:"ö",para:"¶",permil:"‰",perp:"⊥",Phi:"Φ",phi:"φ",Pi:"Π",pi:"π",piv:"ϖ",plusmn:"±",pound:"£",prime:"′",Prime:"″",prod:"∏",prop:"∝",Psi:"Ψ",psi:"ψ",quot:'"',radic:"√",rang:"⟩",raquo:"»",rarr:"→",rArr:"⇒",rceil:"⌉",rdquo:"”",real:"ℜ",reg:"®",rfloor:"⌋",Rho:"Ρ",rho:"ρ",rlm:"‏",rsaquo:"›",rsquo:"’",sbquo:"‚",Scaron:"Š",scaron:"š",sdot:"⋅",sect:"§",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sim:"∼",spades:"♠",sub:"⊂",sube:"⊆",sum:"∑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supe:"⊇",szlig:"ß",Tau:"Τ",tau:"τ",there4:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thinsp:" ",THORN:"Þ",thorn:"þ",tilde:"˜",times:"×",trade:"™",Uacute:"Ú",uacute:"ú",uarr:"↑",uArr:"⇑",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",Uuml:"Ü",uuml:"ü",weierp:"℘",Xi:"Ξ",xi:"ξ",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ",Yuml:"Ÿ",Zeta:"Ζ",zeta:"ζ",zwj:"‍",zwnj:"‌"},function(e){e[e.RAW_TEXT=0]="RAW_TEXT",e[e.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",e[e.PARSABLE_DATA=2]="PARSABLE_DATA"}(t.HtmlTagContentType||(t.HtmlTagContentType={}));var n=t.HtmlTagContentType,s=function(){function HtmlTagDefinition(e){var t=this,i=void 0===e?{}:e,s=i.closedByChildren,o=i.requiredParents,a=i.implicitNamespacePrefix,p=i.contentType,l=i.closedByParent,u=i.isVoid,c=i.ignoreFirstLf;this.closedByChildren={},this.closedByParent=!1,r.isPresent(s)&&s.length>0&&s.forEach(function(e){return t.closedByChildren[e]=!0}),this.isVoid=r.normalizeBool(u),this.closedByParent=r.normalizeBool(l)||this.isVoid,r.isPresent(o)&&o.length>0&&(this.requiredParents={},this.parentToAdd=o[0],o.forEach(function(e){return t.requiredParents[e]=!0})),this.implicitNamespacePrefix=a,this.contentType=r.isPresent(p)?p:n.PARSABLE_DATA,this.ignoreFirstLf=r.normalizeBool(c)}return HtmlTagDefinition.prototype.requireExtraParent=function(e){if(r.isBlank(this.requiredParents))return!1;if(r.isBlank(e))return!0;var t=e.toLowerCase();return 1!=this.requiredParents[t]&&"template"!=t},HtmlTagDefinition.prototype.isClosedByChild=function(e){return this.isVoid||r.normalizeBool(this.closedByChildren[e.toLowerCase()])},HtmlTagDefinition}();t.HtmlTagDefinition=s;var o={base:new s({isVoid:!0}),meta:new s({isVoid:!0}),area:new s({isVoid:!0}),embed:new s({isVoid:!0}),link:new s({isVoid:!0}),img:new s({isVoid:!0}),input:new s({isVoid:!0}),param:new s({isVoid:!0}),hr:new s({isVoid:!0}),br:new s({isVoid:!0}),source:new s({isVoid:!0}),track:new s({isVoid:!0}),wbr:new s({isVoid:!0}),p:new s({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new s({closedByChildren:["tbody","tfoot"]}),tbody:new s({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new s({closedByChildren:["tbody"],closedByParent:!0}),tr:new s({closedByChildren:["tr"],requiredParents:["tbody","tfoot","thead"],closedByParent:!0}),td:new s({closedByChildren:["td","th"],closedByParent:!0}),th:new s({closedByChildren:["td","th"],closedByParent:!0}),col:new s({requiredParents:["colgroup"],isVoid:!0}),svg:new s({implicitNamespacePrefix:"svg"}),math:new s({implicitNamespacePrefix:"math"}),li:new s({closedByChildren:["li"],closedByParent:!0}),dt:new s({closedByChildren:["dt","dd"]}),dd:new s({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new s({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new s({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new s({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new s({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new s({closedByChildren:["optgroup"],closedByParent:!0}),option:new s({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new s({ignoreFirstLf:!0}),listing:new s({ignoreFirstLf:!0}),style:new s({contentType:n.RAW_TEXT}),script:new s({contentType:n.RAW_TEXT}),title:new s({contentType:n.ESCAPABLE_RAW_TEXT}),textarea:new s({contentType:n.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})},a=new s;t.getHtmlTagDefinition=getHtmlTagDefinition;var p=/^:([^:]+):(.+)/g;t.splitNsName=splitNsName,t.getNsPrefix=getNsPrefix,t.mergeNsAndName=mergeNsAndName},131:function(e,t){"use strict";t.DEFAULT_INTERPOLATION_CONFIG={start:"{{",end:"}}"}},132:function(e,t,i){"use strict";function escapeSingleQuoteString(e,t){if(n.isBlank(e))return null;var i=n.StringWrapper.replaceAllMapped(e,o,function(e){return"$"==e[0]?t?"\\$":"$":"\n"==e[0]?"\\n":"\r"==e[0]?"\\r":"\\"+e[0]});return"'"+i+"'"}function _createIndent(e){for(var t="",i=0;i<e;i++)t+="  ";return t}var r=i(15),n=i(5),s=i(19),o=/'|\\|\n|\r|\$/g;t.CATCH_ERROR_VAR=s.variable("error"),t.CATCH_STACK_VAR=s.variable("stack");var a=function(){function OutputEmitter(){}return OutputEmitter}();t.OutputEmitter=a;var p=function(){function _EmittedLine(e){this.indent=e,this.parts=[]}return _EmittedLine}(),l=function(){function EmitterVisitorContext(e,t){this._exportedVars=e,this._indent=t,this._classes=[],this._lines=[new p(t)]}return EmitterVisitorContext.createRoot=function(e){return new EmitterVisitorContext(e,0)},Object.defineProperty(EmitterVisitorContext.prototype,"_currentLine",{get:function(){return this._lines[this._lines.length-1]},enumerable:!0,configurable:!0}),EmitterVisitorContext.prototype.isExportedVar=function(e){return this._exportedVars.indexOf(e)!==-1},EmitterVisitorContext.prototype.println=function(e){void 0===e&&(e=""),this.print(e,!0)},EmitterVisitorContext.prototype.lineIsEmpty=function(){return 0===this._currentLine.parts.length},EmitterVisitorContext.prototype.print=function(e,t){void 0===t&&(t=!1),e.length>0&&this._currentLine.parts.push(e),t&&this._lines.push(new p(this._indent))},EmitterVisitorContext.prototype.removeEmptyLastLine=function(){this.lineIsEmpty()&&this._lines.pop()},EmitterVisitorContext.prototype.incIndent=function(){this._indent++,this._currentLine.indent=this._indent},EmitterVisitorContext.prototype.decIndent=function(){this._indent--,this._currentLine.indent=this._indent},EmitterVisitorContext.prototype.pushClass=function(e){this._classes.push(e)},EmitterVisitorContext.prototype.popClass=function(){return this._classes.pop()},Object.defineProperty(EmitterVisitorContext.prototype,"currentClass",{get:function(){return this._classes.length>0?this._classes[this._classes.length-1]:null},enumerable:!0,configurable:!0}),EmitterVisitorContext.prototype.toSource=function(){var e=this._lines;return 0===e[e.length-1].parts.length&&(e=e.slice(0,e.length-1)),e.map(function(e){return e.parts.length>0?_createIndent(e.indent)+e.parts.join(""):""}).join("\n")},EmitterVisitorContext}();t.EmitterVisitorContext=l;var u=function(){function AbstractEmitterVisitor(e){this._escapeDollarInStrings=e}return AbstractEmitterVisitor.prototype.visitExpressionStmt=function(e,t){return e.expr.visitExpression(this,t),t.println(";"),null},AbstractEmitterVisitor.prototype.visitReturnStmt=function(e,t){return t.print("return "),e.value.visitExpression(this,t),t.println(";"),null},AbstractEmitterVisitor.prototype.visitIfStmt=function(e,t){t.print("if ("),e.condition.visitExpression(this,t),t.print(") {");var i=n.isPresent(e.falseCase)&&e.falseCase.length>0;return e.trueCase.length<=1&&!i?(t.print(" "),this.visitAllStatements(e.trueCase,t),t.removeEmptyLastLine(),t.print(" ")):(t.println(),t.incIndent(),this.visitAllStatements(e.trueCase,t),t.decIndent(),i&&(t.println("} else {"),t.incIndent(),this.visitAllStatements(e.falseCase,t),t.decIndent())),t.println("}"),null},AbstractEmitterVisitor.prototype.visitThrowStmt=function(e,t){return t.print("throw "),e.error.visitExpression(this,t),t.println(";"),null},AbstractEmitterVisitor.prototype.visitCommentStmt=function(e,t){var i=e.comment.split("\n");return i.forEach(function(e){t.println("// "+e)}),null},AbstractEmitterVisitor.prototype.visitWriteVarExpr=function(e,t){var i=t.lineIsEmpty();return i||t.print("("),t.print(e.name+" = "),e.value.visitExpression(this,t),i||t.print(")"),null},AbstractEmitterVisitor.prototype.visitWriteKeyExpr=function(e,t){var i=t.lineIsEmpty();return i||t.print("("),e.receiver.visitExpression(this,t),t.print("["),e.index.visitExpression(this,t),t.print("] = "),e.value.visitExpression(this,t),i||t.print(")"),null},AbstractEmitterVisitor.prototype.visitWritePropExpr=function(e,t){var i=t.lineIsEmpty();return i||t.print("("),e.receiver.visitExpression(this,t),t.print("."+e.name+" = "),e.value.visitExpression(this,t),i||t.print(")"),null},AbstractEmitterVisitor.prototype.visitInvokeMethodExpr=function(e,t){e.receiver.visitExpression(this,t);var i=e.name;return n.isPresent(e.builtin)&&(i=this.getBuiltinMethodName(e.builtin),n.isBlank(i))?null:(t.print("."+i+"("),this.visitAllExpressions(e.args,t,","),t.print(")"),null)},AbstractEmitterVisitor.prototype.visitInvokeFunctionExpr=function(e,t){return e.fn.visitExpression(this,t),t.print("("),this.visitAllExpressions(e.args,t,","),t.print(")"),null},AbstractEmitterVisitor.prototype.visitReadVarExpr=function(e,i){var o=e.name;if(n.isPresent(e.builtin))switch(e.builtin){case s.BuiltinVar.Super:o="super";break;case s.BuiltinVar.This:o="this";break;case s.BuiltinVar.CatchError:o=t.CATCH_ERROR_VAR.name;break;case s.BuiltinVar.CatchStack:o=t.CATCH_STACK_VAR.name;break;default:throw new r.BaseException("Unknown builtin variable "+e.builtin)}return i.print(o),null},AbstractEmitterVisitor.prototype.visitInstantiateExpr=function(e,t){return t.print("new "),e.classExpr.visitExpression(this,t),t.print("("),this.visitAllExpressions(e.args,t,","),t.print(")"),null},AbstractEmitterVisitor.prototype.visitLiteralExpr=function(e,t){var i=e.value;return n.isString(i)?t.print(escapeSingleQuoteString(i,this._escapeDollarInStrings)):n.isBlank(i)?t.print("null"):t.print(""+i),null},AbstractEmitterVisitor.prototype.visitConditionalExpr=function(e,t){return t.print("("),e.condition.visitExpression(this,t),t.print("? "),e.trueCase.visitExpression(this,t),t.print(": "),e.falseCase.visitExpression(this,t),t.print(")"),null},AbstractEmitterVisitor.prototype.visitNotExpr=function(e,t){return t.print("!"),e.condition.visitExpression(this,t),null},AbstractEmitterVisitor.prototype.visitBinaryOperatorExpr=function(e,t){var i;switch(e.operator){case s.BinaryOperator.Equals:i="==";break;case s.BinaryOperator.Identical:i="===";break;case s.BinaryOperator.NotEquals:i="!=";break;case s.BinaryOperator.NotIdentical:i="!==";break;case s.BinaryOperator.And:i="&&";break;case s.BinaryOperator.Or:i="||";break;case s.BinaryOperator.Plus:i="+";break;case s.BinaryOperator.Minus:i="-";break;case s.BinaryOperator.Divide:i="/";break;case s.BinaryOperator.Multiply:i="*";break;case s.BinaryOperator.Modulo:i="%";break;case s.BinaryOperator.Lower:i="<";break;case s.BinaryOperator.LowerEquals:i="<=";break;case s.BinaryOperator.Bigger:i=">";break;case s.BinaryOperator.BiggerEquals:i=">=";break;default:throw new r.BaseException("Unknown operator "+e.operator)}return t.print("("),e.lhs.visitExpression(this,t),t.print(" "+i+" "),e.rhs.visitExpression(this,t),t.print(")"),null},AbstractEmitterVisitor.prototype.visitReadPropExpr=function(e,t){return e.receiver.visitExpression(this,t),t.print("."),t.print(e.name),null},AbstractEmitterVisitor.prototype.visitReadKeyExpr=function(e,t){return e.receiver.visitExpression(this,t),t.print("["),e.index.visitExpression(this,t),t.print("]"),null},AbstractEmitterVisitor.prototype.visitLiteralArrayExpr=function(e,t){var i=e.entries.length>1;return t.print("[",i),t.incIndent(),this.visitAllExpressions(e.entries,t,",",i),t.decIndent(),t.print("]",i),null},AbstractEmitterVisitor.prototype.visitLiteralMapExpr=function(e,t){var i=this,r=e.entries.length>1;return t.print("{",r),t.incIndent(),this.visitAllObjects(function(e){t.print(escapeSingleQuoteString(e[0],i._escapeDollarInStrings)+": "),e[1].visitExpression(i,t)},e.entries,t,",",r),t.decIndent(),t.print("}",r),null},AbstractEmitterVisitor.prototype.visitAllExpressions=function(e,t,i,r){var n=this;void 0===r&&(r=!1),this.visitAllObjects(function(e){return e.visitExpression(n,t)},e,t,i,r)},AbstractEmitterVisitor.prototype.visitAllObjects=function(e,t,i,r,n){void 0===n&&(n=!1);for(var s=0;s<t.length;s++)s>0&&i.print(r,n),e(t[s]);n&&i.println()},AbstractEmitterVisitor.prototype.visitAllStatements=function(e,t){var i=this;e.forEach(function(e){return e.visitStatement(i,t)})},AbstractEmitterVisitor}();t.AbstractEmitterVisitor=u,t.escapeSingleQuoteString=escapeSingleQuoteString},133:function(e,t){"use strict";var i=function(){function ElementSchemaRegistry(){}return ElementSchemaRegistry}();t.ElementSchemaRegistry=i},134:function(e,t,i){"use strict";function splitClasses(e){return a.StringWrapper.split(e.trim(),/\s+/g)}function createElementCssSelector(e,t){var i=new f.CssSelector,r=h.splitNsName(e)[1];i.setElement(r);for(var n=0;n<t.length;n++){var s=t[n][0],o=h.splitNsName(s)[1],a=t[n][1];if(i.addAttribute(o,a),s.toLowerCase()==x){var p=splitClasses(a);p.forEach(function(e){return i.addClassName(e)})}}return i}function removeDuplicates(e){var t=[];return e.forEach(function(e){var i=t.filter(function(t){return t.type.name==e.type.name&&t.type.moduleUrl==e.type.moduleUrl&&t.type.runtime==e.type.runtime}).length>0;i||t.push(e)}),t}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=i(0),s=i(23),o=i(12),a=i(5),p=i(15),l=i(336),u=i(205),c=i(81),h=i(130),m=i(57),d=i(58),f=i(209),v=i(133),y=i(344),_=i(343),E=i(56),g=i(59),C=i(32),S=i(598),A=/^(?:(?:(?:(bind-)|(var-)|(let-)|(ref-|#)|(on-)|(bindon-)|(animate-|@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/g,T="template",P="template",w="*",x="class",M=".",I="attr",b="class",R="style",V=f.CssSelector.parse("*")[0];t.TEMPLATE_TRANSFORMS=new n.OpaqueToken("TemplateTransforms");var k=function(e){function TemplateParseError(t,i,r){e.call(this,i,t,r)}return r(TemplateParseError,e),TemplateParseError}(m.ParseError);t.TemplateParseError=k;var N=function(){function TemplateParseResult(e,t){this.templateAst=e,this.errors=t}return TemplateParseResult}();t.TemplateParseResult=N;var D=function(){function TemplateParser(e,t,i,r,n){this._exprParser=e,this._schemaRegistry=t,this._htmlParser=i,this._console=r,this.transforms=n}return TemplateParser.prototype.parse=function(e,t,i,r,n){var s=this.tryParse(e,t,i,r,n),o=s.errors.filter(function(e){return e.level===m.ParseErrorLevel.WARNING}),a=s.errors.filter(function(e){return e.level===m.ParseErrorLevel.FATAL});if(o.length>0&&this._console.warn("Template parse warnings:\n"+o.join("\n")),a.length>0){var l=a.join("\n");throw new p.BaseException("Template parse errors:\n"+l)}return s.templateAst},TemplateParser.prototype.tryParse=function(e,t,i,r,n){var s,o=this._htmlParser.parse(t,n),p=o.errors;if(o.rootNodes.length>0){var l=removeDuplicates(i),u=removeDuplicates(r),c=new S.ProviderViewContext(e,o.rootNodes[0].sourceSpan),h=new O(c,l,u,this._exprParser,this._schemaRegistry);s=E.htmlVisitAll(h,o.rootNodes,H),p=p.concat(h.errors).concat(c.errors)}else s=[];return this._assertNoReferenceDuplicationOnTemplate(s,p),p.length>0?new N(s,p):(a.isPresent(this.transforms)&&this.transforms.forEach(function(e){s=d.templateVisitAll(e,s)}),new N(s,p))},TemplateParser.prototype._assertNoReferenceDuplicationOnTemplate=function(e,t){var i=[];e.filter(function(e){return!!e.references}).forEach(function(e){return e.references.forEach(function(e){var r=e.name;if(i.indexOf(r)<0)i.push(r);else{var n=new k('Reference "#'+r+'" is defined several times',e.sourceSpan,m.ParseErrorLevel.FATAL);t.push(n)}})})},TemplateParser.decorators=[{type:n.Injectable}],TemplateParser.ctorParameters=[{type:u.Parser},{type:v.ElementSchemaRegistry},{type:c.HtmlParser},{type:s.Console},{type:Array,decorators:[{type:n.Optional},{type:n.Inject,args:[t.TEMPLATE_TRANSFORMS]}]}],TemplateParser}();t.TemplateParser=D;var O=function(){function TemplateParseVisitor(e,t,i,r,n){var s=this;this.providerViewContext=e,this._exprParser=r,this._schemaRegistry=n,this.errors=[],this.directivesIndex=new Map,this.ngContentCount=0,this.selectorMatcher=new f.SelectorMatcher;var p=e.component.template;a.isPresent(p)&&a.isPresent(p.interpolation)&&(this._interpolationConfig={start:p.interpolation[0],end:p.interpolation[1]}),o.ListWrapper.forEachWithIndex(t,function(e,t){var i=f.CssSelector.parse(e.selector);s.selectorMatcher.addSelectables(i,e),s.directivesIndex.set(e,t)}),this.pipesByName=new Map,i.forEach(function(e){return s.pipesByName.set(e.name,e)})}return TemplateParseVisitor.prototype._reportError=function(e,t,i){void 0===i&&(i=m.ParseErrorLevel.FATAL),this.errors.push(new k(e,t,i))},TemplateParseVisitor.prototype._parseInterpolation=function(e,t){var i=t.start.toString();try{var r=this._exprParser.parseInterpolation(e,i,this._interpolationConfig);if(this._checkPipes(r,t),a.isPresent(r)&&r.ast.expressions.length>s.MAX_INTERPOLATION_VALUES)throw new p.BaseException("Only support at most "+s.MAX_INTERPOLATION_VALUES+" interpolation values!");return r}catch(n){return this._reportError(""+n,t),this._exprParser.wrapLiteralPrimitive("ERROR",i)}},TemplateParseVisitor.prototype._parseAction=function(e,t){var i=t.start.toString();try{var r=this._exprParser.parseAction(e,i,this._interpolationConfig);return this._checkPipes(r,t),r}catch(n){return this._reportError(""+n,t),this._exprParser.wrapLiteralPrimitive("ERROR",i)}},TemplateParseVisitor.prototype._parseBinding=function(e,t){var i=t.start.toString();try{var r=this._exprParser.parseBinding(e,i,this._interpolationConfig);return this._checkPipes(r,t),r}catch(n){return this._reportError(""+n,t),this._exprParser.wrapLiteralPrimitive("ERROR",i)}},TemplateParseVisitor.prototype._parseTemplateBindings=function(e,t){var i=this,r=t.start.toString();try{var n=this._exprParser.parseTemplateBindings(e,r);return n.templateBindings.forEach(function(e){a.isPresent(e.expression)&&i._checkPipes(e.expression,t)}),n.warnings.forEach(function(e){i._reportError(e,t,m.ParseErrorLevel.WARNING)}),n.templateBindings}catch(s){return this._reportError(""+s,t),[]}},TemplateParseVisitor.prototype._checkPipes=function(e,t){var i=this;if(a.isPresent(e)){var r=new z;e.visit(r),r.pipes.forEach(function(e){i.pipesByName.has(e)||i._reportError("The pipe '"+e+"' could not be found",t)})}},TemplateParseVisitor.prototype.visitExpansion=function(e,t){return null},TemplateParseVisitor.prototype.visitExpansionCase=function(e,t){return null},TemplateParseVisitor.prototype.visitText=function(e,t){var i=t.findNgContentIndex(V),r=this._parseInterpolation(e.value,e.sourceSpan);return a.isPresent(r)?new d.BoundTextAst(r,i,e.sourceSpan):new d.TextAst(e.value,i,e.sourceSpan)},TemplateParseVisitor.prototype.visitAttr=function(e,t){return new d.AttrAst(e.name,e.value,e.sourceSpan)},TemplateParseVisitor.prototype.visitComment=function(e,t){return null},TemplateParseVisitor.prototype.visitElement=function(e,t){var i=this,r=e.name,n=y.preparseElement(e);if(n.type===y.PreparsedElementType.SCRIPT||n.type===y.PreparsedElementType.STYLE)return null;if(n.type===y.PreparsedElementType.STYLESHEET&&_.isStyleUrlResolvable(n.hrefAttr))return null;var s=[],o=[],p=[],l=[],u=[],c=[],m=[],v=[],g=[],C=!1,A=[],P=h.splitNsName(r.toLowerCase())[1],w=P==T;e.attrs.forEach(function(e){var t=i._parseAttr(w,e,s,o,u,c,p,l),r=i._parseInlineTemplateBinding(e,v,m,g);r&&C&&i._reportError("Can't have multiple template bindings on one element. Use only one attribute named 'template' or prefixed with *",e.sourceSpan),t||r||(A.push(i.visitAttr(e,null)),s.push([e.name,e.value])),r&&(C=!0)});var x=createElementCssSelector(r,s),M=this._parseDirectives(this.selectorMatcher,x),I=[],b=this._createDirectiveAsts(w,e.name,M,o,p,e.sourceSpan,I),R=this._createElementPropertyAsts(e.name,o,b).concat(u),V=t.isTemplateElement||C,k=new S.ProviderElementContext(this.providerViewContext,t.providerContext,V,b,A,I,e.sourceSpan),N=E.htmlVisitAll(n.nonBindable?W:this,e.children,U.create(w,b,w?t.providerContext:k));k.afterElement();var D,O=a.isPresent(n.projectAs)?f.CssSelector.parse(n.projectAs)[0]:x,B=t.findNgContentIndex(O);if(n.type===y.PreparsedElementType.NG_CONTENT)a.isPresent(e.children)&&e.children.length>0&&this._reportError("<ng-content> element cannot have content. <ng-content> must be immediately followed by </ng-content>",e.sourceSpan),D=new d.NgContentAst((this.ngContentCount++),C?null:B,e.sourceSpan);else if(w)this._assertAllEventsPublishedByDirectives(b,c),this._assertNoComponentsNorElementBindingsOnTemplate(b,R,e.sourceSpan),D=new d.EmbeddedTemplateAst(A,c,I,l,k.transformedDirectiveAsts,k.transformProviders,k.transformedHasViewContainer,N,C?null:B,e.sourceSpan);else{this._assertOnlyOneComponent(b,e.sourceSpan);var L=C?null:t.findNgContentIndex(O);D=new d.ElementAst(r,A,R,c,I,k.transformedDirectiveAsts,k.transformProviders,k.transformedHasViewContainer,N,C?null:L,e.sourceSpan)}if(C){var F=createElementCssSelector(T,v),H=this._parseDirectives(this.selectorMatcher,F),z=this._createDirectiveAsts(!0,e.name,H,m,[],e.sourceSpan,[]),$=this._createElementPropertyAsts(e.name,m,z);this._assertNoComponentsNorElementBindingsOnTemplate(z,$,e.sourceSpan);var j=new S.ProviderElementContext(this.providerViewContext,t.providerContext,t.isTemplateElement,z,[],[],e.sourceSpan);j.afterElement(),D=new d.EmbeddedTemplateAst([],[],[],g,j.transformedDirectiveAsts,j.transformProviders,j.transformedHasViewContainer,[D],B,e.sourceSpan)}return D},TemplateParseVisitor.prototype._parseInlineTemplateBinding=function(e,t,i,r){var n=null;if(e.name==P)n=e.value;else if(e.name.startsWith(w)){var s=e.name.substring(w.length);n=0==e.value.length?s:s+" "+e.value}if(a.isPresent(n)){for(var o=this._parseTemplateBindings(n,e.sourceSpan),p=0;p<o.length;p++){var l=o[p];l.keyIsVar?r.push(new d.VariableAst(l.key,l.name,e.sourceSpan)):a.isPresent(l.expression)?this._parsePropertyAst(l.key,l.expression,e.sourceSpan,t,i):(t.push([l.key,""]),this._parseLiteralAttr(l.key,null,e.sourceSpan,i))}return!0}return!1},TemplateParseVisitor.prototype._parseAttr=function(e,t,i,r,n,s,o,p){var l=this._normalizeAttributeName(t.name),u=t.value,c=a.RegExpWrapper.firstMatch(A,l),h=!1;if(a.isPresent(c))if(h=!0,a.isPresent(c[1]))this._parseProperty(c[8],u,t.sourceSpan,i,r);else if(a.isPresent(c[2])){var d=c[8];e?(this._reportError('"var-" on <template> elements is deprecated. Use "let-" instead!',t.sourceSpan,m.ParseErrorLevel.WARNING),this._parseVariable(d,u,t.sourceSpan,p)):(this._reportError('"var-" on non <template> elements is deprecated. Use "ref-" instead!',t.sourceSpan,m.ParseErrorLevel.WARNING),this._parseReference(d,u,t.sourceSpan,o))}else if(a.isPresent(c[3]))if(e){var d=c[8];this._parseVariable(d,u,t.sourceSpan,p)}else this._reportError('"let-" is only supported on template elements.',t.sourceSpan);else if(a.isPresent(c[4])){var d=c[8];this._parseReference(d,u,t.sourceSpan,o)}else a.isPresent(c[5])?this._parseEvent(c[8],u,t.sourceSpan,i,s):a.isPresent(c[6])?(this._parseProperty(c[8],u,t.sourceSpan,i,r),this._parseAssignmentEvent(c[8],u,t.sourceSpan,i,s)):a.isPresent(c[7])?this._parseAnimation(c[8],u,t.sourceSpan,i,n):a.isPresent(c[9])?(this._parseProperty(c[9],u,t.sourceSpan,i,r),this._parseAssignmentEvent(c[9],u,t.sourceSpan,i,s)):a.isPresent(c[10])?this._parseProperty(c[10],u,t.sourceSpan,i,r):a.isPresent(c[11])&&this._parseEvent(c[11],u,t.sourceSpan,i,s);else h=this._parsePropertyInterpolation(l,u,t.sourceSpan,i,r);return h||this._parseLiteralAttr(l,u,t.sourceSpan,r),h},TemplateParseVisitor.prototype._normalizeAttributeName=function(e){return e.toLowerCase().startsWith("data-")?e.substring(5):e},TemplateParseVisitor.prototype._parseVariable=function(e,t,i,r){e.indexOf("-")>-1&&this._reportError('"-" is not allowed in variable names',i),r.push(new d.VariableAst(e,t,i))},TemplateParseVisitor.prototype._parseReference=function(e,t,i,r){e.indexOf("-")>-1&&this._reportError('"-" is not allowed in reference names',i),r.push(new F(e,t,i))},TemplateParseVisitor.prototype._parseProperty=function(e,t,i,r,n){this._parsePropertyAst(e,this._parseBinding(t,i),i,r,n)},TemplateParseVisitor.prototype._parseAnimation=function(e,t,i,r,n){a.isPresent(t)&&0!=t.length||(t="null");var o=this._parseBinding(t,i);r.push([e,o.source]),n.push(new d.BoundElementPropertyAst(e,d.PropertyBindingType.Animation,s.SecurityContext.NONE,o,null,i))},TemplateParseVisitor.prototype._parsePropertyInterpolation=function(e,t,i,r,n){var s=this._parseInterpolation(t,i);return!!a.isPresent(s)&&(this._parsePropertyAst(e,s,i,r,n),!0)},TemplateParseVisitor.prototype._parsePropertyAst=function(e,t,i,r,n){r.push([e,t.source]),n.push(new L(e,t,(!1),i))},TemplateParseVisitor.prototype._parseAssignmentEvent=function(e,t,i,r,n){this._parseEvent(e+"Change",t+"=$event",i,r,n)},TemplateParseVisitor.prototype._parseEvent=function(e,t,i,r,n){var s=g.splitAtColon(e,[null,e]),o=s[0],a=s[1],p=this._parseAction(t,i);r.push([e,p.source]),n.push(new d.BoundEventAst(a,o,p,i))},TemplateParseVisitor.prototype._parseLiteralAttr=function(e,t,i,r){r.push(new L(e,this._exprParser.wrapLiteralPrimitive(t,""),(!0),i))},TemplateParseVisitor.prototype._parseDirectives=function(e,t){var i=this,r=o.ListWrapper.createFixedSize(this.directivesIndex.size);return e.match(t,function(e,t){r[i.directivesIndex.get(t)]=t}),r.filter(function(e){return a.isPresent(e)})},TemplateParseVisitor.prototype._createDirectiveAsts=function(e,t,i,r,n,s,p){var l=this,u=new Set,c=null,h=i.map(function(e){e.isComponent&&(c=e);var i=[],o=[],a=[];return l._createDirectiveHostPropertyAsts(t,e.hostProperties,s,i),l._createDirectiveHostEventAsts(e.hostListeners,s,o),l._createDirectivePropertyAsts(e.inputs,r,a),n.forEach(function(t){(0===t.value.length&&e.isComponent||e.exportAs==t.value)&&(p.push(new d.ReferenceAst(t.name,C.identifierToken(e.type),t.sourceSpan)),u.add(t.name))}),new d.DirectiveAst(e,a,i,o,s)});return n.forEach(function(t){if(t.value.length>0)o.SetWrapper.has(u,t.name)||l._reportError('There is no directive with "exportAs" set to "'+t.value+'"',t.sourceSpan);else if(a.isBlank(c)){var i=null;e&&(i=C.identifierToken(C.Identifiers.TemplateRef)),p.push(new d.ReferenceAst(t.name,i,t.sourceSpan))}}),h},TemplateParseVisitor.prototype._createDirectiveHostPropertyAsts=function(e,t,i,r){var n=this;a.isPresent(t)&&o.StringMapWrapper.forEach(t,function(t,s){var o=n._parseBinding(t,i);r.push(n._createElementPropertyAst(e,s,o,i))})},TemplateParseVisitor.prototype._createDirectiveHostEventAsts=function(e,t,i){var r=this;a.isPresent(e)&&o.StringMapWrapper.forEach(e,function(e,n){r._parseEvent(n,e,t,[],i)})},TemplateParseVisitor.prototype._createDirectivePropertyAsts=function(e,t,i){if(a.isPresent(e)){var r=new Map;t.forEach(function(e){var t=r.get(e.name);(a.isBlank(t)||t.isLiteral)&&r.set(e.name,e)}),o.StringMapWrapper.forEach(e,function(e,t){var n=r.get(e);a.isPresent(n)&&i.push(new d.BoundDirectivePropertyAst(t,n.name,n.expression,n.sourceSpan))})}},TemplateParseVisitor.prototype._createElementPropertyAsts=function(e,t,i){var r=this,n=[],s=new Map;return i.forEach(function(e){e.inputs.forEach(function(e){s.set(e.templateName,e)})}),t.forEach(function(t){!t.isLiteral&&a.isBlank(s.get(t.name))&&n.push(r._createElementPropertyAst(e,t.name,t.expression,t.sourceSpan))}),n},TemplateParseVisitor.prototype._createElementPropertyAst=function(e,t,i,r){var n,o,a,p=null,l=t.split(M);if(1===l.length)o=this._schemaRegistry.getMappedPropName(l[0]),a=this._schemaRegistry.securityContext(e,o),n=d.PropertyBindingType.Property,this._schemaRegistry.hasProperty(e,o)||this._reportError("Can't bind to '"+o+"' since it isn't a known native property",r);else if(l[0]==I){o=l[1],o.toLowerCase().startsWith("on")&&this._reportError("Binding to event attribute '"+o+"' is disallowed "+("for security reasons, please use ("+o.slice(2)+")=..."),r),a=this._schemaRegistry.securityContext(e,this._schemaRegistry.getMappedPropName(o));var u=o.indexOf(":");if(u>-1){var c=o.substring(0,u),m=o.substring(u+1);o=h.mergeNsAndName(c,m)}n=d.PropertyBindingType.Attribute;
}else l[0]==b?(o=l[1],n=d.PropertyBindingType.Class,a=s.SecurityContext.NONE):l[0]==R?(p=l.length>2?l[2]:null,o=l[1],n=d.PropertyBindingType.Style,a=s.SecurityContext.STYLE):(this._reportError("Invalid property name '"+t+"'",r),n=null,a=null);return new d.BoundElementPropertyAst(o,n,a,i,p,r)},TemplateParseVisitor.prototype._findComponentDirectiveNames=function(e){var t=[];return e.forEach(function(e){var i=e.directive.type.name;e.directive.isComponent&&t.push(i)}),t},TemplateParseVisitor.prototype._assertOnlyOneComponent=function(e,t){var i=this._findComponentDirectiveNames(e);i.length>1&&this._reportError("More than one component: "+i.join(","),t)},TemplateParseVisitor.prototype._assertNoComponentsNorElementBindingsOnTemplate=function(e,t,i){var r=this,n=this._findComponentDirectiveNames(e);n.length>0&&this._reportError("Components on an embedded template: "+n.join(","),i),t.forEach(function(e){r._reportError("Property binding "+e.name+' not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the "directives" section.',i)})},TemplateParseVisitor.prototype._assertAllEventsPublishedByDirectives=function(e,t){var i=this,r=new Set;e.forEach(function(e){o.StringMapWrapper.forEach(e.directive.outputs,function(e){r.add(e)})}),t.forEach(function(e){!a.isPresent(e.target)&&o.SetWrapper.has(r,e.name)||i._reportError("Event binding "+e.fullName+' not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the "directives" section.',e.sourceSpan)})},TemplateParseVisitor}(),B=function(){function NonBindableVisitor(){}return NonBindableVisitor.prototype.visitElement=function(e,t){var i=y.preparseElement(e);if(i.type===y.PreparsedElementType.SCRIPT||i.type===y.PreparsedElementType.STYLE||i.type===y.PreparsedElementType.STYLESHEET)return null;var r=e.attrs.map(function(e){return[e.name,e.value]}),n=createElementCssSelector(e.name,r),s=t.findNgContentIndex(n),o=E.htmlVisitAll(this,e.children,H);return new d.ElementAst(e.name,E.htmlVisitAll(this,e.attrs),[],[],[],[],[],(!1),o,s,e.sourceSpan)},NonBindableVisitor.prototype.visitComment=function(e,t){return null},NonBindableVisitor.prototype.visitAttr=function(e,t){return new d.AttrAst(e.name,e.value,e.sourceSpan)},NonBindableVisitor.prototype.visitText=function(e,t){var i=t.findNgContentIndex(V);return new d.TextAst(e.value,i,e.sourceSpan)},NonBindableVisitor.prototype.visitExpansion=function(e,t){return e},NonBindableVisitor.prototype.visitExpansionCase=function(e,t){return e},NonBindableVisitor}(),L=function(){function BoundElementOrDirectiveProperty(e,t,i,r){this.name=e,this.expression=t,this.isLiteral=i,this.sourceSpan=r}return BoundElementOrDirectiveProperty}(),F=function(){function ElementOrDirectiveRef(e,t,i){this.name=e,this.value=t,this.sourceSpan=i}return ElementOrDirectiveRef}();t.splitClasses=splitClasses;var U=function(){function ElementContext(e,t,i,r){this.isTemplateElement=e,this._ngContentIndexMatcher=t,this._wildcardNgContentIndex=i,this.providerContext=r}return ElementContext.create=function(e,t,i){var r=new f.SelectorMatcher,n=null,s=t.find(function(e){return e.directive.isComponent});if(a.isPresent(s))for(var o=s.directive.template.ngContentSelectors,p=0;p<o.length;p++){var l=o[p];a.StringWrapper.equals(l,"*")?n=p:r.addSelectables(f.CssSelector.parse(o[p]),p)}return new ElementContext(e,r,n,i)},ElementContext.prototype.findNgContentIndex=function(e){var t=[];return this._ngContentIndexMatcher.match(e,function(e,i){t.push(i)}),o.ListWrapper.sort(t),a.isPresent(this._wildcardNgContentIndex)&&t.push(this._wildcardNgContentIndex),t.length>0?t[0]:null},ElementContext}(),H=new U((!0),new f.SelectorMatcher,null,null),W=new B,z=function(e){function PipeCollector(){e.apply(this,arguments),this.pipes=new Set}return r(PipeCollector,e),PipeCollector.prototype.visitPipe=function(e,t){return this.pipes.add(e.name),e.exp.visit(this),this.visitAll(e.args,t),null},PipeCollector}(l.RecursiveAstVisitor);t.PipeCollector=z},135:function(e,t,i){"use strict";var r=i(0),n=i(335),s=i(80),o=i(346),a=i(348),p=i(605),l=i(350),u=i(350);t.ComponentFactoryDependency=u.ComponentFactoryDependency,t.ViewFactoryDependency=u.ViewFactoryDependency;var c=function(){function ViewCompileResult(e,t,i){this.statements=e,this.viewFactoryVar=t,this.dependencies=i}return ViewCompileResult}();t.ViewCompileResult=c;var h=function(){function ViewCompiler(e){this._genConfig=e,this._animationCompiler=new n.AnimationCompiler}return ViewCompiler.prototype.compileComponent=function(e,t,i,r){var n=[],s=this._animationCompiler.compileComponent(e),u=[];s.map(function(e){u.push(e.statesMapStatement),u.push(e.fnStatement)});var h=new a.CompileView(e,this._genConfig,r,i,s,0,o.CompileElement.createNull(),[]);return l.buildView(h,t,n),p.bindView(h,t),l.finishView(h,u),new c(u,h.viewFactory.name,n)},ViewCompiler.decorators=[{type:r.Injectable}],ViewCompiler.ctorParameters=[{type:s.CompilerConfig}],ViewCompiler}();t.ViewCompiler=h},15:[1032,338,339,339],19:function(e,t,i){"use strict";function replaceVarInExpression(e,t,i){var r=new K(e,t);return i.visitExpression(r,null)}function findReadVarNames(e){var t=new Q;return t.visitAllStatements(e,null),t.varNames}function variable(e,t){return void 0===t&&(t=null),new d(e,t)}function importExpr(e,t){return void 0===t&&(t=null),new S(e,null,t)}function importType(e,t,i){return void 0===t&&(t=null),void 0===i&&(i=null),n.isPresent(e)?new p(e,t,i):null}function literal(e,t){return void 0===t&&(t=null),new C(e,t)}function literalArr(e,t){return void 0===t&&(t=null),new R(e,t)}function literalMap(e,t){return void 0===t&&(t=null),new V(e,t)}function not(e){return new T(e)}function fn(e,t,i){return void 0===i&&(i=null),new x(e,t,i)}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=i(5);!function(e){e[e.Const=0]="Const"}(t.TypeModifier||(t.TypeModifier={}));var s=(t.TypeModifier,function(){function Type(e){void 0===e&&(e=null),this.modifiers=e,n.isBlank(e)&&(this.modifiers=[])}return Type.prototype.hasModifier=function(e){return this.modifiers.indexOf(e)!==-1},Type}());t.Type=s,function(e){e[e.Dynamic=0]="Dynamic",e[e.Bool=1]="Bool",e[e.String=2]="String",e[e.Int=3]="Int",e[e.Number=4]="Number",e[e.Function=5]="Function"}(t.BuiltinTypeName||(t.BuiltinTypeName={}));var o=t.BuiltinTypeName,a=function(e){function BuiltinType(t,i){void 0===i&&(i=null),e.call(this,i),this.name=t}return r(BuiltinType,e),BuiltinType.prototype.visitType=function(e,t){return e.visitBuiltintType(this,t)},BuiltinType}(s);t.BuiltinType=a;var p=function(e){function ExternalType(t,i,r){void 0===i&&(i=null),void 0===r&&(r=null),e.call(this,r),this.value=t,this.typeParams=i}return r(ExternalType,e),ExternalType.prototype.visitType=function(e,t){return e.visitExternalType(this,t)},ExternalType}(s);t.ExternalType=p;var l=function(e){function ArrayType(t,i){void 0===i&&(i=null),e.call(this,i),this.of=t}return r(ArrayType,e),ArrayType.prototype.visitType=function(e,t){return e.visitArrayType(this,t)},ArrayType}(s);t.ArrayType=l;var u=function(e){function MapType(t,i){void 0===i&&(i=null),e.call(this,i),this.valueType=t}return r(MapType,e),MapType.prototype.visitType=function(e,t){return e.visitMapType(this,t)},MapType}(s);t.MapType=u,t.DYNAMIC_TYPE=new a(o.Dynamic),t.BOOL_TYPE=new a(o.Bool),t.INT_TYPE=new a(o.Int),t.NUMBER_TYPE=new a(o.Number),t.STRING_TYPE=new a(o.String),t.FUNCTION_TYPE=new a(o.Function),function(e){e[e.Equals=0]="Equals",e[e.NotEquals=1]="NotEquals",e[e.Identical=2]="Identical",e[e.NotIdentical=3]="NotIdentical",e[e.Minus=4]="Minus",e[e.Plus=5]="Plus",e[e.Divide=6]="Divide",e[e.Multiply=7]="Multiply",e[e.Modulo=8]="Modulo",e[e.And=9]="And",e[e.Or=10]="Or",e[e.Lower=11]="Lower",e[e.LowerEquals=12]="LowerEquals",e[e.Bigger=13]="Bigger",e[e.BiggerEquals=14]="BiggerEquals"}(t.BinaryOperator||(t.BinaryOperator={}));var c=t.BinaryOperator,h=function(){function Expression(e){this.type=e}return Expression.prototype.prop=function(e){return new I(this,e)},Expression.prototype.key=function(e,t){return void 0===t&&(t=null),new b(this,e,t)},Expression.prototype.callMethod=function(e,t){return new _(this,e,t)},Expression.prototype.callFn=function(e){return new E(this,e)},Expression.prototype.instantiate=function(e,t){return void 0===t&&(t=null),new g(this,e,t)},Expression.prototype.conditional=function(e,t){return void 0===t&&(t=null),new A(this,e,t)},Expression.prototype.equals=function(e){return new M(c.Equals,this,e)},Expression.prototype.notEquals=function(e){return new M(c.NotEquals,this,e)},Expression.prototype.identical=function(e){return new M(c.Identical,this,e)},Expression.prototype.notIdentical=function(e){return new M(c.NotIdentical,this,e)},Expression.prototype.minus=function(e){return new M(c.Minus,this,e)},Expression.prototype.plus=function(e){return new M(c.Plus,this,e)},Expression.prototype.divide=function(e){return new M(c.Divide,this,e)},Expression.prototype.multiply=function(e){return new M(c.Multiply,this,e)},Expression.prototype.modulo=function(e){return new M(c.Modulo,this,e)},Expression.prototype.and=function(e){return new M(c.And,this,e)},Expression.prototype.or=function(e){return new M(c.Or,this,e)},Expression.prototype.lower=function(e){return new M(c.Lower,this,e)},Expression.prototype.lowerEquals=function(e){return new M(c.LowerEquals,this,e)},Expression.prototype.bigger=function(e){return new M(c.Bigger,this,e)},Expression.prototype.biggerEquals=function(e){return new M(c.BiggerEquals,this,e)},Expression.prototype.isBlank=function(){return this.equals(t.NULL_EXPR)},Expression.prototype.cast=function(e){return new P(this,e)},Expression.prototype.toStmt=function(){return new O(this)},Expression}();t.Expression=h,function(e){e[e.This=0]="This",e[e.Super=1]="Super",e[e.CatchError=2]="CatchError",e[e.CatchStack=3]="CatchStack"}(t.BuiltinVar||(t.BuiltinVar={}));var m=t.BuiltinVar,d=function(e){function ReadVarExpr(t,i){void 0===i&&(i=null),e.call(this,i),n.isString(t)?(this.name=t,this.builtin=null):(this.name=null,this.builtin=t)}return r(ReadVarExpr,e),ReadVarExpr.prototype.visitExpression=function(e,t){return e.visitReadVarExpr(this,t)},ReadVarExpr.prototype.set=function(e){return new f(this.name,e)},ReadVarExpr}(h);t.ReadVarExpr=d;var f=function(e){function WriteVarExpr(t,i,r){void 0===r&&(r=null),e.call(this,n.isPresent(r)?r:i.type),this.name=t,this.value=i}return r(WriteVarExpr,e),WriteVarExpr.prototype.visitExpression=function(e,t){return e.visitWriteVarExpr(this,t)},WriteVarExpr.prototype.toDeclStmt=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=null),new N(this.name,this.value,e,t)},WriteVarExpr}(h);t.WriteVarExpr=f;var v=function(e){function WriteKeyExpr(t,i,r,s){void 0===s&&(s=null),e.call(this,n.isPresent(s)?s:r.type),this.receiver=t,this.index=i,this.value=r}return r(WriteKeyExpr,e),WriteKeyExpr.prototype.visitExpression=function(e,t){return e.visitWriteKeyExpr(this,t)},WriteKeyExpr}(h);t.WriteKeyExpr=v;var y=function(e){function WritePropExpr(t,i,r,s){void 0===s&&(s=null),e.call(this,n.isPresent(s)?s:r.type),this.receiver=t,this.name=i,this.value=r}return r(WritePropExpr,e),WritePropExpr.prototype.visitExpression=function(e,t){return e.visitWritePropExpr(this,t)},WritePropExpr}(h);t.WritePropExpr=y,function(e){e[e.ConcatArray=0]="ConcatArray",e[e.SubscribeObservable=1]="SubscribeObservable",e[e.bind=2]="bind"}(t.BuiltinMethod||(t.BuiltinMethod={}));var _=(t.BuiltinMethod,function(e){function InvokeMethodExpr(t,i,r,s){void 0===s&&(s=null),e.call(this,s),this.receiver=t,this.args=r,n.isString(i)?(this.name=i,this.builtin=null):(this.name=null,this.builtin=i)}return r(InvokeMethodExpr,e),InvokeMethodExpr.prototype.visitExpression=function(e,t){return e.visitInvokeMethodExpr(this,t)},InvokeMethodExpr}(h));t.InvokeMethodExpr=_;var E=function(e){function InvokeFunctionExpr(t,i,r){void 0===r&&(r=null),e.call(this,r),this.fn=t,this.args=i}return r(InvokeFunctionExpr,e),InvokeFunctionExpr.prototype.visitExpression=function(e,t){return e.visitInvokeFunctionExpr(this,t)},InvokeFunctionExpr}(h);t.InvokeFunctionExpr=E;var g=function(e){function InstantiateExpr(t,i,r){e.call(this,r),this.classExpr=t,this.args=i}return r(InstantiateExpr,e),InstantiateExpr.prototype.visitExpression=function(e,t){return e.visitInstantiateExpr(this,t)},InstantiateExpr}(h);t.InstantiateExpr=g;var C=function(e){function LiteralExpr(t,i){void 0===i&&(i=null),e.call(this,i),this.value=t}return r(LiteralExpr,e),LiteralExpr.prototype.visitExpression=function(e,t){return e.visitLiteralExpr(this,t)},LiteralExpr}(h);t.LiteralExpr=C;var S=function(e){function ExternalExpr(t,i,r){void 0===i&&(i=null),void 0===r&&(r=null),e.call(this,i),this.value=t,this.typeParams=r}return r(ExternalExpr,e),ExternalExpr.prototype.visitExpression=function(e,t){return e.visitExternalExpr(this,t)},ExternalExpr}(h);t.ExternalExpr=S;var A=function(e){function ConditionalExpr(t,i,r,s){void 0===r&&(r=null),void 0===s&&(s=null),e.call(this,n.isPresent(s)?s:i.type),this.condition=t,this.falseCase=r,this.trueCase=i}return r(ConditionalExpr,e),ConditionalExpr.prototype.visitExpression=function(e,t){return e.visitConditionalExpr(this,t)},ConditionalExpr}(h);t.ConditionalExpr=A;var T=function(e){function NotExpr(i){e.call(this,t.BOOL_TYPE),this.condition=i}return r(NotExpr,e),NotExpr.prototype.visitExpression=function(e,t){return e.visitNotExpr(this,t)},NotExpr}(h);t.NotExpr=T;var P=function(e){function CastExpr(t,i){e.call(this,i),this.value=t}return r(CastExpr,e),CastExpr.prototype.visitExpression=function(e,t){return e.visitCastExpr(this,t)},CastExpr}(h);t.CastExpr=P;var w=function(){function FnParam(e,t){void 0===t&&(t=null),this.name=e,this.type=t}return FnParam}();t.FnParam=w;var x=function(e){function FunctionExpr(t,i,r){void 0===r&&(r=null),e.call(this,r),this.params=t,this.statements=i}return r(FunctionExpr,e),FunctionExpr.prototype.visitExpression=function(e,t){return e.visitFunctionExpr(this,t)},FunctionExpr.prototype.toDeclStmt=function(e,t){return void 0===t&&(t=null),new D(e,this.params,this.statements,this.type,t)},FunctionExpr}(h);t.FunctionExpr=x;var M=function(e){function BinaryOperatorExpr(t,i,r,s){void 0===s&&(s=null),e.call(this,n.isPresent(s)?s:i.type),this.operator=t,this.rhs=r,this.lhs=i}return r(BinaryOperatorExpr,e),BinaryOperatorExpr.prototype.visitExpression=function(e,t){return e.visitBinaryOperatorExpr(this,t)},BinaryOperatorExpr}(h);t.BinaryOperatorExpr=M;var I=function(e){function ReadPropExpr(t,i,r){void 0===r&&(r=null),e.call(this,r),this.receiver=t,this.name=i}return r(ReadPropExpr,e),ReadPropExpr.prototype.visitExpression=function(e,t){return e.visitReadPropExpr(this,t)},ReadPropExpr.prototype.set=function(e){return new y(this.receiver,this.name,e)},ReadPropExpr}(h);t.ReadPropExpr=I;var b=function(e){function ReadKeyExpr(t,i,r){void 0===r&&(r=null),e.call(this,r),this.receiver=t,this.index=i}return r(ReadKeyExpr,e),ReadKeyExpr.prototype.visitExpression=function(e,t){return e.visitReadKeyExpr(this,t)},ReadKeyExpr.prototype.set=function(e){return new v(this.receiver,this.index,e)},ReadKeyExpr}(h);t.ReadKeyExpr=b;var R=function(e){function LiteralArrayExpr(t,i){void 0===i&&(i=null),e.call(this,i),this.entries=t}return r(LiteralArrayExpr,e),LiteralArrayExpr.prototype.visitExpression=function(e,t){return e.visitLiteralArrayExpr(this,t)},LiteralArrayExpr}(h);t.LiteralArrayExpr=R;var V=function(e){function LiteralMapExpr(t,i){void 0===i&&(i=null),e.call(this,i),this.entries=t,this.valueType=null,n.isPresent(i)&&(this.valueType=i.valueType)}return r(LiteralMapExpr,e),LiteralMapExpr.prototype.visitExpression=function(e,t){return e.visitLiteralMapExpr(this,t)},LiteralMapExpr}(h);t.LiteralMapExpr=V,t.THIS_EXPR=new d(m.This),t.SUPER_EXPR=new d(m.Super),t.CATCH_ERROR_VAR=new d(m.CatchError),t.CATCH_STACK_VAR=new d(m.CatchStack),t.NULL_EXPR=new C(null,null),function(e){e[e.Final=0]="Final",e[e.Private=1]="Private"}(t.StmtModifier||(t.StmtModifier={}));var k=(t.StmtModifier,function(){function Statement(e){void 0===e&&(e=null),this.modifiers=e,n.isBlank(e)&&(this.modifiers=[])}return Statement.prototype.hasModifier=function(e){return this.modifiers.indexOf(e)!==-1},Statement}());t.Statement=k;var N=function(e){function DeclareVarStmt(t,i,r,s){void 0===r&&(r=null),void 0===s&&(s=null),e.call(this,s),this.name=t,this.value=i,this.type=n.isPresent(r)?r:i.type}return r(DeclareVarStmt,e),DeclareVarStmt.prototype.visitStatement=function(e,t){return e.visitDeclareVarStmt(this,t)},DeclareVarStmt}(k);t.DeclareVarStmt=N;var D=function(e){function DeclareFunctionStmt(t,i,r,n,s){void 0===n&&(n=null),void 0===s&&(s=null),e.call(this,s),this.name=t,this.params=i,this.statements=r,this.type=n}return r(DeclareFunctionStmt,e),DeclareFunctionStmt.prototype.visitStatement=function(e,t){return e.visitDeclareFunctionStmt(this,t)},DeclareFunctionStmt}(k);t.DeclareFunctionStmt=D;var O=function(e){function ExpressionStatement(t){e.call(this),this.expr=t}return r(ExpressionStatement,e),ExpressionStatement.prototype.visitStatement=function(e,t){return e.visitExpressionStmt(this,t)},ExpressionStatement}(k);t.ExpressionStatement=O;var B=function(e){function ReturnStatement(t){e.call(this),this.value=t}return r(ReturnStatement,e),ReturnStatement.prototype.visitStatement=function(e,t){return e.visitReturnStmt(this,t)},ReturnStatement}(k);t.ReturnStatement=B;var L=function(){function AbstractClassPart(e,t){void 0===e&&(e=null),this.type=e,this.modifiers=t,n.isBlank(t)&&(this.modifiers=[])}return AbstractClassPart.prototype.hasModifier=function(e){return this.modifiers.indexOf(e)!==-1},AbstractClassPart}();t.AbstractClassPart=L;var F=function(e){function ClassField(t,i,r){void 0===i&&(i=null),void 0===r&&(r=null),e.call(this,i,r),this.name=t}return r(ClassField,e),ClassField}(L);t.ClassField=F;var U=function(e){function ClassMethod(t,i,r,n,s){void 0===n&&(n=null),void 0===s&&(s=null),e.call(this,n,s),this.name=t,this.params=i,this.body=r}return r(ClassMethod,e),ClassMethod}(L);t.ClassMethod=U;var H=function(e){function ClassGetter(t,i,r,n){void 0===r&&(r=null),void 0===n&&(n=null),e.call(this,r,n),this.name=t,this.body=i}return r(ClassGetter,e),ClassGetter}(L);t.ClassGetter=H;var W=function(e){function ClassStmt(t,i,r,n,s,o,a){void 0===a&&(a=null),e.call(this,a),this.name=t,this.parent=i,this.fields=r,this.getters=n,this.constructorMethod=s,this.methods=o}return r(ClassStmt,e),ClassStmt.prototype.visitStatement=function(e,t){return e.visitDeclareClassStmt(this,t)},ClassStmt}(k);t.ClassStmt=W;var z=function(e){function IfStmt(t,i,r){void 0===r&&(r=[]),e.call(this),this.condition=t,this.trueCase=i,this.falseCase=r}return r(IfStmt,e),IfStmt.prototype.visitStatement=function(e,t){return e.visitIfStmt(this,t)},IfStmt}(k);t.IfStmt=z;var $=function(e){function CommentStmt(t){e.call(this),this.comment=t}return r(CommentStmt,e),CommentStmt.prototype.visitStatement=function(e,t){return e.visitCommentStmt(this,t)},CommentStmt}(k);t.CommentStmt=$;var j=function(e){function TryCatchStmt(t,i){e.call(this),this.bodyStmts=t,this.catchStmts=i}return r(TryCatchStmt,e),TryCatchStmt.prototype.visitStatement=function(e,t){return e.visitTryCatchStmt(this,t)},TryCatchStmt}(k);t.TryCatchStmt=j;var X=function(e){function ThrowStmt(t){e.call(this),this.error=t}return r(ThrowStmt,e),ThrowStmt.prototype.visitStatement=function(e,t){return e.visitThrowStmt(this,t)},ThrowStmt}(k);t.ThrowStmt=X;var q=function(){function ExpressionTransformer(){}return ExpressionTransformer.prototype.visitReadVarExpr=function(e,t){return e},ExpressionTransformer.prototype.visitWriteVarExpr=function(e,t){return new f(e.name,e.value.visitExpression(this,t))},ExpressionTransformer.prototype.visitWriteKeyExpr=function(e,t){return new v(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t))},ExpressionTransformer.prototype.visitWritePropExpr=function(e,t){return new y(e.receiver.visitExpression(this,t),e.name,e.value.visitExpression(this,t))},ExpressionTransformer.prototype.visitInvokeMethodExpr=function(e,t){var i=n.isPresent(e.builtin)?e.builtin:e.name;return new _(e.receiver.visitExpression(this,t),i,this.visitAllExpressions(e.args,t),e.type)},ExpressionTransformer.prototype.visitInvokeFunctionExpr=function(e,t){return new E(e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type)},ExpressionTransformer.prototype.visitInstantiateExpr=function(e,t){return new g(e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type)},ExpressionTransformer.prototype.visitLiteralExpr=function(e,t){return e},ExpressionTransformer.prototype.visitExternalExpr=function(e,t){return e},ExpressionTransformer.prototype.visitConditionalExpr=function(e,t){return new A(e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t))},ExpressionTransformer.prototype.visitNotExpr=function(e,t){return new T(e.condition.visitExpression(this,t))},ExpressionTransformer.prototype.visitCastExpr=function(e,t){return new P(e.value.visitExpression(this,t),t)},ExpressionTransformer.prototype.visitFunctionExpr=function(e,t){return e},ExpressionTransformer.prototype.visitBinaryOperatorExpr=function(e,t){return new M(e.operator,e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),e.type)},ExpressionTransformer.prototype.visitReadPropExpr=function(e,t){return new I(e.receiver.visitExpression(this,t),e.name,e.type)},ExpressionTransformer.prototype.visitReadKeyExpr=function(e,t){return new b(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.type)},ExpressionTransformer.prototype.visitLiteralArrayExpr=function(e,t){return new R(this.visitAllExpressions(e.entries,t))},ExpressionTransformer.prototype.visitLiteralMapExpr=function(e,t){var i=this;return new V(e.entries.map(function(e){return[e[0],e[1].visitExpression(i,t)]}))},ExpressionTransformer.prototype.visitAllExpressions=function(e,t){var i=this;return e.map(function(e){return e.visitExpression(i,t)})},ExpressionTransformer.prototype.visitDeclareVarStmt=function(e,t){return new N(e.name,e.value.visitExpression(this,t),e.type,e.modifiers)},ExpressionTransformer.prototype.visitDeclareFunctionStmt=function(e,t){return e},ExpressionTransformer.prototype.visitExpressionStmt=function(e,t){return new O(e.expr.visitExpression(this,t))},ExpressionTransformer.prototype.visitReturnStmt=function(e,t){return new B(e.value.visitExpression(this,t))},ExpressionTransformer.prototype.visitDeclareClassStmt=function(e,t){return e},ExpressionTransformer.prototype.visitIfStmt=function(e,t){return new z(e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t))},ExpressionTransformer.prototype.visitTryCatchStmt=function(e,t){return new j(this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t))},ExpressionTransformer.prototype.visitThrowStmt=function(e,t){return new X(e.error.visitExpression(this,t))},ExpressionTransformer.prototype.visitCommentStmt=function(e,t){return e},ExpressionTransformer.prototype.visitAllStatements=function(e,t){var i=this;return e.map(function(e){return e.visitStatement(i,t)})},ExpressionTransformer}();t.ExpressionTransformer=q;var J=function(){function RecursiveExpressionVisitor(){}return RecursiveExpressionVisitor.prototype.visitReadVarExpr=function(e,t){return e},RecursiveExpressionVisitor.prototype.visitWriteVarExpr=function(e,t){return e.value.visitExpression(this,t),e},RecursiveExpressionVisitor.prototype.visitWriteKeyExpr=function(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t),e},RecursiveExpressionVisitor.prototype.visitWritePropExpr=function(e,t){return e.receiver.visitExpression(this,t),e.value.visitExpression(this,t),e},RecursiveExpressionVisitor.prototype.visitInvokeMethodExpr=function(e,t){return e.receiver.visitExpression(this,t),this.visitAllExpressions(e.args,t),e},RecursiveExpressionVisitor.prototype.visitInvokeFunctionExpr=function(e,t){return e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),e},RecursiveExpressionVisitor.prototype.visitInstantiateExpr=function(e,t){return e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),e},RecursiveExpressionVisitor.prototype.visitLiteralExpr=function(e,t){return e},RecursiveExpressionVisitor.prototype.visitExternalExpr=function(e,t){return e},RecursiveExpressionVisitor.prototype.visitConditionalExpr=function(e,t){return e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t),e},RecursiveExpressionVisitor.prototype.visitNotExpr=function(e,t){return e.condition.visitExpression(this,t),e},RecursiveExpressionVisitor.prototype.visitCastExpr=function(e,t){return e.value.visitExpression(this,t),e},RecursiveExpressionVisitor.prototype.visitFunctionExpr=function(e,t){return e},RecursiveExpressionVisitor.prototype.visitBinaryOperatorExpr=function(e,t){return e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),e},RecursiveExpressionVisitor.prototype.visitReadPropExpr=function(e,t){return e.receiver.visitExpression(this,t),e},RecursiveExpressionVisitor.prototype.visitReadKeyExpr=function(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e},RecursiveExpressionVisitor.prototype.visitLiteralArrayExpr=function(e,t){return this.visitAllExpressions(e.entries,t),e},RecursiveExpressionVisitor.prototype.visitLiteralMapExpr=function(e,t){var i=this;return e.entries.forEach(function(e){return e[1].visitExpression(i,t)}),e},RecursiveExpressionVisitor.prototype.visitAllExpressions=function(e,t){var i=this;e.forEach(function(e){return e.visitExpression(i,t)})},RecursiveExpressionVisitor.prototype.visitDeclareVarStmt=function(e,t){return e.value.visitExpression(this,t),e},RecursiveExpressionVisitor.prototype.visitDeclareFunctionStmt=function(e,t){return e},RecursiveExpressionVisitor.prototype.visitExpressionStmt=function(e,t){return e.expr.visitExpression(this,t),e},RecursiveExpressionVisitor.prototype.visitReturnStmt=function(e,t){return e.value.visitExpression(this,t),e},RecursiveExpressionVisitor.prototype.visitDeclareClassStmt=function(e,t){return e},RecursiveExpressionVisitor.prototype.visitIfStmt=function(e,t){return e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t),e},RecursiveExpressionVisitor.prototype.visitTryCatchStmt=function(e,t){return this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t),e},RecursiveExpressionVisitor.prototype.visitThrowStmt=function(e,t){return e.error.visitExpression(this,t),e},RecursiveExpressionVisitor.prototype.visitCommentStmt=function(e,t){return e},RecursiveExpressionVisitor.prototype.visitAllStatements=function(e,t){var i=this;e.forEach(function(e){return e.visitStatement(i,t)})},RecursiveExpressionVisitor}();t.RecursiveExpressionVisitor=J,t.replaceVarInExpression=replaceVarInExpression;var K=function(e){function _ReplaceVariableTransformer(t,i){e.call(this),this._varName=t,this._newValue=i}return r(_ReplaceVariableTransformer,e),_ReplaceVariableTransformer.prototype.visitReadVarExpr=function(e,t){return e.name==this._varName?this._newValue:e},_ReplaceVariableTransformer}(q);t.findReadVarNames=findReadVarNames;var Q=function(e){function _VariableFinder(){e.apply(this,arguments),this.varNames=new Set}return r(_VariableFinder,e),_VariableFinder.prototype.visitReadVarExpr=function(e,t){return this.varNames.add(e.name),null},_VariableFinder}(J);t.variable=variable,t.importExpr=importExpr,t.importType=importType,t.literal=literal,t.literalArr=literalArr,t.literalMap=literalMap,t.not=not,t.fn=fn},200:function(e,t,i){"use strict";function __export(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}__export(i(577))},201:function(e,t){"use strict";function isWhitespace(e){return e>=t.$TAB&&e<=t.$SPACE||e==t.$NBSP}function isDigit(e){return t.$0<=e&&e<=t.$9}function isAsciiLetter(e){return e>=t.$a&&e<=t.$z||e>=t.$A&&e<=t.$Z}function isAsciiHexDigit(e){return e>=t.$a&&e<=t.$f||e>=t.$A&&e<=t.$F||isDigit(e)}t.$EOF=0,t.$TAB=9,t.$LF=10,t.$VTAB=11,t.$FF=12,t.$CR=13,t.$SPACE=32,t.$BANG=33,t.$DQ=34,t.$HASH=35,t.$$=36,t.$PERCENT=37,t.$AMPERSAND=38,t.$SQ=39,t.$LPAREN=40,t.$RPAREN=41,t.$STAR=42,t.$PLUS=43,t.$COMMA=44,t.$MINUS=45,t.$PERIOD=46,t.$SLASH=47,t.$COLON=58,t.$SEMICOLON=59,t.$LT=60,t.$EQ=61,t.$GT=62,t.$QUESTION=63,t.$0=48,t.$9=57,t.$A=65,t.$E=69,t.$F=70,t.$X=88,t.$Z=90,t.$LBRACKET=91,t.$BACKSLASH=92,t.$RBRACKET=93,t.$CARET=94,t.$_=95,t.$a=97,t.$e=101,t.$f=102,t.$n=110,t.$r=114,t.$t=116,t.$u=117,t.$v=118,t.$x=120,t.$z=122,t.$LBRACE=123,t.$BAR=124,t.$RBRACE=125,t.$NBSP=160,t.$PIPE=124,t.$TILDA=126,t.$AT=64,t.$BT=96,t.isWhitespace=isWhitespace,t.isDigit=isDigit,t.isAsciiLetter=isAsciiLetter,t.isAsciiHexDigit=isAsciiHexDigit},202:function(e,t,i){"use strict";function _cloneDirectiveWithTemplate(e,t){return new a.CompileDirectiveMetadata({type:e.type,isComponent:e.isComponent,selector:e.selector,exportAs:e.exportAs,changeDetection:e.changeDetection,inputs:e.inputs,outputs:e.outputs,hostListeners:e.hostListeners,hostProperties:e.hostProperties,hostAttributes:e.hostAttributes,lifecycleHooks:e.lifecycleHooks,providers:e.providers,viewProviders:e.viewProviders,queries:e.queries,viewQueries:e.viewQueries,precompile:e.precompile,template:t})}var r=i(0),n=i(12),s=i(15),o=i(5),a=i(31),p=i(80),l=i(56),u=i(81),c=i(343),h=i(344),m=i(82),d=i(351),f=function(){function NormalizeDirectiveResult(e,t){this.syncResult=e,this.asyncResult=t}return NormalizeDirectiveResult}();t.NormalizeDirectiveResult=f;var v=function(){function DirectiveNormalizer(e,t,i,r){this._xhr=e,this._urlResolver=t,this._htmlParser=i,this._config=r,this._xhrCache=new Map}return DirectiveNormalizer.prototype.clearCache=function(){this._xhrCache.clear()},DirectiveNormalizer.prototype.clearCacheFor=function(e){var t=this;e.isComponent&&(this._xhrCache["delete"](e.template.templateUrl),e.template.externalStylesheets.forEach(function(e){t._xhrCache["delete"](e.moduleUrl)}))},DirectiveNormalizer.prototype._fetch=function(e){var t=this._xhrCache.get(e);return t||(t=this._xhr.get(e),this._xhrCache.set(e,t)),t},DirectiveNormalizer.prototype.normalizeDirective=function(e){var t=this;if(!e.isComponent)return new f(e,Promise.resolve(e));var i,r=null;if(o.isPresent(e.template.template))r=this.normalizeTemplateSync(e.type,e.template),i=Promise.resolve(r);else{if(!e.template.templateUrl)throw new s.BaseException("No template specified for component "+e.type.name);i=this.normalizeTemplateAsync(e.type,e.template)}if(r&&0===r.styleUrls.length){var n=_cloneDirectiveWithTemplate(e,r);return new f(n,Promise.resolve(n))}return new f(null,i.then(function(e){return t.normalizeExternalStylesheets(e)}).then(function(t){return _cloneDirectiveWithTemplate(e,t)}))},DirectiveNormalizer.prototype.normalizeTemplateSync=function(e,t){return this.normalizeLoadedTemplate(e,t,t.template,e.moduleUrl)},DirectiveNormalizer.prototype.normalizeTemplateAsync=function(e,t){var i=this,r=this._urlResolver.resolve(e.moduleUrl,t.templateUrl);return this._fetch(r).then(function(n){return i.normalizeLoadedTemplate(e,t,n,r)})},DirectiveNormalizer.prototype.normalizeLoadedTemplate=function(e,t,i,n){var p=this._htmlParser.parse(i,e.name);if(p.errors.length>0){var u=p.errors.join("\n");throw new s.BaseException("Template parse errors:\n"+u)}var c=this.normalizeStylesheet(new a.CompileStylesheetMetadata({styles:t.styles,styleUrls:t.styleUrls,moduleUrl:e.moduleUrl})),h=new y;l.htmlVisitAll(h,p.rootNodes);var m=this.normalizeStylesheet(new a.CompileStylesheetMetadata({styles:h.styles,styleUrls:h.styleUrls,moduleUrl:n})),d=c.styles.concat(m.styles),f=c.styleUrls.concat(m.styleUrls),v=t.encapsulation;return o.isBlank(v)&&(v=this._config.defaultEncapsulation),
v===r.ViewEncapsulation.Emulated&&0===d.length&&0===f.length&&(v=r.ViewEncapsulation.None),new a.CompileTemplateMetadata({encapsulation:v,template:i,templateUrl:n,styles:d,styleUrls:f,externalStylesheets:t.externalStylesheets,ngContentSelectors:h.ngContentSelectors,animations:t.animations,interpolation:t.interpolation})},DirectiveNormalizer.prototype.normalizeExternalStylesheets=function(e){return this._loadMissingExternalStylesheets(e.styleUrls).then(function(t){return new a.CompileTemplateMetadata({encapsulation:e.encapsulation,template:e.template,templateUrl:e.templateUrl,styles:e.styles,styleUrls:e.styleUrls,externalStylesheets:t,ngContentSelectors:e.ngContentSelectors,animations:e.animations,interpolation:e.interpolation})})},DirectiveNormalizer.prototype._loadMissingExternalStylesheets=function(e,t){var i=this;return void 0===t&&(t=new Map),Promise.all(e.filter(function(e){return!t.has(e)}).map(function(e){return i._fetch(e).then(function(r){var n=i.normalizeStylesheet(new a.CompileStylesheetMetadata({styles:[r],moduleUrl:e}));return t.set(e,n),i._loadMissingExternalStylesheets(n.styleUrls,t)})})).then(function(e){return n.MapWrapper.values(t)})},DirectiveNormalizer.prototype.normalizeStylesheet=function(e){var t=this,i=e.styleUrls.filter(c.isStyleUrlResolvable).map(function(i){return t._urlResolver.resolve(e.moduleUrl,i)}),r=e.styles.map(function(r){var n=c.extractStyleUrls(t._urlResolver,e.moduleUrl,r);return i.push.apply(i,n.styleUrls),n.style});return new a.CompileStylesheetMetadata({styles:r,styleUrls:i,moduleUrl:e.moduleUrl})},DirectiveNormalizer.decorators=[{type:r.Injectable}],DirectiveNormalizer.ctorParameters=[{type:d.XHR},{type:m.UrlResolver},{type:u.HtmlParser},{type:p.CompilerConfig}],DirectiveNormalizer}();t.DirectiveNormalizer=v;var y=function(){function TemplatePreparseVisitor(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}return TemplatePreparseVisitor.prototype.visitElement=function(e,t){var i=h.preparseElement(e);switch(i.type){case h.PreparsedElementType.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(i.selectAttr);break;case h.PreparsedElementType.STYLE:var r="";e.children.forEach(function(e){e instanceof l.HtmlTextAst&&(r+=e.value)}),this.styles.push(r);break;case h.PreparsedElementType.STYLESHEET:this.styleUrls.push(i.hrefAttr)}return i.nonBindable&&this.ngNonBindableStackCount++,l.htmlVisitAll(this,e.children),i.nonBindable&&this.ngNonBindableStackCount--,null},TemplatePreparseVisitor.prototype.visitComment=function(e,t){return null},TemplatePreparseVisitor.prototype.visitAttr=function(e,t){return null},TemplatePreparseVisitor.prototype.visitText=function(e,t){return null},TemplatePreparseVisitor.prototype.visitExpansion=function(e,t){return null},TemplatePreparseVisitor.prototype.visitExpansionCase=function(e,t){return null},TemplatePreparseVisitor}()},203:function(e,t,i){"use strict";function _isDirectiveMetadata(e){return e instanceof r.DirectiveMetadata}var r=i(0),n=i(23),s=i(12),o=i(15),a=i(5),p=function(){function DirectiveResolver(e){void 0===e&&(e=n.reflector),this._reflector=e}return DirectiveResolver.prototype.resolve=function(e){var t=this._reflector.annotations(r.resolveForwardRef(e));if(a.isPresent(t)){var i=t.find(_isDirectiveMetadata);if(a.isPresent(i)){var n=this._reflector.propMetadata(e);return this._mergeWithPropertyMetadata(i,n,e)}}throw new o.BaseException("No Directive annotation found on "+a.stringify(e))},DirectiveResolver.prototype._mergeWithPropertyMetadata=function(e,t,i){var n=[],o=[],p={},l={};return s.StringMapWrapper.forEach(t,function(e,t){e.forEach(function(e){if(e instanceof r.InputMetadata&&(a.isPresent(e.bindingPropertyName)?n.push(t+": "+e.bindingPropertyName):n.push(t)),e instanceof r.OutputMetadata&&(a.isPresent(e.bindingPropertyName)?o.push(t+": "+e.bindingPropertyName):o.push(t)),e instanceof r.HostBindingMetadata&&(a.isPresent(e.hostPropertyName)?p["["+e.hostPropertyName+"]"]=t:p["["+t+"]"]=t),e instanceof r.HostListenerMetadata){var i=a.isPresent(e.args)?e.args.join(", "):"";p["("+e.eventName+")"]=t+"("+i+")"}e instanceof r.QueryMetadata&&(l[t]=e)})}),this._merge(e,n,o,p,l,i)},DirectiveResolver.prototype._merge=function(e,t,i,n,p,l){var u,c=a.isPresent(e.inputs)?s.ListWrapper.concat(e.inputs,t):t;a.isPresent(e.outputs)?(e.outputs.forEach(function(e){if(s.ListWrapper.contains(i,e))throw new o.BaseException("Output event '"+e+"' defined multiple times in '"+a.stringify(l)+"'")}),u=s.ListWrapper.concat(e.outputs,i)):u=i;var h=a.isPresent(e.host)?s.StringMapWrapper.merge(e.host,n):n,m=a.isPresent(e.queries)?s.StringMapWrapper.merge(e.queries,p):p;return e instanceof r.ComponentMetadata?new r.ComponentMetadata({selector:e.selector,inputs:c,outputs:u,host:h,exportAs:e.exportAs,moduleId:e.moduleId,queries:m,changeDetection:e.changeDetection,providers:e.providers,viewProviders:e.viewProviders,precompile:e.precompile}):new r.DirectiveMetadata({selector:e.selector,inputs:c,outputs:u,host:h,exportAs:e.exportAs,queries:m,providers:e.providers})},DirectiveResolver.decorators=[{type:r.Injectable}],DirectiveResolver.ctorParameters=[{type:n.ReflectorReader}],DirectiveResolver}();t.DirectiveResolver=p,t.CODEGEN_DIRECTIVE_RESOLVER=new p(n.reflector)},204:function(e,t,i){"use strict";function newCharacterToken(e,t){return new c(e,p.Character,t,a.StringWrapper.fromCharCode(t))}function newIdentifierToken(e,t){return new c(e,p.Identifier,0,t)}function newKeywordToken(e,t){return new c(e,p.Keyword,0,t)}function newOperatorToken(e,t){return new c(e,p.Operator,0,t)}function newStringToken(e,t){return new c(e,p.String,0,t)}function newNumberToken(e,t){return new c(e,p.Number,t,"")}function isIdentifierStart(e){return s.$a<=e&&e<=s.$z||s.$A<=e&&e<=s.$Z||e==s.$_||e==s.$$}function isIdentifier(e){if(0==e.length)return!1;var t=new m(e);if(!isIdentifierStart(t.peek))return!1;for(t.advance();t.peek!==s.$EOF;){if(!isIdentifierPart(t.peek))return!1;t.advance()}return!0}function isIdentifierPart(e){return s.isAsciiLetter(e)||s.isDigit(e)||e==s.$_||e==s.$$}function isExponentStart(e){return e==s.$e||e==s.$E}function isExponentSign(e){return e==s.$MINUS||e==s.$PLUS}function isQuote(e){return e===s.$SQ||e===s.$DQ||e===s.$BT}function unescape(e){switch(e){case s.$n:return s.$LF;case s.$f:return s.$FF;case s.$r:return s.$CR;case s.$t:return s.$TAB;case s.$v:return s.$VTAB;default:return e}}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=i(0),s=i(201),o=i(15),a=i(5);!function(e){e[e.Character=0]="Character",e[e.Identifier=1]="Identifier",e[e.Keyword=2]="Keyword",e[e.String=3]="String",e[e.Operator=4]="Operator",e[e.Number=5]="Number"}(t.TokenType||(t.TokenType={}));var p=t.TokenType,l=["var","let","null","undefined","true","false","if","else"],u=function(){function Lexer(){}return Lexer.prototype.tokenize=function(e){for(var t=new m(e),i=[],r=t.scanToken();null!=r;)i.push(r),r=t.scanToken();return i},Lexer.decorators=[{type:n.Injectable}],Lexer}();t.Lexer=u;var c=function(){function Token(e,t,i,r){this.index=e,this.type=t,this.numValue=i,this.strValue=r}return Token.prototype.isCharacter=function(e){return this.type==p.Character&&this.numValue==e},Token.prototype.isNumber=function(){return this.type==p.Number},Token.prototype.isString=function(){return this.type==p.String},Token.prototype.isOperator=function(e){return this.type==p.Operator&&this.strValue==e},Token.prototype.isIdentifier=function(){return this.type==p.Identifier},Token.prototype.isKeyword=function(){return this.type==p.Keyword},Token.prototype.isKeywordDeprecatedVar=function(){return this.type==p.Keyword&&"var"==this.strValue},Token.prototype.isKeywordLet=function(){return this.type==p.Keyword&&"let"==this.strValue},Token.prototype.isKeywordNull=function(){return this.type==p.Keyword&&"null"==this.strValue},Token.prototype.isKeywordUndefined=function(){return this.type==p.Keyword&&"undefined"==this.strValue},Token.prototype.isKeywordTrue=function(){return this.type==p.Keyword&&"true"==this.strValue},Token.prototype.isKeywordFalse=function(){return this.type==p.Keyword&&"false"==this.strValue},Token.prototype.toNumber=function(){return this.type==p.Number?this.numValue:-1},Token.prototype.toString=function(){switch(this.type){case p.Character:case p.Identifier:case p.Keyword:case p.Operator:case p.String:return this.strValue;case p.Number:return this.numValue.toString();default:return null}},Token}();t.Token=c,t.EOF=new c((-1),p.Character,0,"");var h=function(e){function ScannerError(t){e.call(this),this.message=t}return r(ScannerError,e),ScannerError.prototype.toString=function(){return this.message},ScannerError}(o.BaseException);t.ScannerError=h;var m=function(){function _Scanner(e){this.input=e,this.peek=0,this.index=-1,this.length=e.length,this.advance()}return _Scanner.prototype.advance=function(){this.peek=++this.index>=this.length?s.$EOF:a.StringWrapper.charCodeAt(this.input,this.index)},_Scanner.prototype.scanToken=function(){for(var e=this.input,t=this.length,i=this.peek,r=this.index;i<=s.$SPACE;){if(++r>=t){i=s.$EOF;break}i=a.StringWrapper.charCodeAt(e,r)}if(this.peek=i,this.index=r,r>=t)return null;if(isIdentifierStart(i))return this.scanIdentifier();if(s.isDigit(i))return this.scanNumber(r);var n=r;switch(i){case s.$PERIOD:return this.advance(),s.isDigit(this.peek)?this.scanNumber(n):newCharacterToken(n,s.$PERIOD);case s.$LPAREN:case s.$RPAREN:case s.$LBRACE:case s.$RBRACE:case s.$LBRACKET:case s.$RBRACKET:case s.$COMMA:case s.$COLON:case s.$SEMICOLON:return this.scanCharacter(n,i);case s.$SQ:case s.$DQ:return this.scanString();case s.$HASH:case s.$PLUS:case s.$MINUS:case s.$STAR:case s.$SLASH:case s.$PERCENT:case s.$CARET:return this.scanOperator(n,a.StringWrapper.fromCharCode(i));case s.$QUESTION:return this.scanComplexOperator(n,"?",s.$PERIOD,".");case s.$LT:case s.$GT:return this.scanComplexOperator(n,a.StringWrapper.fromCharCode(i),s.$EQ,"=");case s.$BANG:case s.$EQ:return this.scanComplexOperator(n,a.StringWrapper.fromCharCode(i),s.$EQ,"=",s.$EQ,"=");case s.$AMPERSAND:return this.scanComplexOperator(n,"&",s.$AMPERSAND,"&");case s.$BAR:return this.scanComplexOperator(n,"|",s.$BAR,"|");case s.$NBSP:for(;s.isWhitespace(this.peek);)this.advance();return this.scanToken()}return this.error("Unexpected character ["+a.StringWrapper.fromCharCode(i)+"]",0),null},_Scanner.prototype.scanCharacter=function(e,t){return this.advance(),newCharacterToken(e,t)},_Scanner.prototype.scanOperator=function(e,t){return this.advance(),newOperatorToken(e,t)},_Scanner.prototype.scanComplexOperator=function(e,t,i,r,n,s){this.advance();var o=t;return this.peek==i&&(this.advance(),o+=r),a.isPresent(n)&&this.peek==n&&(this.advance(),o+=s),newOperatorToken(e,o)},_Scanner.prototype.scanIdentifier=function(){var e=this.index;for(this.advance();isIdentifierPart(this.peek);)this.advance();var t=this.input.substring(e,this.index);return l.indexOf(t)>-1?newKeywordToken(e,t):newIdentifierToken(e,t)},_Scanner.prototype.scanNumber=function(e){var t=this.index===e;for(this.advance();;){if(s.isDigit(this.peek));else if(this.peek==s.$PERIOD)t=!1;else{if(!isExponentStart(this.peek))break;this.advance(),isExponentSign(this.peek)&&this.advance(),s.isDigit(this.peek)||this.error("Invalid exponent",-1),t=!1}this.advance()}var i=this.input.substring(e,this.index),r=t?a.NumberWrapper.parseIntAutoRadix(i):a.NumberWrapper.parseFloat(i);return newNumberToken(e,r)},_Scanner.prototype.scanString=function(){var e=this.index,t=this.peek;this.advance();for(var i,r=this.index,n=this.input;this.peek!=t;)if(this.peek==s.$BACKSLASH){null==i&&(i=new a.StringJoiner),i.add(n.substring(r,this.index)),this.advance();var o;if(this.peek==s.$u){var p=n.substring(this.index+1,this.index+5);try{o=a.NumberWrapper.parseInt(p,16)}catch(l){this.error("Invalid unicode escape [\\u"+p+"]",0)}for(var u=0;u<5;u++)this.advance()}else o=unescape(this.peek),this.advance();i.add(a.StringWrapper.fromCharCode(o)),r=this.index}else this.peek==s.$EOF?this.error("Unterminated quote",0):this.advance();var c=n.substring(r,this.index);this.advance();var h=c;return null!=i&&(i.add(c),h=i.toString()),newStringToken(e,h)},_Scanner.prototype.error=function(e,t){var i=this.index+t;throw new h("Lexer Error: "+e+" at column "+i+" in expression ["+this.input+"]")},_Scanner}();t.isIdentifier=isIdentifier,t.isQuote=isQuote},205:function(e,t,i){"use strict";function _createInterpolateRegExp(e){var t=p.escapeRegExp(e.start)+"([\\s\\S]*?)"+p.escapeRegExp(e.end);return p.RegExpWrapper.create(t,"g")}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=i(0),s=i(201),o=i(12),a=i(15),p=i(5),l=i(131),u=i(336),c=i(204),h=new u.ImplicitReceiver,m=function(e){function ParseException(t,i,r,n){e.call(this,"Parser Error: "+t+" "+r+" ["+i+"] in "+n)}return r(ParseException,e),ParseException}(a.BaseException),d=function(){function SplitInterpolation(e,t){this.strings=e,this.expressions=t}return SplitInterpolation}();t.SplitInterpolation=d;var f=function(){function TemplateBindingParseResult(e,t){this.templateBindings=e,this.warnings=t}return TemplateBindingParseResult}();t.TemplateBindingParseResult=f;var v=function(){function Parser(e){this._lexer=e}return Parser.prototype.parseAction=function(e,t,i){void 0===i&&(i=l.DEFAULT_INTERPOLATION_CONFIG),this._checkNoInterpolation(e,t,i);var r=this._lexer.tokenize(this._stripComments(e)),n=new y(e,t,r,(!0)).parseChain();return new u.ASTWithSource(n,e,t)},Parser.prototype.parseBinding=function(e,t,i){void 0===i&&(i=l.DEFAULT_INTERPOLATION_CONFIG);var r=this._parseBindingAst(e,t,i);return new u.ASTWithSource(r,e,t)},Parser.prototype.parseSimpleBinding=function(e,t,i){void 0===i&&(i=l.DEFAULT_INTERPOLATION_CONFIG);var r=this._parseBindingAst(e,t,i);if(!_.check(r))throw new m("Host binding expression can only contain field access and constants",e,t);return new u.ASTWithSource(r,e,t)},Parser.prototype._parseBindingAst=function(e,t,i){var r=this._parseQuote(e,t);if(p.isPresent(r))return r;this._checkNoInterpolation(e,t,i);var n=this._lexer.tokenize(this._stripComments(e));return new y(e,t,n,(!1)).parseChain()},Parser.prototype._parseQuote=function(e,t){if(p.isBlank(e))return null;var i=e.indexOf(":");if(i==-1)return null;var r=e.substring(0,i).trim();if(!c.isIdentifier(r))return null;var n=e.substring(i+1);return new u.Quote(r,n,t)},Parser.prototype.parseTemplateBindings=function(e,t){var i=this._lexer.tokenize(e);return new y(e,t,i,(!1)).parseTemplateBindings()},Parser.prototype.parseInterpolation=function(e,t,i){void 0===i&&(i=l.DEFAULT_INTERPOLATION_CONFIG);var r=this.splitInterpolation(e,t,i);if(null==r)return null;for(var n=[],s=0;s<r.expressions.length;++s){var o=this._lexer.tokenize(this._stripComments(r.expressions[s])),a=new y(e,t,o,(!1)).parseChain();n.push(a)}return new u.ASTWithSource(new u.Interpolation(r.strings,n),e,t)},Parser.prototype.splitInterpolation=function(e,t,i){void 0===i&&(i=l.DEFAULT_INTERPOLATION_CONFIG);var r=_createInterpolateRegExp(i),n=p.StringWrapper.split(e,r);if(n.length<=1)return null;for(var s=[],o=[],a=0;a<n.length;a++){var u=n[a];if(a%2===0)s.push(u);else{if(!(u.trim().length>0))throw new m("Blank expressions are not allowed in interpolated strings",e,"at column "+this._findInterpolationErrorColumn(n,a,i)+" in",t);o.push(u)}}return new d(s,o)},Parser.prototype.wrapLiteralPrimitive=function(e,t){return new u.ASTWithSource(new u.LiteralPrimitive(e),e,t)},Parser.prototype._stripComments=function(e){var t=this._commentStart(e);return p.isPresent(t)?e.substring(0,t).trim():e},Parser.prototype._commentStart=function(e){for(var t=null,i=0;i<e.length-1;i++){var r=p.StringWrapper.charCodeAt(e,i),n=p.StringWrapper.charCodeAt(e,i+1);if(r===s.$SLASH&&n==s.$SLASH&&p.isBlank(t))return i;t===r?t=null:p.isBlank(t)&&c.isQuote(r)&&(t=r)}return null},Parser.prototype._checkNoInterpolation=function(e,t,i){var r=_createInterpolateRegExp(i),n=p.StringWrapper.split(e,r);if(n.length>1)throw new m("Got interpolation ("+i.start+i.end+") where expression was expected",e,"at column "+this._findInterpolationErrorColumn(n,1,i)+" in",t)},Parser.prototype._findInterpolationErrorColumn=function(e,t,i){for(var r="",n=0;n<t;n++)r+=n%2===0?e[n]:""+i.start+e[n]+i.end;return r.length},Parser.decorators=[{type:n.Injectable}],Parser.ctorParameters=[{type:c.Lexer}],Parser}();t.Parser=v;var y=function(){function _ParseAST(e,t,i,r){this.input=e,this.location=t,this.tokens=i,this.parseAction=r,this.index=0}return _ParseAST.prototype.peek=function(e){var t=this.index+e;return t<this.tokens.length?this.tokens[t]:c.EOF},Object.defineProperty(_ParseAST.prototype,"next",{get:function(){return this.peek(0)},enumerable:!0,configurable:!0}),Object.defineProperty(_ParseAST.prototype,"inputIndex",{get:function(){return this.index<this.tokens.length?this.next.index:this.input.length},enumerable:!0,configurable:!0}),_ParseAST.prototype.advance=function(){this.index++},_ParseAST.prototype.optionalCharacter=function(e){return!!this.next.isCharacter(e)&&(this.advance(),!0)},_ParseAST.prototype.peekKeywordLet=function(){return this.next.isKeywordLet()},_ParseAST.prototype.peekDeprecatedKeywordVar=function(){return this.next.isKeywordDeprecatedVar()},_ParseAST.prototype.peekDeprecatedOperatorHash=function(){return this.next.isOperator("#")},_ParseAST.prototype.expectCharacter=function(e){this.optionalCharacter(e)||this.error("Missing expected "+p.StringWrapper.fromCharCode(e))},_ParseAST.prototype.optionalOperator=function(e){return!!this.next.isOperator(e)&&(this.advance(),!0)},_ParseAST.prototype.expectOperator=function(e){this.optionalOperator(e)||this.error("Missing expected operator "+e)},_ParseAST.prototype.expectIdentifierOrKeyword=function(){var e=this.next;return e.isIdentifier()||e.isKeyword()||this.error("Unexpected token "+e+", expected identifier or keyword"),this.advance(),e.toString()},_ParseAST.prototype.expectIdentifierOrKeywordOrString=function(){var e=this.next;return e.isIdentifier()||e.isKeyword()||e.isString()||this.error("Unexpected token "+e+", expected identifier, keyword, or string"),this.advance(),e.toString()},_ParseAST.prototype.parseChain=function(){for(var e=[];this.index<this.tokens.length;){var t=this.parsePipe();if(e.push(t),this.optionalCharacter(s.$SEMICOLON))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(s.$SEMICOLON););else this.index<this.tokens.length&&this.error("Unexpected token '"+this.next+"'")}return 0==e.length?new u.EmptyExpr:1==e.length?e[0]:new u.Chain(e)},_ParseAST.prototype.parsePipe=function(){var e=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{for(var t=this.expectIdentifierOrKeyword(),i=[];this.optionalCharacter(s.$COLON);)i.push(this.parseExpression());e=new u.BindingPipe(e,t,i)}while(this.optionalOperator("|"))}return e},_ParseAST.prototype.parseExpression=function(){return this.parseConditional()},_ParseAST.prototype.parseConditional=function(){var e=this.inputIndex,t=this.parseLogicalOr();if(this.optionalOperator("?")){var i=this.parsePipe();if(!this.optionalCharacter(s.$COLON)){var r=this.inputIndex,n=this.input.substring(e,r);this.error("Conditional expression "+n+" requires all 3 expressions")}var o=this.parsePipe();return new u.Conditional(t,i,o)}return t},_ParseAST.prototype.parseLogicalOr=function(){for(var e=this.parseLogicalAnd();this.optionalOperator("||");)e=new u.Binary("||",e,this.parseLogicalAnd());return e},_ParseAST.prototype.parseLogicalAnd=function(){for(var e=this.parseEquality();this.optionalOperator("&&");)e=new u.Binary("&&",e,this.parseEquality());return e},_ParseAST.prototype.parseEquality=function(){for(var e=this.parseRelational();;)if(this.optionalOperator("=="))e=new u.Binary("==",e,this.parseRelational());else if(this.optionalOperator("==="))e=new u.Binary("===",e,this.parseRelational());else if(this.optionalOperator("!="))e=new u.Binary("!=",e,this.parseRelational());else{if(!this.optionalOperator("!=="))return e;e=new u.Binary("!==",e,this.parseRelational())}},_ParseAST.prototype.parseRelational=function(){for(var e=this.parseAdditive();;)if(this.optionalOperator("<"))e=new u.Binary("<",e,this.parseAdditive());else if(this.optionalOperator(">"))e=new u.Binary(">",e,this.parseAdditive());else if(this.optionalOperator("<="))e=new u.Binary("<=",e,this.parseAdditive());else{if(!this.optionalOperator(">="))return e;e=new u.Binary(">=",e,this.parseAdditive())}},_ParseAST.prototype.parseAdditive=function(){for(var e=this.parseMultiplicative();;)if(this.optionalOperator("+"))e=new u.Binary("+",e,this.parseMultiplicative());else{if(!this.optionalOperator("-"))return e;e=new u.Binary("-",e,this.parseMultiplicative())}},_ParseAST.prototype.parseMultiplicative=function(){for(var e=this.parsePrefix();;)if(this.optionalOperator("*"))e=new u.Binary("*",e,this.parsePrefix());else if(this.optionalOperator("%"))e=new u.Binary("%",e,this.parsePrefix());else{if(!this.optionalOperator("/"))return e;e=new u.Binary("/",e,this.parsePrefix())}},_ParseAST.prototype.parsePrefix=function(){return this.optionalOperator("+")?this.parsePrefix():this.optionalOperator("-")?new u.Binary("-",new u.LiteralPrimitive(0),this.parsePrefix()):this.optionalOperator("!")?new u.PrefixNot(this.parsePrefix()):this.parseCallChain()},_ParseAST.prototype.parseCallChain=function(){for(var e=this.parsePrimary();;)if(this.optionalCharacter(s.$PERIOD))e=this.parseAccessMemberOrMethodCall(e,!1);else if(this.optionalOperator("?."))e=this.parseAccessMemberOrMethodCall(e,!0);else if(this.optionalCharacter(s.$LBRACKET)){var t=this.parsePipe();if(this.expectCharacter(s.$RBRACKET),this.optionalOperator("=")){var i=this.parseConditional();e=new u.KeyedWrite(e,t,i)}else e=new u.KeyedRead(e,t)}else{if(!this.optionalCharacter(s.$LPAREN))return e;var r=this.parseCallArguments();this.expectCharacter(s.$RPAREN),e=new u.FunctionCall(e,r)}},_ParseAST.prototype.parsePrimary=function(){if(this.optionalCharacter(s.$LPAREN)){var e=this.parsePipe();return this.expectCharacter(s.$RPAREN),e}if(this.next.isKeywordNull()||this.next.isKeywordUndefined())return this.advance(),new u.LiteralPrimitive(null);if(this.next.isKeywordTrue())return this.advance(),new u.LiteralPrimitive((!0));if(this.next.isKeywordFalse())return this.advance(),new u.LiteralPrimitive((!1));if(this.optionalCharacter(s.$LBRACKET)){var t=this.parseExpressionList(s.$RBRACKET);return this.expectCharacter(s.$RBRACKET),new u.LiteralArray(t)}if(this.next.isCharacter(s.$LBRACE))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(h,!1);if(this.next.isNumber()){var i=this.next.toNumber();return this.advance(),new u.LiteralPrimitive(i)}if(this.next.isString()){var r=this.next.toString();return this.advance(),new u.LiteralPrimitive(r)}throw this.index>=this.tokens.length?this.error("Unexpected end of expression: "+this.input):this.error("Unexpected token "+this.next),new a.BaseException("Fell through all cases in parsePrimary")},_ParseAST.prototype.parseExpressionList=function(e){var t=[];if(!this.next.isCharacter(e))do t.push(this.parsePipe());while(this.optionalCharacter(s.$COMMA));return t},_ParseAST.prototype.parseLiteralMap=function(){var e=[],t=[];if(this.expectCharacter(s.$LBRACE),!this.optionalCharacter(s.$RBRACE)){do{var i=this.expectIdentifierOrKeywordOrString();e.push(i),this.expectCharacter(s.$COLON),t.push(this.parsePipe())}while(this.optionalCharacter(s.$COMMA));this.expectCharacter(s.$RBRACE)}return new u.LiteralMap(e,t)},_ParseAST.prototype.parseAccessMemberOrMethodCall=function(e,t){void 0===t&&(t=!1);var i=this.expectIdentifierOrKeyword();if(this.optionalCharacter(s.$LPAREN)){var r=this.parseCallArguments();return this.expectCharacter(s.$RPAREN),t?new u.SafeMethodCall(e,i,r):new u.MethodCall(e,i,r)}if(!t){if(this.optionalOperator("=")){this.parseAction||this.error("Bindings cannot contain assignments");var n=this.parseConditional();return new u.PropertyWrite(e,i,n)}return new u.PropertyRead(e,i)}return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),null):new u.SafePropertyRead(e,i)},_ParseAST.prototype.parseCallArguments=function(){if(this.next.isCharacter(s.$RPAREN))return[];var e=[];do e.push(this.parsePipe());while(this.optionalCharacter(s.$COMMA));return e},_ParseAST.prototype.expectTemplateBindingKey=function(){var e="",t=!1;do e+=this.expectIdentifierOrKeywordOrString(),t=this.optionalOperator("-"),t&&(e+="-");while(t);return e.toString()},_ParseAST.prototype.parseTemplateBindings=function(){for(var e=[],t=null,i=[];this.index<this.tokens.length;){var r=this.peekKeywordLet();!r&&this.peekDeprecatedKeywordVar()&&(r=!0,i.push('"var" inside of expressions is deprecated. Use "let" instead!')),!r&&this.peekDeprecatedOperatorHash()&&(r=!0,i.push('"#" inside of expressions is deprecated. Use "let" instead!')),r&&this.advance();var n=this.expectTemplateBindingKey();r||(null==t?t=n:n=t+n[0].toUpperCase()+n.substring(1)),this.optionalCharacter(s.$COLON);var o=null,a=null;if(r)o=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.next!==c.EOF&&!this.peekKeywordLet()&&!this.peekDeprecatedKeywordVar()&&!this.peekDeprecatedOperatorHash()){var p=this.inputIndex,l=this.parsePipe(),h=this.input.substring(p,this.inputIndex);a=new u.ASTWithSource(l,h,this.location)}e.push(new u.TemplateBinding(n,r,o,a)),this.optionalCharacter(s.$SEMICOLON)||this.optionalCharacter(s.$COMMA)}return new f(e,i)},_ParseAST.prototype.error=function(e,t){void 0===t&&(t=null),p.isBlank(t)&&(t=this.index);var i=t<this.tokens.length?"at column "+(this.tokens[t].index+1)+" in":"at the end of the expression";throw new m(e,this.input,i,this.location)},_ParseAST}();t._ParseAST=y;var _=function(){function SimpleExpressionChecker(){this.simple=!0}return SimpleExpressionChecker.check=function(e){var t=new SimpleExpressionChecker;return e.visit(t),t.simple},SimpleExpressionChecker.prototype.visitImplicitReceiver=function(e,t){},SimpleExpressionChecker.prototype.visitInterpolation=function(e,t){this.simple=!1},SimpleExpressionChecker.prototype.visitLiteralPrimitive=function(e,t){},SimpleExpressionChecker.prototype.visitPropertyRead=function(e,t){},SimpleExpressionChecker.prototype.visitPropertyWrite=function(e,t){this.simple=!1},SimpleExpressionChecker.prototype.visitSafePropertyRead=function(e,t){this.simple=!1},SimpleExpressionChecker.prototype.visitMethodCall=function(e,t){this.simple=!1},SimpleExpressionChecker.prototype.visitSafeMethodCall=function(e,t){this.simple=!1},SimpleExpressionChecker.prototype.visitFunctionCall=function(e,t){this.simple=!1},SimpleExpressionChecker.prototype.visitLiteralArray=function(e,t){this.visitAll(e.expressions)},SimpleExpressionChecker.prototype.visitLiteralMap=function(e,t){this.visitAll(e.values)},SimpleExpressionChecker.prototype.visitBinary=function(e,t){this.simple=!1},SimpleExpressionChecker.prototype.visitPrefixNot=function(e,t){this.simple=!1},SimpleExpressionChecker.prototype.visitConditional=function(e,t){this.simple=!1},SimpleExpressionChecker.prototype.visitPipe=function(e,t){this.simple=!1},SimpleExpressionChecker.prototype.visitKeyedRead=function(e,t){this.simple=!1},SimpleExpressionChecker.prototype.visitKeyedWrite=function(e,t){this.simple=!1},SimpleExpressionChecker.prototype.visitAll=function(e){for(var t=o.ListWrapper.createFixedSize(e.length),i=0;i<e.length;++i)t[i]=e[i].visit(this);return t},SimpleExpressionChecker.prototype.visitChain=function(e,t){this.simple=!1},SimpleExpressionChecker.prototype.visitQuote=function(e,t){this.simple=!1},SimpleExpressionChecker}()},206:function(e,t,i){"use strict";function partition(e,t,i){for(var r=[],o=0;o<e.length;++o){var a=e[o],p=[];if(_isOpeningComment(a)){for(var c=a.value.replace(/^i18n:?/,"").trim();++o<e.length&&!_isClosingComment(e[o]);)p.push(e[o]);if(o===e.length){t.push(new l(a.sourceSpan,"Missing closing 'i18n' comment."));break}r.push(new u(null,null,p,c,(!0)))}else if(a instanceof s.HtmlElementAst){var c=_findI18nAttr(a),h=n.isPresent(c)||i.indexOf(a.name)>-1;r.push(new u(a,null,a.children,n.isPresent(c)?c.value:null,h))}else a instanceof s.HtmlTextAst&&r.push(new u(null,a,null,null,(!1)))}return r}function _isOpeningComment(e){return e instanceof s.HtmlCommentAst&&n.isPresent(e.value)&&e.value.startsWith("i18n")}function _isClosingComment(e){return e instanceof s.HtmlCommentAst&&n.isPresent(e.value)&&"/i18n"===e.value}function _findI18nAttr(e){for(var i=e.attrs,r=0;r<i.length;r++)if(i[r].name===t.I18N_ATTR)return i[r];return null}function meaning(e){return n.isBlank(e)||""==e?null:e.split("|")[0]}function description(e){if(n.isBlank(e)||""==e)return null;var t=e.split("|",2);return t.length>1?t[1]:null}function messageFromI18nAttribute(e,t,i,r){var n=r.name.substring(5),s=i.attrs.find(function(e){return e.name==n});if(s)return messageFromAttribute(e,t,s,meaning(r.value),description(r.value));throw new l(i.sourceSpan,"Missing attribute '"+n+"'.")}function messageFromAttribute(e,t,i,r,n){void 0===r&&(r=null),void 0===n&&(n=null);var s=removeInterpolation(i.value,i.sourceSpan,e,t);return new a.Message(s,r,n)}function removeInterpolation(e,t,i,r){try{var s=i.splitInterpolation(e,t.toString(),r),o=new Map;if(n.isPresent(s)){for(var a="",p=0;p<s.strings.length;++p)if(a+=s.strings[p],p!=s.strings.length-1){var l=getPhNameFromBinding(s.expressions[p],p);l=dedupePhName(o,l),a+='<ph name="'+l+'"/>'}return a}return e}catch(u){return e}}function getPhNameFromBinding(e,t){var i=n.StringWrapper.split(e,p);return i.length>1?i[1]:""+t}function dedupePhName(e,t){var i=e.get(t);return n.isPresent(i)?(e.set(t,i+1),t+"_"+i):(e.set(t,1),t)}function stringifyNodes(e,t,i){var r=new c(t,i);return s.htmlVisitAll(r,e).join("")}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=i(5),s=i(56),o=i(57),a=i(99);t.I18N_ATTR="i18n",t.I18N_ATTR_PREFIX="i18n-";var p=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*"([\s\S]*?)"[\s\S]*\)/g,l=function(e){function I18nError(t,i){e.call(this,t,i)}return r(I18nError,e),I18nError}(o.ParseError);t.I18nError=l,t.partition=partition;var u=function(){function Part(e,t,i,r,n){this.rootElement=e,this.rootTextNode=t,this.children=i,this.i18n=r,this.hasI18n=n}return Object.defineProperty(Part.prototype,"sourceSpan",{get:function(){return n.isPresent(this.rootElement)?this.rootElement.sourceSpan:n.isPresent(this.rootTextNode)?this.rootTextNode.sourceSpan:this.children[0].sourceSpan},enumerable:!0,configurable:!0}),Part.prototype.createMessage=function(e,t){return new a.Message(stringifyNodes(this.children,e,t),meaning(this.i18n),description(this.i18n))},Part}();t.Part=u,t.meaning=meaning,t.description=description,t.messageFromI18nAttribute=messageFromI18nAttribute,t.messageFromAttribute=messageFromAttribute,t.removeInterpolation=removeInterpolation,t.getPhNameFromBinding=getPhNameFromBinding,t.dedupePhName=dedupePhName,t.stringifyNodes=stringifyNodes;var c=function(){function _StringifyVisitor(e,t){this._parser=e,this._interpolationConfig=t,this._index=0}return _StringifyVisitor.prototype.visitElement=function(e,t){var i=this._index++,r=this._join(s.htmlVisitAll(this,e.children),"");return'<ph name="e'+i+'">'+r+"</ph>"},_StringifyVisitor.prototype.visitAttr=function(e,t){return null},_StringifyVisitor.prototype.visitText=function(e,t){var i=this._index++,r=removeInterpolation(e.value,e.sourceSpan,this._parser,this._interpolationConfig);return r!=e.value?'<ph name="t'+i+'">'+r+"</ph>":e.value},_StringifyVisitor.prototype.visitComment=function(e,t){
return""},_StringifyVisitor.prototype.visitExpansion=function(e,t){return null},_StringifyVisitor.prototype.visitExpansionCase=function(e,t){return null},_StringifyVisitor.prototype._join=function(e,t){return e.filter(function(e){return e.length>0}).join(t)},_StringifyVisitor}()},207:function(e,t,i){"use strict";function flattenDirectives(e,t){var i=[];return p.isPresent(t)&&flattenArray(t,i),p.isPresent(e.directives)&&flattenArray(e.directives,i),i}function flattenPipes(e,t){var i=[];return p.isPresent(t)&&flattenArray(t,i),p.isPresent(e.pipes)&&flattenArray(e.pipes,i),i}function flattenArray(e,t){void 0===t&&(t=[]);for(var i=0;i<e.length;i++){var r=n.resolveForwardRef(e[i]);p.isArray(r)?flattenArray(r,t):t.push(r)}return t}function verifyNonBlankProviders(e,t,i){var r,n=[];flattenArray(t,n);for(var s=0;s<n.length;s++)if(p.isBlank(n[s]))throw r=n.map(function(e){return p.isBlank(e)?"?":p.stringify(e)}).join(", "),new a.BaseException("One or more of "+i+' for "'+p.stringify(e)+'" were not defined: ['+r+"].");return t}function isStaticType(e){return p.isStringMap(e)&&p.isPresent(e.name)&&p.isPresent(e.filePath)}function isValidType(e){return isStaticType(e)||e instanceof p.Type}function staticTypeModuleUrl(e){return isStaticType(e)?e.filePath:null}function componentModuleUrl(e,t,i){if(isStaticType(t))return staticTypeModuleUrl(t);if(p.isPresent(i.moduleId)){var r=i.moduleId,n=f.getUrlScheme(r);return p.isPresent(n)&&n.length>0?r:"package:"+r+v.MODULE_SUFFIX}return e.importUri(t)}function convertToCompileValue(e){return v.visitValue(e,new E,null)}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=i(0),s=i(23),o=i(12),a=i(15),p=i(5),l=i(581),u=i(31),c=i(80),h=i(583),m=i(203),d=i(208),f=i(82),v=i(59),y=i(212),_=function(){function CompileMetadataResolver(e,t,i,r,n){void 0===n&&(n=s.reflector),this._directiveResolver=e,this._pipeResolver=t,this._viewResolver=i,this._config=r,this._reflector=n,this._directiveCache=new Map,this._pipeCache=new Map,this._anonymousTypes=new Map,this._anonymousTypeIndex=0}return CompileMetadataResolver.prototype.sanitizeTokenName=function(e){var t=p.stringify(e);if(t.indexOf("(")>=0){var i=this._anonymousTypes.get(e);p.isBlank(i)&&(this._anonymousTypes.set(e,this._anonymousTypeIndex++),i=this._anonymousTypes.get(e)),t="anonymous_token_"+i+"_"}return v.sanitizeIdentifier(t)},CompileMetadataResolver.prototype.clearCacheFor=function(e){this._directiveCache["delete"](e),this._pipeCache["delete"](e)},CompileMetadataResolver.prototype.clearCache=function(){this._directiveCache.clear(),this._pipeCache.clear()},CompileMetadataResolver.prototype.getAnimationEntryMetadata=function(e){var t=this,i=e.definitions.map(function(e){return t.getAnimationStateMetadata(e)});return new u.CompileAnimationEntryMetadata(e.name,i)},CompileMetadataResolver.prototype.getAnimationStateMetadata=function(e){if(e instanceof n.AnimationStateDeclarationMetadata){var t=this.getAnimationStyleMetadata(e.styles);return new u.CompileAnimationStateDeclarationMetadata(e.stateNameExpr,t)}return e instanceof n.AnimationStateTransitionMetadata?new u.CompileAnimationStateTransitionMetadata(e.stateChangeExpr,this.getAnimationMetadata(e.steps)):null},CompileMetadataResolver.prototype.getAnimationStyleMetadata=function(e){return new u.CompileAnimationStyleMetadata(e.offset,e.styles)},CompileMetadataResolver.prototype.getAnimationMetadata=function(e){var t=this;if(e instanceof n.AnimationStyleMetadata)return this.getAnimationStyleMetadata(e);if(e instanceof n.AnimationKeyframesSequenceMetadata)return new u.CompileAnimationKeyframesSequenceMetadata(e.steps.map(function(e){return t.getAnimationStyleMetadata(e)}));if(e instanceof n.AnimationAnimateMetadata){var i=this.getAnimationMetadata(e.styles);return new u.CompileAnimationAnimateMetadata(e.timings,i)}if(e instanceof n.AnimationWithStepsMetadata){var r=e.steps.map(function(e){return t.getAnimationMetadata(e)});return e instanceof n.AnimationGroupMetadata?new u.CompileAnimationGroupMetadata(r):new u.CompileAnimationSequenceMetadata(r)}return null},CompileMetadataResolver.prototype.getDirectiveMetadata=function(e){var t=this,i=this._directiveCache.get(e);if(p.isBlank(i)){var r=this._directiveResolver.resolve(e),o=null,a=null,c=[],m=staticTypeModuleUrl(e),d=[];if(r instanceof n.ComponentMetadata){var f=r,v=this._viewResolver.resolve(e);l.assertArrayOfStrings("styles",v.styles),l.assertInterpolationSymbols("interpolation",v.interpolation);var y=p.isPresent(v.animations)?v.animations.map(function(e){return t.getAnimationEntryMetadata(e)}):null;l.assertArrayOfStrings("styles",v.styles),l.assertArrayOfStrings("styleUrls",v.styleUrls),o=new u.CompileTemplateMetadata({encapsulation:v.encapsulation,template:v.template,templateUrl:v.templateUrl,styles:v.styles,styleUrls:v.styleUrls,animations:y,interpolation:v.interpolation}),a=f.changeDetection,p.isPresent(r.viewProviders)&&(c=this.getProvidersMetadata(verifyNonBlankProviders(e,r.viewProviders,"viewProviders"))),m=componentModuleUrl(this._reflector,e,f),f.precompile&&(d=flattenArray(f.precompile).map(function(e){return t.getTypeMetadata(e,staticTypeModuleUrl(e))}))}var _=[];p.isPresent(r.providers)&&(_=this.getProvidersMetadata(verifyNonBlankProviders(e,r.providers,"providers")));var E=[],g=[];p.isPresent(r.queries)&&(E=this.getQueriesMetadata(r.queries,!1,e),g=this.getQueriesMetadata(r.queries,!0,e)),i=u.CompileDirectiveMetadata.create({selector:r.selector,exportAs:r.exportAs,isComponent:p.isPresent(o),type:this.getTypeMetadata(e,m),template:o,changeDetection:a,inputs:r.inputs,outputs:r.outputs,host:r.host,lifecycleHooks:s.LIFECYCLE_HOOKS_VALUES.filter(function(t){return h.hasLifecycleHook(t,e)}),providers:_,viewProviders:c,queries:E,viewQueries:g,precompile:d}),this._directiveCache.set(e,i)}return i},CompileMetadataResolver.prototype.maybeGetDirectiveMetadata=function(e){try{return this.getDirectiveMetadata(e)}catch(t){if(t.message.indexOf("No Directive annotation")!==-1)return null;throw t}},CompileMetadataResolver.prototype.getTypeMetadata=function(e,t,i){return void 0===i&&(i=null),new u.CompileTypeMetadata({name:this.sanitizeTokenName(e),moduleUrl:t,runtime:e,diDeps:this.getDependenciesMetadata(e,i)})},CompileMetadataResolver.prototype.getFactoryMetadata=function(e,t,i){return void 0===i&&(i=null),new u.CompileFactoryMetadata({name:this.sanitizeTokenName(e),moduleUrl:t,runtime:e,diDeps:this.getDependenciesMetadata(e,i)})},CompileMetadataResolver.prototype.getPipeMetadata=function(e){var t=this._pipeCache.get(e);if(p.isBlank(t)){var i=this._pipeResolver.resolve(e);t=new u.CompilePipeMetadata({type:this.getTypeMetadata(e,staticTypeModuleUrl(e)),name:i.name,pure:i.pure,lifecycleHooks:s.LIFECYCLE_HOOKS_VALUES.filter(function(t){return h.hasLifecycleHook(t,e)})}),this._pipeCache.set(e,t)}return t},CompileMetadataResolver.prototype.getViewDirectivesMetadata=function(e){for(var t=this,i=this._viewResolver.resolve(e),r=flattenDirectives(i,this._config.platformDirectives),n=0;n<r.length;n++)if(!isValidType(r[n]))throw new a.BaseException("Unexpected directive value '"+p.stringify(r[n])+"' on the View of component '"+p.stringify(e)+"'");return r.map(function(e){return t.getDirectiveMetadata(e)})},CompileMetadataResolver.prototype.getViewPipesMetadata=function(e){for(var t=this,i=this._viewResolver.resolve(e),r=flattenPipes(i,this._config.platformPipes),n=0;n<r.length;n++)if(!isValidType(r[n]))throw new a.BaseException("Unexpected piped value '"+p.stringify(r[n])+"' on the View of component '"+p.stringify(e)+"'");return r.map(function(e){return t.getPipeMetadata(e)})},CompileMetadataResolver.prototype.getDependenciesMetadata=function(e,t){var i=this,r=!1,s=p.isPresent(t)?t:this._reflector.parameters(e);p.isBlank(s)&&(s=[]);var o=s.map(function(t){var s=!1,o=!1,a=!1,l=!1,c=!1,h=null,m=null,d=null;return p.isArray(t)?t.forEach(function(e){e instanceof n.HostMetadata?o=!0:e instanceof n.SelfMetadata?a=!0:e instanceof n.SkipSelfMetadata?l=!0:e instanceof n.OptionalMetadata?c=!0:e instanceof n.AttributeMetadata?(s=!0,d=e.attributeName):e instanceof n.QueryMetadata?e.isViewQuery?m=e:h=e:e instanceof n.InjectMetadata?d=e.token:isValidType(e)&&p.isBlank(d)&&(d=e)}):d=t,p.isBlank(d)?(r=!0,null):new u.CompileDiDependencyMetadata({isAttribute:s,isHost:o,isSelf:a,isSkipSelf:l,isOptional:c,query:p.isPresent(h)?i.getQueryMetadata(h,null,e):null,viewQuery:p.isPresent(m)?i.getQueryMetadata(m,null,e):null,token:i.getTokenMetadata(d)})});if(r){var l=o.map(function(e){return e?p.stringify(e.token):"?"}).join(", ");throw new a.BaseException("Can't resolve all parameters for "+p.stringify(e)+": ("+l+").")}return o},CompileMetadataResolver.prototype.getTokenMetadata=function(e){e=n.resolveForwardRef(e);var t;return t=p.isString(e)?new u.CompileTokenMetadata({value:e}):new u.CompileTokenMetadata({identifier:new u.CompileIdentifierMetadata({runtime:e,name:this.sanitizeTokenName(e),moduleUrl:staticTypeModuleUrl(e)})})},CompileMetadataResolver.prototype.getProvidersMetadata=function(e){var t=this;return e.map(function(e){return e=n.resolveForwardRef(e),p.isArray(e)?t.getProvidersMetadata(e):e instanceof n.Provider?t.getProviderMetadata(e):s.isProviderLiteral(e)?t.getProviderMetadata(s.createProvider(e)):t.getTypeMetadata(e,staticTypeModuleUrl(e))})},CompileMetadataResolver.prototype.getProviderMetadata=function(e){var t,i=null,r=null;return p.isPresent(e.useClass)?(i=this.getTypeMetadata(e.useClass,staticTypeModuleUrl(e.useClass),e.dependencies),t=i.diDeps):p.isPresent(e.useFactory)&&(r=this.getFactoryMetadata(e.useFactory,staticTypeModuleUrl(e.useFactory),e.dependencies),t=r.diDeps),new u.CompileProviderMetadata({token:this.getTokenMetadata(e.token),useClass:i,useValue:convertToCompileValue(e.useValue),useFactory:r,useExisting:p.isPresent(e.useExisting)?this.getTokenMetadata(e.useExisting):null,deps:t,multi:e.multi})},CompileMetadataResolver.prototype.getQueriesMetadata=function(e,t,i){var r=this,n=[];return o.StringMapWrapper.forEach(e,function(e,s){e.isViewQuery===t&&n.push(r.getQueryMetadata(e,s,i))}),n},CompileMetadataResolver.prototype.getQueryMetadata=function(e,t,i){var r,n=this;if(e.isVarBindingQuery)r=e.varBindings.map(function(e){return n.getTokenMetadata(e)});else{if(!p.isPresent(e.selector))throw new a.BaseException("Can't construct a query for the property \""+t+'" of "'+p.stringify(i)+"\" since the query selector wasn't defined.");r=[this.getTokenMetadata(e.selector)]}return new u.CompileQueryMetadata({selectors:r,first:e.first,descendants:e.descendants,propertyName:t,read:p.isPresent(e.read)?this.getTokenMetadata(e.read):null})},CompileMetadataResolver.decorators=[{type:n.Injectable}],CompileMetadataResolver.ctorParameters=[{type:m.DirectiveResolver},{type:d.PipeResolver},{type:y.ViewResolver},{type:c.CompilerConfig},{type:s.ReflectorReader}],CompileMetadataResolver}();t.CompileMetadataResolver=_;var E=function(e){function _CompileValueConverter(){e.apply(this,arguments)}return r(_CompileValueConverter,e),_CompileValueConverter.prototype.visitOther=function(e,t){return isStaticType(e)?new u.CompileIdentifierMetadata({name:e.name,moduleUrl:staticTypeModuleUrl(e)}):new u.CompileIdentifierMetadata({runtime:e})},_CompileValueConverter}(v.ValueTransformer)},208:function(e,t,i){"use strict";function _isPipeMetadata(e){return e instanceof r.PipeMetadata}var r=i(0),n=i(23),s=i(15),o=i(5),a=function(){function PipeResolver(e){void 0===e&&(e=n.reflector),this._reflector=e}return PipeResolver.prototype.resolve=function(e){var t=this._reflector.annotations(r.resolveForwardRef(e));if(o.isPresent(t)){var i=t.find(_isPipeMetadata);if(o.isPresent(i))return i}throw new s.BaseException("No Pipe decorator found on "+o.stringify(e))},PipeResolver.decorators=[{type:r.Injectable}],PipeResolver.ctorParameters=[{type:n.ReflectorReader}],PipeResolver}();t.PipeResolver=a},209:function(e,t,i){"use strict";var r=i(12),n=i(15),s=i(5),o="",a=s.RegExpWrapper.create("(\\:not\\()|([-\\w]+)|(?:\\.([-\\w]+))|(?:\\[([-\\w*]+)(?:=([^\\]]*))?\\])|(\\))|(\\s*,\\s*)"),p=function(){function CssSelector(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}return CssSelector.parse=function(e){for(var t,i=[],o=function(e,t){t.notSelectors.length>0&&s.isBlank(t.element)&&r.ListWrapper.isEmpty(t.classNames)&&r.ListWrapper.isEmpty(t.attrs)&&(t.element="*"),e.push(t)},p=new CssSelector,l=s.RegExpWrapper.matcher(a,e),u=p,c=!1;s.isPresent(t=s.RegExpMatcherWrapper.next(l));){if(s.isPresent(t[1])){if(c)throw new n.BaseException("Nesting :not is not allowed in a selector");c=!0,u=new CssSelector,p.notSelectors.push(u)}if(s.isPresent(t[2])&&u.setElement(t[2]),s.isPresent(t[3])&&u.addClassName(t[3]),s.isPresent(t[4])&&u.addAttribute(t[4],t[5]),s.isPresent(t[6])&&(c=!1,u=p),s.isPresent(t[7])){if(c)throw new n.BaseException("Multiple selectors in :not are not supported");o(i,p),p=u=new CssSelector}}return o(i,p),i},CssSelector.prototype.isElementSelector=function(){return s.isPresent(this.element)&&r.ListWrapper.isEmpty(this.classNames)&&r.ListWrapper.isEmpty(this.attrs)&&0===this.notSelectors.length},CssSelector.prototype.setElement=function(e){void 0===e&&(e=null),this.element=e},CssSelector.prototype.getMatchingElementTemplate=function(){for(var e=s.isPresent(this.element)?this.element:"div",t=this.classNames.length>0?' class="'+this.classNames.join(" ")+'"':"",i="",r=0;r<this.attrs.length;r+=2){var n=this.attrs[r],o=""!==this.attrs[r+1]?'="'+this.attrs[r+1]+'"':"";i+=" "+n+o}return"<"+e+t+i+"></"+e+">"},CssSelector.prototype.addAttribute=function(e,t){void 0===t&&(t=o),this.attrs.push(e),t=s.isPresent(t)?t.toLowerCase():o,this.attrs.push(t)},CssSelector.prototype.addClassName=function(e){this.classNames.push(e.toLowerCase())},CssSelector.prototype.toString=function(){var e="";if(s.isPresent(this.element)&&(e+=this.element),s.isPresent(this.classNames))for(var t=0;t<this.classNames.length;t++)e+="."+this.classNames[t];if(s.isPresent(this.attrs))for(var t=0;t<this.attrs.length;){var i=this.attrs[t++],r=this.attrs[t++];e+="["+i,r.length>0&&(e+="="+r),e+="]"}return this.notSelectors.forEach(function(t){return e+=":not("+t+")"}),e},CssSelector}();t.CssSelector=p;var l=function(){function SelectorMatcher(){this._elementMap=new r.Map,this._elementPartialMap=new r.Map,this._classMap=new r.Map,this._classPartialMap=new r.Map,this._attrValueMap=new r.Map,this._attrValuePartialMap=new r.Map,this._listContexts=[]}return SelectorMatcher.createNotMatcher=function(e){var t=new SelectorMatcher;return t.addSelectables(e,null),t},SelectorMatcher.prototype.addSelectables=function(e,t){var i=null;e.length>1&&(i=new u(e),this._listContexts.push(i));for(var r=0;r<e.length;r++)this._addSelectable(e[r],t,i)},SelectorMatcher.prototype._addSelectable=function(e,t,i){var n=this,o=e.element,a=e.classNames,p=e.attrs,l=new c(e,t,i);if(s.isPresent(o)){var u=0===p.length&&0===a.length;u?this._addTerminal(n._elementMap,o,l):n=this._addPartial(n._elementPartialMap,o)}if(s.isPresent(a))for(var h=0;h<a.length;h++){var u=0===p.length&&h===a.length-1,m=a[h];u?this._addTerminal(n._classMap,m,l):n=this._addPartial(n._classPartialMap,m)}if(s.isPresent(p))for(var h=0;h<p.length;){var u=h===p.length-2,d=p[h++],f=p[h++];if(u){var v=n._attrValueMap,y=v.get(d);s.isBlank(y)&&(y=new r.Map,v.set(d,y)),this._addTerminal(y,f,l)}else{var _=n._attrValuePartialMap,E=_.get(d);s.isBlank(E)&&(E=new r.Map,_.set(d,E)),n=this._addPartial(E,f)}}},SelectorMatcher.prototype._addTerminal=function(e,t,i){var r=e.get(t);s.isBlank(r)&&(r=[],e.set(t,r)),r.push(i)},SelectorMatcher.prototype._addPartial=function(e,t){var i=e.get(t);return s.isBlank(i)&&(i=new SelectorMatcher,e.set(t,i)),i},SelectorMatcher.prototype.match=function(e,t){for(var i=!1,r=e.element,n=e.classNames,a=e.attrs,p=0;p<this._listContexts.length;p++)this._listContexts[p].alreadyMatched=!1;if(i=this._matchTerminal(this._elementMap,r,e,t)||i,i=this._matchPartial(this._elementPartialMap,r,e,t)||i,s.isPresent(n))for(var l=0;l<n.length;l++){var u=n[l];i=this._matchTerminal(this._classMap,u,e,t)||i,i=this._matchPartial(this._classPartialMap,u,e,t)||i}if(s.isPresent(a))for(var l=0;l<a.length;){var c=a[l++],h=a[l++],m=this._attrValueMap.get(c);s.StringWrapper.equals(h,o)||(i=this._matchTerminal(m,o,e,t)||i),i=this._matchTerminal(m,h,e,t)||i;var d=this._attrValuePartialMap.get(c);s.StringWrapper.equals(h,o)||(i=this._matchPartial(d,o,e,t)||i),i=this._matchPartial(d,h,e,t)||i}return i},SelectorMatcher.prototype._matchTerminal=function(e,t,i,r){if(s.isBlank(e)||s.isBlank(t))return!1;var n=e.get(t),o=e.get("*");if(s.isPresent(o)&&(n=n.concat(o)),s.isBlank(n))return!1;for(var a,p=!1,l=0;l<n.length;l++)a=n[l],p=a.finalize(i,r)||p;return p},SelectorMatcher.prototype._matchPartial=function(e,t,i,r){if(s.isBlank(e)||s.isBlank(t))return!1;var n=e.get(t);return!s.isBlank(n)&&n.match(i,r)},SelectorMatcher}();t.SelectorMatcher=l;var u=function(){function SelectorListContext(e){this.selectors=e,this.alreadyMatched=!1}return SelectorListContext}();t.SelectorListContext=u;var c=function(){function SelectorContext(e,t,i){this.selector=e,this.cbContext=t,this.listContext=i,this.notSelectors=e.notSelectors}return SelectorContext.prototype.finalize=function(e,t){var i=!0;if(this.notSelectors.length>0&&(s.isBlank(this.listContext)||!this.listContext.alreadyMatched)){var r=l.createNotMatcher(this.notSelectors);i=!r.match(e,null)}return i&&s.isPresent(t)&&(s.isBlank(this.listContext)||!this.listContext.alreadyMatched)&&(s.isPresent(this.listContext)&&(this.listContext.alreadyMatched=!0),t(this.selector,this.cbContext)),i},SelectorContext}();t.SelectorContext=c},210:function(e,t,i){"use strict";function getStylesVarName(e){var t="styles";return e&&(t+="_"+e.type.name),t}var r=i(0),n=i(31),s=i(19),o=i(600),a=i(82),p="%COMP%",l="_nghost-"+p,u="_ngcontent-"+p,c=function(){function StylesCompileDependency(e,t,i){this.moduleUrl=e,this.isShimmed=t,this.valuePlaceholder=i}return StylesCompileDependency}();t.StylesCompileDependency=c;var h=function(){function StylesCompileResult(e,t){this.componentStylesheet=e,this.externalStylesheets=t}return StylesCompileResult}();t.StylesCompileResult=h;var m=function(){function CompiledStylesheet(e,t,i,r,n){this.statements=e,this.stylesVar=t,this.dependencies=i,this.isShimmed=r,this.meta=n}return CompiledStylesheet}();t.CompiledStylesheet=m;var d=function(){function StyleCompiler(e){this._urlResolver=e,this._shadowCss=new o.ShadowCss}return StyleCompiler.prototype.compileComponent=function(e){var t=this,i=(e.template.encapsulation===r.ViewEncapsulation.Emulated,[]),s=this._compileStyles(e,new n.CompileStylesheetMetadata({styles:e.template.styles,styleUrls:e.template.styleUrls,moduleUrl:e.type.moduleUrl}),!0);return e.template.externalStylesheets.forEach(function(r){var n=t._compileStyles(e,r,!1);i.push(n)}),new h(s,i)},StyleCompiler.prototype._compileStyles=function(e,t,i){for(var o=this,a=e.template.encapsulation===r.ViewEncapsulation.Emulated,p=t.styles.map(function(e){return s.literal(o._shimIfNeeded(e,a))}),l=[],u=0;u<t.styleUrls.length;u++){var h=new n.CompileIdentifierMetadata({name:getStylesVarName(null)});l.push(new c(t.styleUrls[u],a,h)),p.push(new s.ExternalExpr(h))}var d=getStylesVarName(i?e:null),f=s.variable(d).set(s.literalArr(p,new s.ArrayType(s.DYNAMIC_TYPE,[s.TypeModifier.Const]))).toDeclStmt(null,[s.StmtModifier.Final]);return new m([f],d,l,a,t)},StyleCompiler.prototype._shimIfNeeded=function(e,t){return t?this._shadowCss.shimCssText(e,u,l):e},StyleCompiler.decorators=[{type:r.Injectable}],StyleCompiler.ctorParameters=[{type:a.UrlResolver}],StyleCompiler}();t.StyleCompiler=d},211:function(e,t,i){"use strict";var r=i(12),n=i(5),s=i(19),o=function(){function _DebugState(e,t){this.nodeIndex=e,this.sourceAst=t}return _DebugState}(),a=new o(null,null),p=function(){function CompileMethod(e){this._view=e,this._newState=a,this._currState=a,this._bodyStatements=[],this._debugEnabled=this._view.genConfig.genDebugInfo}return CompileMethod.prototype._updateDebugContextIfNeeded=function(){if(this._newState.nodeIndex!==this._currState.nodeIndex||this._newState.sourceAst!==this._currState.sourceAst){var e=this._updateDebugContext(this._newState);n.isPresent(e)&&this._bodyStatements.push(e.toStmt())}},CompileMethod.prototype._updateDebugContext=function(e){if(this._currState=this._newState=e,this._debugEnabled){var t=n.isPresent(e.sourceAst)?e.sourceAst.sourceSpan.start:null;return s.THIS_EXPR.callMethod("debug",[s.literal(e.nodeIndex),n.isPresent(t)?s.literal(t.line):s.NULL_EXPR,n.isPresent(t)?s.literal(t.col):s.NULL_EXPR])}return null},CompileMethod.prototype.resetDebugInfoExpr=function(e,t){var i=this._updateDebugContext(new o(e,t));return n.isPresent(i)?i:s.NULL_EXPR},CompileMethod.prototype.resetDebugInfo=function(e,t){this._newState=new o(e,t)},CompileMethod.prototype.addStmt=function(e){this._updateDebugContextIfNeeded(),this._bodyStatements.push(e)},CompileMethod.prototype.addStmts=function(e){this._updateDebugContextIfNeeded(),r.ListWrapper.addAll(this._bodyStatements,e)},CompileMethod.prototype.finish=function(){return this._bodyStatements},CompileMethod.prototype.isEmpty=function(){return 0===this._bodyStatements.length},CompileMethod}();t.CompileMethod=p},212:function(e,t,i){"use strict";var r=i(0),n=i(23),s=i(5),o=i(15),a=function(){function ViewResolver(e){void 0===e&&(e=n.reflector),this._reflector=e}return ViewResolver.prototype.resolve=function(e){var t;if(this._reflector.annotations(e).forEach(function(e){e instanceof r.ComponentMetadata&&(t=e)}),s.isPresent(t)){if(s.isBlank(t.template)&&s.isBlank(t.templateUrl))throw new o.BaseException("Component '"+s.stringify(e)+"' must have either 'template' or 'templateUrl' set.");return new r.ViewMetadata({templateUrl:t.templateUrl,template:t.template,directives:t.directives,pipes:t.pipes,encapsulation:t.encapsulation,styles:t.styles,styleUrls:t.styleUrls,animations:t.animations,interpolation:t.interpolation})}throw new o.BaseException("Could not compile '"+s.stringify(e)+"' because it is not a component.")},ViewResolver.decorators=[{type:r.Injectable}],ViewResolver.ctorParameters=[{type:n.ReflectorReader}],ViewResolver}();t.ViewResolver=a},23:function(e,t,i){"use strict";var r=i(0);t.isDefaultChangeDetectionStrategy=r.__core_private__.isDefaultChangeDetectionStrategy,t.ChangeDetectorStatus=r.__core_private__.ChangeDetectorStatus,t.CHANGE_DETECTION_STRATEGY_VALUES=r.__core_private__.CHANGE_DETECTION_STRATEGY_VALUES,t.constructDependencies=r.__core_private__.constructDependencies,t.LifecycleHooks=r.__core_private__.LifecycleHooks,t.LIFECYCLE_HOOKS_VALUES=r.__core_private__.LIFECYCLE_HOOKS_VALUES,t.ReflectorReader=r.__core_private__.ReflectorReader,t.ReflectorComponentResolver=r.__core_private__.ReflectorComponentResolver,t.AppElement=r.__core_private__.AppElement,t.CodegenComponentFactoryResolver=r.__core_private__.CodegenComponentFactoryResolver,t.AppView=r.__core_private__.AppView,t.DebugAppView=r.__core_private__.DebugAppView,t.ViewType=r.__core_private__.ViewType,t.MAX_INTERPOLATION_VALUES=r.__core_private__.MAX_INTERPOLATION_VALUES,t.checkBinding=r.__core_private__.checkBinding,t.flattenNestedViewRenderNodes=r.__core_private__.flattenNestedViewRenderNodes,t.interpolate=r.__core_private__.interpolate,t.ViewUtils=r.__core_private__.ViewUtils,t.VIEW_ENCAPSULATION_VALUES=r.__core_private__.VIEW_ENCAPSULATION_VALUES,t.DebugContext=r.__core_private__.DebugContext,t.StaticNodeDebugInfo=r.__core_private__.StaticNodeDebugInfo,t.devModeEqual=r.__core_private__.devModeEqual,t.uninitialized=r.__core_private__.uninitialized,t.ValueUnwrapper=r.__core_private__.ValueUnwrapper,t.TemplateRef_=r.__core_private__.TemplateRef_,t.RenderDebugInfo=r.__core_private__.RenderDebugInfo,t.SecurityContext=r.__core_private__.SecurityContext,t.SanitizationService=r.__core_private__.SanitizationService,t.createProvider=r.__core_private__.createProvider,t.isProviderLiteral=r.__core_private__.isProviderLiteral,t.EMPTY_ARRAY=r.__core_private__.EMPTY_ARRAY,t.EMPTY_MAP=r.__core_private__.EMPTY_MAP,t.pureProxy1=r.__core_private__.pureProxy1,t.pureProxy2=r.__core_private__.pureProxy2,t.pureProxy3=r.__core_private__.pureProxy3,t.pureProxy4=r.__core_private__.pureProxy4,t.pureProxy5=r.__core_private__.pureProxy5,t.pureProxy6=r.__core_private__.pureProxy6,t.pureProxy7=r.__core_private__.pureProxy7,t.pureProxy8=r.__core_private__.pureProxy8,t.pureProxy9=r.__core_private__.pureProxy9,t.pureProxy10=r.__core_private__.pureProxy10,t.castByValue=r.__core_private__.castByValue,t.Console=r.__core_private__.Console,t.reflector=r.__core_private__.reflector,t.NoOpAnimationPlayer=r.__core_private__.NoOpAnimationPlayer,t.AnimationPlayer=r.__core_private__.AnimationPlayer,t.NoOpAnimationDriver=r.__core_private__.NoOpAnimationDriver,t.AnimationDriver=r.__core_private__.AnimationDriver,t.AnimationSequencePlayer=r.__core_private__.AnimationSequencePlayer,t.AnimationGroupPlayer=r.__core_private__.AnimationGroupPlayer,t.AnimationKeyframe=r.__core_private__.AnimationKeyframe,t.AnimationStyles=r.__core_private__.AnimationStyles,t.ANY_STATE=r.__core_private__.ANY_STATE,t.DEFAULT_STATE=r.__core_private__.DEFAULT_STATE,t.EMPTY_STATE=r.__core_private__.EMPTY_STATE,t.FILL_STYLE_FLAG=r.__core_private__.FILL_STYLE_FLAG,t.prepareFinalAnimationStyles=r.__core_private__.prepareFinalAnimationStyles,t.balanceAnimationKeyframes=r.__core_private__.balanceAnimationKeyframes,t.flattenStyles=r.__core_private__.flattenStyles,t.clearStyles=r.__core_private__.clearStyles,t.collectAndResolveStyles=r.__core_private__.collectAndResolveStyles,t.renderStyles=r.__core_private__.renderStyles},235:321,31:function(e,t,i){"use strict";function metadataFromJson(e){return F[e["class"]](e)}function createHostComponentMeta(e,t){var i=l.CssSelector.parse(t)[0].getMatchingElementTemplate();return B.create({type:new k({runtime:Object,name:e.name+"_Host",moduleUrl:e.moduleUrl,isHost:!0}),template:new O({template:i,templateUrl:"",styles:[],styleUrls:[],ngContentSelectors:[],animations:[]}),changeDetection:n.ChangeDetectionStrategy.Default,inputs:[],outputs:[],host:{},lifecycleHooks:[],isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],viewQueries:[]})}function _arrayFromJson(e,t){return p.isBlank(e)?null:e.map(function(e){return _objFromJson(e,t)})}function _arrayToJson(e){return p.isBlank(e)?null:e.map(_objToJson)}function _objFromJson(e,t){return p.isArray(e)?_arrayFromJson(e,t):p.isString(e)||p.isBlank(e)||p.isBoolean(e)||p.isNumber(e)?e:t(e)}function _objToJson(e){return p.isArray(e)?_arrayToJson(e):p.isString(e)||p.isBlank(e)||p.isBoolean(e)||p.isNumber(e)?e:e.toJson()}function _normalizeArray(e){return p.isPresent(e)?e:[]}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=i(0),s=i(23),o=i(12),a=i(15),p=i(5),l=i(209),u=i(82),c=i(59),h=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))$/g,m=function(){function CompileMetadataWithIdentifier(){}return Object.defineProperty(CompileMetadataWithIdentifier.prototype,"identifier",{get:function(){return a.unimplemented()},enumerable:!0,configurable:!0}),CompileMetadataWithIdentifier}();t.CompileMetadataWithIdentifier=m;var d=function(e){function CompileMetadataWithType(){e.apply(this,arguments)}return r(CompileMetadataWithType,e),Object.defineProperty(CompileMetadataWithType.prototype,"type",{get:function(){return a.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(CompileMetadataWithType.prototype,"identifier",{get:function(){return a.unimplemented()},enumerable:!0,configurable:!0}),CompileMetadataWithType}(m);t.CompileMetadataWithType=d,t.metadataFromJson=metadataFromJson;var f=function(){function CompileAnimationEntryMetadata(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.name=e,this.definitions=t}return CompileAnimationEntryMetadata.fromJson=function(e){var t=e.value,i=_arrayFromJson(t.definitions,metadataFromJson);return new CompileAnimationEntryMetadata(t.name,i)},CompileAnimationEntryMetadata.prototype.toJson=function(){return{"class":"AnimationEntryMetadata",value:{name:this.name,definitions:_arrayToJson(this.definitions)}}},CompileAnimationEntryMetadata}();t.CompileAnimationEntryMetadata=f;var v=function(){function CompileAnimationStateMetadata(){}return CompileAnimationStateMetadata}();t.CompileAnimationStateMetadata=v;var y=function(e){function CompileAnimationStateDeclarationMetadata(t,i){e.call(this),this.stateNameExpr=t,this.styles=i}return r(CompileAnimationStateDeclarationMetadata,e),CompileAnimationStateDeclarationMetadata.fromJson=function(e){var t=e.value,i=_objFromJson(t.styles,metadataFromJson);return new CompileAnimationStateDeclarationMetadata(t.stateNameExpr,i)},CompileAnimationStateDeclarationMetadata.prototype.toJson=function(){return{"class":"AnimationStateDeclarationMetadata",value:{stateNameExpr:this.stateNameExpr,styles:this.styles.toJson()}}},CompileAnimationStateDeclarationMetadata}(v);t.CompileAnimationStateDeclarationMetadata=y;var _=function(e){function CompileAnimationStateTransitionMetadata(t,i){e.call(this),this.stateChangeExpr=t,this.steps=i}return r(CompileAnimationStateTransitionMetadata,e),CompileAnimationStateTransitionMetadata.fromJson=function(e){var t=e.value,i=_objFromJson(t.steps,metadataFromJson);return new CompileAnimationStateTransitionMetadata(t.stateChangeExpr,i)},CompileAnimationStateTransitionMetadata.prototype.toJson=function(){return{"class":"AnimationStateTransitionMetadata",value:{stateChangeExpr:this.stateChangeExpr,steps:this.steps.toJson()}}},CompileAnimationStateTransitionMetadata}(v);t.CompileAnimationStateTransitionMetadata=_;var E=function(){function CompileAnimationMetadata(){}return CompileAnimationMetadata}();t.CompileAnimationMetadata=E;var g=function(e){function CompileAnimationKeyframesSequenceMetadata(t){void 0===t&&(t=[]),e.call(this),this.steps=t}return r(CompileAnimationKeyframesSequenceMetadata,e),CompileAnimationKeyframesSequenceMetadata.fromJson=function(e){var t=_arrayFromJson(e.value,metadataFromJson);return new CompileAnimationKeyframesSequenceMetadata(t)},CompileAnimationKeyframesSequenceMetadata.prototype.toJson=function(){return{"class":"AnimationKeyframesSequenceMetadata",value:_arrayToJson(this.steps)}},CompileAnimationKeyframesSequenceMetadata}(E);t.CompileAnimationKeyframesSequenceMetadata=g;var C=function(e){function CompileAnimationStyleMetadata(t,i){void 0===i&&(i=null),e.call(this),this.offset=t,this.styles=i}return r(CompileAnimationStyleMetadata,e),CompileAnimationStyleMetadata.fromJson=function(e){var t=e.value,i=t.offset,r=p.isPresent(i)?p.NumberWrapper.parseFloat(i):null,n=t.styles;return new CompileAnimationStyleMetadata(r,n)},CompileAnimationStyleMetadata.prototype.toJson=function(){return{"class":"AnimationStyleMetadata",value:{offset:this.offset,styles:this.styles}}},CompileAnimationStyleMetadata}(E);t.CompileAnimationStyleMetadata=C;var S=function(e){function CompileAnimationAnimateMetadata(t,i){void 0===t&&(t=0),void 0===i&&(i=null),e.call(this),this.timings=t,this.styles=i}return r(CompileAnimationAnimateMetadata,e),CompileAnimationAnimateMetadata.fromJson=function(e){var t=e.value,i=t.timings,r=_objFromJson(t.styles,metadataFromJson);return new CompileAnimationAnimateMetadata(i,r)},CompileAnimationAnimateMetadata.prototype.toJson=function(){return{"class":"AnimationAnimateMetadata",value:{timings:this.timings,styles:_objToJson(this.styles)}}},CompileAnimationAnimateMetadata}(E);t.CompileAnimationAnimateMetadata=S;var A=function(e){function CompileAnimationWithStepsMetadata(t){void 0===t&&(t=null),e.call(this),this.steps=t}return r(CompileAnimationWithStepsMetadata,e),CompileAnimationWithStepsMetadata}(E);t.CompileAnimationWithStepsMetadata=A;var T=function(e){function CompileAnimationSequenceMetadata(t){void 0===t&&(t=null),
e.call(this,t)}return r(CompileAnimationSequenceMetadata,e),CompileAnimationSequenceMetadata.fromJson=function(e){var t=_arrayFromJson(e.value,metadataFromJson);return new CompileAnimationSequenceMetadata(t)},CompileAnimationSequenceMetadata.prototype.toJson=function(){return{"class":"AnimationSequenceMetadata",value:_arrayToJson(this.steps)}},CompileAnimationSequenceMetadata}(A);t.CompileAnimationSequenceMetadata=T;var P=function(e){function CompileAnimationGroupMetadata(t){void 0===t&&(t=null),e.call(this,t)}return r(CompileAnimationGroupMetadata,e),CompileAnimationGroupMetadata.fromJson=function(e){var t=_arrayFromJson(e.value,metadataFromJson);return new CompileAnimationGroupMetadata(t)},CompileAnimationGroupMetadata.prototype.toJson=function(){return{"class":"AnimationGroupMetadata",value:_arrayToJson(this.steps)}},CompileAnimationGroupMetadata}(A);t.CompileAnimationGroupMetadata=P;var w=function(){function CompileIdentifierMetadata(e){var t=void 0===e?{}:e,i=t.runtime,r=t.name,n=t.moduleUrl,s=t.prefix,o=t.value;this.runtime=i,this.name=r,this.prefix=s,this.moduleUrl=n,this.value=o}return CompileIdentifierMetadata.fromJson=function(e){var t=p.isArray(e.value)?_arrayFromJson(e.value,metadataFromJson):_objFromJson(e.value,metadataFromJson);return new CompileIdentifierMetadata({name:e.name,prefix:e.prefix,moduleUrl:e.moduleUrl,value:t})},CompileIdentifierMetadata.prototype.toJson=function(){var e=p.isArray(this.value)?_arrayToJson(this.value):_objToJson(this.value);return{"class":"Identifier",name:this.name,moduleUrl:this.moduleUrl,prefix:this.prefix,value:e}},Object.defineProperty(CompileIdentifierMetadata.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),CompileIdentifierMetadata}();t.CompileIdentifierMetadata=w;var x=function(){function CompileDiDependencyMetadata(e){var t=void 0===e?{}:e,i=t.isAttribute,r=t.isSelf,n=t.isHost,s=t.isSkipSelf,o=t.isOptional,a=t.isValue,l=t.query,u=t.viewQuery,c=t.token,h=t.value;this.isAttribute=p.normalizeBool(i),this.isSelf=p.normalizeBool(r),this.isHost=p.normalizeBool(n),this.isSkipSelf=p.normalizeBool(s),this.isOptional=p.normalizeBool(o),this.isValue=p.normalizeBool(a),this.query=l,this.viewQuery=u,this.token=c,this.value=h}return CompileDiDependencyMetadata.fromJson=function(e){return new CompileDiDependencyMetadata({token:_objFromJson(e.token,R.fromJson),query:_objFromJson(e.query,N.fromJson),viewQuery:_objFromJson(e.viewQuery,N.fromJson),value:e.value,isAttribute:e.isAttribute,isSelf:e.isSelf,isHost:e.isHost,isSkipSelf:e.isSkipSelf,isOptional:e.isOptional,isValue:e.isValue})},CompileDiDependencyMetadata.prototype.toJson=function(){return{token:_objToJson(this.token),query:_objToJson(this.query),viewQuery:_objToJson(this.viewQuery),value:this.value,isAttribute:this.isAttribute,isSelf:this.isSelf,isHost:this.isHost,isSkipSelf:this.isSkipSelf,isOptional:this.isOptional,isValue:this.isValue}},CompileDiDependencyMetadata}();t.CompileDiDependencyMetadata=x;var M=function(){function CompileProviderMetadata(e){var t=e.token,i=e.useClass,r=e.useValue,n=e.useExisting,s=e.useFactory,o=e.deps,a=e.multi;this.token=t,this.useClass=i,this.useValue=r,this.useExisting=n,this.useFactory=s,this.deps=p.normalizeBlank(o),this.multi=p.normalizeBool(a)}return CompileProviderMetadata.fromJson=function(e){return new CompileProviderMetadata({token:_objFromJson(e.token,R.fromJson),useClass:_objFromJson(e.useClass,k.fromJson),useExisting:_objFromJson(e.useExisting,R.fromJson),useValue:_objFromJson(e.useValue,w.fromJson),useFactory:_objFromJson(e.useFactory,I.fromJson),multi:e.multi,deps:_arrayFromJson(e.deps,x.fromJson)})},CompileProviderMetadata.prototype.toJson=function(){return{"class":"Provider",token:_objToJson(this.token),useClass:_objToJson(this.useClass),useExisting:_objToJson(this.useExisting),useValue:_objToJson(this.useValue),useFactory:_objToJson(this.useFactory),multi:this.multi,deps:_arrayToJson(this.deps)}},CompileProviderMetadata}();t.CompileProviderMetadata=M;var I=function(){function CompileFactoryMetadata(e){var t=e.runtime,i=e.name,r=e.moduleUrl,n=e.prefix,s=e.diDeps,o=e.value;this.runtime=t,this.name=i,this.prefix=n,this.moduleUrl=r,this.diDeps=_normalizeArray(s),this.value=o}return Object.defineProperty(CompileFactoryMetadata.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),CompileFactoryMetadata.fromJson=function(e){return new CompileFactoryMetadata({name:e.name,prefix:e.prefix,moduleUrl:e.moduleUrl,value:e.value,diDeps:_arrayFromJson(e.diDeps,x.fromJson)})},CompileFactoryMetadata.prototype.toJson=function(){return{"class":"Factory",name:this.name,prefix:this.prefix,moduleUrl:this.moduleUrl,value:this.value,diDeps:_arrayToJson(this.diDeps)}},CompileFactoryMetadata}();t.CompileFactoryMetadata=I;var b=new Object,R=function(){function CompileTokenMetadata(e){var t=e.value,i=e.identifier,r=e.identifierIsInstance;this._assetCacheKey=b,this.value=t,this.identifier=i,this.identifierIsInstance=p.normalizeBool(r)}return CompileTokenMetadata.fromJson=function(e){return new CompileTokenMetadata({value:e.value,identifier:_objFromJson(e.identifier,w.fromJson),identifierIsInstance:e.identifierIsInstance})},CompileTokenMetadata.prototype.toJson=function(){return{value:this.value,identifier:_objToJson(this.identifier),identifierIsInstance:this.identifierIsInstance}},Object.defineProperty(CompileTokenMetadata.prototype,"runtimeCacheKey",{get:function(){return p.isPresent(this.identifier)?this.identifier.runtime:this.value},enumerable:!0,configurable:!0}),Object.defineProperty(CompileTokenMetadata.prototype,"assetCacheKey",{get:function(){if(this._assetCacheKey===b)if(p.isPresent(this.identifier))if(p.isPresent(this.identifier.moduleUrl)&&p.isPresent(u.getUrlScheme(this.identifier.moduleUrl))){var e=s.reflector.importUri({filePath:this.identifier.moduleUrl,name:this.identifier.name});this._assetCacheKey=this.identifier.name+"|"+e+"|"+this.identifierIsInstance}else this._assetCacheKey=null;else this._assetCacheKey=this.value;return this._assetCacheKey},enumerable:!0,configurable:!0}),CompileTokenMetadata.prototype.equalsTo=function(e){var t=this.runtimeCacheKey,i=this.assetCacheKey;return p.isPresent(t)&&t==e.runtimeCacheKey||p.isPresent(i)&&i==e.assetCacheKey},Object.defineProperty(CompileTokenMetadata.prototype,"name",{get:function(){return p.isPresent(this.value)?c.sanitizeIdentifier(this.value):this.identifier.name},enumerable:!0,configurable:!0}),CompileTokenMetadata}();t.CompileTokenMetadata=R;var V=function(){function CompileTokenMap(){this._valueMap=new Map,this._values=[]}return CompileTokenMap.prototype.add=function(e,t){var i=this.get(e);if(p.isPresent(i))throw new a.BaseException("Can only add to a TokenMap! Token: "+e.name);this._values.push(t);var r=e.runtimeCacheKey;p.isPresent(r)&&this._valueMap.set(r,t);var n=e.assetCacheKey;p.isPresent(n)&&this._valueMap.set(n,t)},CompileTokenMap.prototype.get=function(e){var t,i=e.runtimeCacheKey,r=e.assetCacheKey;return p.isPresent(i)&&(t=this._valueMap.get(i)),p.isBlank(t)&&p.isPresent(r)&&(t=this._valueMap.get(r)),t},CompileTokenMap.prototype.values=function(){return this._values},Object.defineProperty(CompileTokenMap.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),CompileTokenMap}();t.CompileTokenMap=V;var k=function(){function CompileTypeMetadata(e){var t=void 0===e?{}:e,i=t.runtime,r=t.name,n=t.moduleUrl,s=t.prefix,o=t.isHost,a=t.value,l=t.diDeps;this.runtime=i,this.name=r,this.moduleUrl=n,this.prefix=s,this.isHost=p.normalizeBool(o),this.value=a,this.diDeps=_normalizeArray(l)}return CompileTypeMetadata.fromJson=function(e){return new CompileTypeMetadata({name:e.name,moduleUrl:e.moduleUrl,prefix:e.prefix,isHost:e.isHost,value:e.value,diDeps:_arrayFromJson(e.diDeps,x.fromJson)})},Object.defineProperty(CompileTypeMetadata.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(CompileTypeMetadata.prototype,"type",{get:function(){return this},enumerable:!0,configurable:!0}),CompileTypeMetadata.prototype.toJson=function(){return{"class":"Type",name:this.name,moduleUrl:this.moduleUrl,prefix:this.prefix,isHost:this.isHost,value:this.value,diDeps:_arrayToJson(this.diDeps)}},CompileTypeMetadata}();t.CompileTypeMetadata=k;var N=function(){function CompileQueryMetadata(e){var t=void 0===e?{}:e,i=t.selectors,r=t.descendants,n=t.first,s=t.propertyName,o=t.read;this.selectors=i,this.descendants=p.normalizeBool(r),this.first=p.normalizeBool(n),this.propertyName=s,this.read=o}return CompileQueryMetadata.fromJson=function(e){return new CompileQueryMetadata({selectors:_arrayFromJson(e.selectors,R.fromJson),descendants:e.descendants,first:e.first,propertyName:e.propertyName,read:_objFromJson(e.read,R.fromJson)})},CompileQueryMetadata.prototype.toJson=function(){return{selectors:_arrayToJson(this.selectors),descendants:this.descendants,first:this.first,propertyName:this.propertyName,read:_objToJson(this.read)}},CompileQueryMetadata}();t.CompileQueryMetadata=N;var D=function(){function CompileStylesheetMetadata(e){var t=void 0===e?{}:e,i=t.moduleUrl,r=t.styles,n=t.styleUrls;this.moduleUrl=i,this.styles=_normalizeArray(r),this.styleUrls=_normalizeArray(n)}return CompileStylesheetMetadata.fromJson=function(e){return new CompileStylesheetMetadata({moduleUrl:e.moduleUrl,styles:e.styles,styleUrls:e.styleUrls})},CompileStylesheetMetadata.prototype.toJson=function(){return{moduleUrl:this.moduleUrl,styles:this.styles,styleUrls:this.styleUrls}},CompileStylesheetMetadata}();t.CompileStylesheetMetadata=D;var O=function(){function CompileTemplateMetadata(e){var t=void 0===e?{}:e,i=t.encapsulation,r=t.template,n=t.templateUrl,s=t.styles,l=t.styleUrls,u=t.externalStylesheets,c=t.animations,h=t.ngContentSelectors,m=t.interpolation;if(this.encapsulation=i,this.template=r,this.templateUrl=n,this.styles=_normalizeArray(s),this.styleUrls=_normalizeArray(l),this.externalStylesheets=_normalizeArray(u),this.animations=p.isPresent(c)?o.ListWrapper.flatten(c):[],this.ngContentSelectors=p.isPresent(h)?h:[],p.isPresent(m)&&2!=m.length)throw new a.BaseException("'interpolation' should have a start and an end symbol.");this.interpolation=m}return CompileTemplateMetadata.fromJson=function(e){var t=_arrayFromJson(e.animations,metadataFromJson);return new CompileTemplateMetadata({encapsulation:p.isPresent(e.encapsulation)?s.VIEW_ENCAPSULATION_VALUES[e.encapsulation]:e.encapsulation,template:e.template,templateUrl:e.templateUrl,styles:e.styles,styleUrls:e.styleUrls,externalStylesheets:_arrayFromJson(e.externalStylesheets,D.fromJson),animations:t,ngContentSelectors:e.ngContentSelectors,interpolation:e.interpolation})},CompileTemplateMetadata.prototype.toJson=function(){return{encapsulation:p.isPresent(this.encapsulation)?p.serializeEnum(this.encapsulation):this.encapsulation,template:this.template,templateUrl:this.templateUrl,styles:this.styles,styleUrls:this.styleUrls,externalStylesheets:_objToJson(this.externalStylesheets),animations:_objToJson(this.animations),ngContentSelectors:this.ngContentSelectors,interpolation:this.interpolation}},CompileTemplateMetadata}();t.CompileTemplateMetadata=O;var B=function(){function CompileDirectiveMetadata(e){var t=void 0===e?{}:e,i=t.type,r=t.isComponent,n=t.selector,s=t.exportAs,o=t.changeDetection,a=t.inputs,p=t.outputs,l=t.hostListeners,u=t.hostProperties,c=t.hostAttributes,h=t.lifecycleHooks,m=t.providers,d=t.viewProviders,f=t.queries,v=t.viewQueries,y=t.precompile,_=t.template;this.type=i,this.isComponent=r,this.selector=n,this.exportAs=s,this.changeDetection=o,this.inputs=a,this.outputs=p,this.hostListeners=l,this.hostProperties=u,this.hostAttributes=c,this.lifecycleHooks=_normalizeArray(h),this.providers=_normalizeArray(m),this.viewProviders=_normalizeArray(d),this.queries=_normalizeArray(f),this.viewQueries=_normalizeArray(v),this.precompile=_normalizeArray(y),this.template=_}return CompileDirectiveMetadata.create=function(e){var t=void 0===e?{}:e,i=t.type,r=t.isComponent,n=t.selector,s=t.exportAs,a=t.changeDetection,l=t.inputs,u=t.outputs,m=t.host,d=t.lifecycleHooks,f=t.providers,v=t.viewProviders,y=t.queries,_=t.viewQueries,E=t.precompile,g=t.template,C={},S={},A={};p.isPresent(m)&&o.StringMapWrapper.forEach(m,function(e,t){var i=p.RegExpWrapper.firstMatch(h,t);p.isBlank(i)?A[t]=e:p.isPresent(i[1])?S[i[1]]=e:p.isPresent(i[2])&&(C[i[2]]=e)});var T={};p.isPresent(l)&&l.forEach(function(e){var t=c.splitAtColon(e,[e,e]);T[t[0]]=t[1]});var P={};return p.isPresent(u)&&u.forEach(function(e){var t=c.splitAtColon(e,[e,e]);P[t[0]]=t[1]}),new CompileDirectiveMetadata({type:i,isComponent:p.normalizeBool(r),selector:n,exportAs:s,changeDetection:a,inputs:T,outputs:P,hostListeners:C,hostProperties:S,hostAttributes:A,lifecycleHooks:p.isPresent(d)?d:[],providers:f,viewProviders:v,queries:y,viewQueries:_,precompile:E,template:g})},Object.defineProperty(CompileDirectiveMetadata.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),CompileDirectiveMetadata.fromJson=function(e){return new CompileDirectiveMetadata({isComponent:e.isComponent,selector:e.selector,exportAs:e.exportAs,type:p.isPresent(e.type)?k.fromJson(e.type):e.type,changeDetection:p.isPresent(e.changeDetection)?s.CHANGE_DETECTION_STRATEGY_VALUES[e.changeDetection]:e.changeDetection,inputs:e.inputs,outputs:e.outputs,hostListeners:e.hostListeners,hostProperties:e.hostProperties,hostAttributes:e.hostAttributes,lifecycleHooks:e.lifecycleHooks.map(function(e){return s.LIFECYCLE_HOOKS_VALUES[e]}),template:p.isPresent(e.template)?O.fromJson(e.template):e.template,providers:_arrayFromJson(e.providers,metadataFromJson),viewProviders:_arrayFromJson(e.viewProviders,metadataFromJson),queries:_arrayFromJson(e.queries,N.fromJson),viewQueries:_arrayFromJson(e.viewQueries,N.fromJson),precompile:_arrayFromJson(e.precompile,k.fromJson)})},CompileDirectiveMetadata.prototype.toJson=function(){return{"class":"Directive",isComponent:this.isComponent,selector:this.selector,exportAs:this.exportAs,type:p.isPresent(this.type)?this.type.toJson():this.type,changeDetection:p.isPresent(this.changeDetection)?p.serializeEnum(this.changeDetection):this.changeDetection,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,lifecycleHooks:this.lifecycleHooks.map(function(e){return p.serializeEnum(e)}),template:p.isPresent(this.template)?this.template.toJson():this.template,providers:_arrayToJson(this.providers),viewProviders:_arrayToJson(this.viewProviders),queries:_arrayToJson(this.queries),viewQueries:_arrayToJson(this.viewQueries),precompile:_arrayToJson(this.precompile)}},CompileDirectiveMetadata}();t.CompileDirectiveMetadata=B,t.createHostComponentMeta=createHostComponentMeta;var L=function(){function CompilePipeMetadata(e){var t=void 0===e?{}:e,i=t.type,r=t.name,n=t.pure,s=t.lifecycleHooks;this.type=i,this.name=r,this.pure=p.normalizeBool(n),this.lifecycleHooks=_normalizeArray(s)}return Object.defineProperty(CompilePipeMetadata.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),CompilePipeMetadata.fromJson=function(e){return new CompilePipeMetadata({type:p.isPresent(e.type)?k.fromJson(e.type):e.type,name:e.name,pure:e.pure})},CompilePipeMetadata.prototype.toJson=function(){return{"class":"Pipe",type:p.isPresent(this.type)?this.type.toJson():null,name:this.name,pure:this.pure}},CompilePipeMetadata}();t.CompilePipeMetadata=L;var F={Directive:B.fromJson,Pipe:L.fromJson,Type:k.fromJson,Provider:M.fromJson,Identifier:w.fromJson,Factory:I.fromJson,AnimationEntryMetadata:f.fromJson,AnimationStateDeclarationMetadata:y.fromJson,AnimationStateTransitionMetadata:_.fromJson,AnimationSequenceMetadata:T.fromJson,AnimationGroupMetadata:P.fromJson,AnimationAnimateMetadata:S.fromJson,AnimationStyleMetadata:C.fromJson,AnimationKeyframesSequenceMetadata:g.fromJson}},32:function(e,t,i){"use strict";function identifierToken(e){return new s.CompileTokenMetadata({identifier:e})}var r=i(0),n=i(23),s=i(31),o=i(59),a=o.assetUrl("core","linker/view"),p=o.assetUrl("core","linker/view_utils"),l=o.assetUrl("core","change_detection/change_detection"),u=n.ViewUtils,c=n.AppView,h=n.DebugAppView,m=n.DebugContext,d=n.AppElement,f=r.ElementRef,v=r.ViewContainerRef,y=r.ChangeDetectorRef,_=r.RenderComponentType,E=r.QueryList,g=r.TemplateRef,C=n.TemplateRef_,S=n.ValueUnwrapper,A=r.Injector,T=r.ViewEncapsulation,P=n.ViewType,w=r.ChangeDetectionStrategy,x=n.StaticNodeDebugInfo,M=r.Renderer,I=r.SimpleChange,b=n.uninitialized,R=n.ChangeDetectorStatus,V=n.flattenNestedViewRenderNodes,k=n.devModeEqual,N=n.interpolate,D=n.checkBinding,O=n.castByValue,B=n.EMPTY_ARRAY,L=n.EMPTY_MAP,F=n.AnimationGroupPlayer,U=n.AnimationSequencePlayer,H=n.AnimationKeyframe,W=n.AnimationStyles,z=n.NoOpAnimationPlayer,$=o.assetUrl("core","animation/animation_style_util"),j=function(){function Identifiers(){}return Identifiers.ViewUtils=new s.CompileIdentifierMetadata({name:"ViewUtils",moduleUrl:o.assetUrl("core","linker/view_utils"),runtime:u}),Identifiers.AppView=new s.CompileIdentifierMetadata({name:"AppView",moduleUrl:a,runtime:c}),Identifiers.DebugAppView=new s.CompileIdentifierMetadata({name:"DebugAppView",moduleUrl:a,runtime:h}),Identifiers.AppElement=new s.CompileIdentifierMetadata({name:"AppElement",moduleUrl:o.assetUrl("core","linker/element"),runtime:d}),Identifiers.ElementRef=new s.CompileIdentifierMetadata({name:"ElementRef",moduleUrl:o.assetUrl("core","linker/element_ref"),runtime:f}),Identifiers.ViewContainerRef=new s.CompileIdentifierMetadata({name:"ViewContainerRef",moduleUrl:o.assetUrl("core","linker/view_container_ref"),runtime:v}),Identifiers.ChangeDetectorRef=new s.CompileIdentifierMetadata({name:"ChangeDetectorRef",moduleUrl:o.assetUrl("core","change_detection/change_detector_ref"),runtime:y}),Identifiers.RenderComponentType=new s.CompileIdentifierMetadata({name:"RenderComponentType",moduleUrl:o.assetUrl("core","render/api"),runtime:_}),Identifiers.QueryList=new s.CompileIdentifierMetadata({name:"QueryList",moduleUrl:o.assetUrl("core","linker/query_list"),runtime:E}),Identifiers.TemplateRef=new s.CompileIdentifierMetadata({name:"TemplateRef",moduleUrl:o.assetUrl("core","linker/template_ref"),runtime:g}),Identifiers.TemplateRef_=new s.CompileIdentifierMetadata({name:"TemplateRef_",moduleUrl:o.assetUrl("core","linker/template_ref"),runtime:C}),Identifiers.CodegenComponentFactoryResolver=new s.CompileIdentifierMetadata({name:"CodegenComponentFactoryResolver",moduleUrl:o.assetUrl("core","linker/component_factory_resolver"),runtime:n.CodegenComponentFactoryResolver}),Identifiers.ComponentFactoryResolver=new s.CompileIdentifierMetadata({name:"ComponentFactoryResolver",moduleUrl:o.assetUrl("core","linker/component_factory_resolver"),runtime:r.ComponentFactoryResolver}),Identifiers.ValueUnwrapper=new s.CompileIdentifierMetadata({name:"ValueUnwrapper",moduleUrl:l,runtime:S}),Identifiers.Injector=new s.CompileIdentifierMetadata({name:"Injector",moduleUrl:o.assetUrl("core","di/injector"),runtime:A}),Identifiers.ViewEncapsulation=new s.CompileIdentifierMetadata({name:"ViewEncapsulation",moduleUrl:o.assetUrl("core","metadata/view"),runtime:T}),Identifiers.ViewType=new s.CompileIdentifierMetadata({name:"ViewType",moduleUrl:o.assetUrl("core","linker/view_type"),runtime:P}),Identifiers.ChangeDetectionStrategy=new s.CompileIdentifierMetadata({name:"ChangeDetectionStrategy",moduleUrl:l,runtime:w}),Identifiers.StaticNodeDebugInfo=new s.CompileIdentifierMetadata({name:"StaticNodeDebugInfo",moduleUrl:o.assetUrl("core","linker/debug_context"),runtime:x}),Identifiers.DebugContext=new s.CompileIdentifierMetadata({name:"DebugContext",moduleUrl:o.assetUrl("core","linker/debug_context"),runtime:m}),Identifiers.Renderer=new s.CompileIdentifierMetadata({name:"Renderer",moduleUrl:o.assetUrl("core","render/api"),runtime:M}),Identifiers.SimpleChange=new s.CompileIdentifierMetadata({name:"SimpleChange",moduleUrl:l,runtime:I}),Identifiers.uninitialized=new s.CompileIdentifierMetadata({name:"uninitialized",moduleUrl:l,runtime:b}),Identifiers.ChangeDetectorStatus=new s.CompileIdentifierMetadata({name:"ChangeDetectorStatus",moduleUrl:l,runtime:R}),Identifiers.checkBinding=new s.CompileIdentifierMetadata({name:"checkBinding",moduleUrl:p,runtime:D}),Identifiers.flattenNestedViewRenderNodes=new s.CompileIdentifierMetadata({name:"flattenNestedViewRenderNodes",moduleUrl:p,runtime:V}),Identifiers.devModeEqual=new s.CompileIdentifierMetadata({name:"devModeEqual",moduleUrl:l,runtime:k}),Identifiers.interpolate=new s.CompileIdentifierMetadata({name:"interpolate",moduleUrl:p,runtime:N}),Identifiers.castByValue=new s.CompileIdentifierMetadata({name:"castByValue",moduleUrl:p,runtime:O}),Identifiers.EMPTY_ARRAY=new s.CompileIdentifierMetadata({name:"EMPTY_ARRAY",moduleUrl:p,runtime:B}),Identifiers.EMPTY_MAP=new s.CompileIdentifierMetadata({name:"EMPTY_MAP",moduleUrl:p,runtime:L}),Identifiers.pureProxies=[null,new s.CompileIdentifierMetadata({name:"pureProxy1",moduleUrl:p,runtime:n.pureProxy1}),new s.CompileIdentifierMetadata({name:"pureProxy2",moduleUrl:p,runtime:n.pureProxy2}),new s.CompileIdentifierMetadata({name:"pureProxy3",moduleUrl:p,runtime:n.pureProxy3}),new s.CompileIdentifierMetadata({name:"pureProxy4",moduleUrl:p,runtime:n.pureProxy4}),new s.CompileIdentifierMetadata({name:"pureProxy5",moduleUrl:p,runtime:n.pureProxy5}),new s.CompileIdentifierMetadata({name:"pureProxy6",moduleUrl:p,runtime:n.pureProxy6}),new s.CompileIdentifierMetadata({name:"pureProxy7",moduleUrl:p,runtime:n.pureProxy7}),new s.CompileIdentifierMetadata({name:"pureProxy8",moduleUrl:p,runtime:n.pureProxy8}),new s.CompileIdentifierMetadata({name:"pureProxy9",moduleUrl:p,runtime:n.pureProxy9}),new s.CompileIdentifierMetadata({name:"pureProxy10",moduleUrl:p,runtime:n.pureProxy10})],Identifiers.SecurityContext=new s.CompileIdentifierMetadata({name:"SecurityContext",moduleUrl:o.assetUrl("core","security"),runtime:n.SecurityContext}),Identifiers.AnimationKeyframe=new s.CompileIdentifierMetadata({name:"AnimationKeyframe",moduleUrl:o.assetUrl("core","animation/animation_keyframe"),runtime:H}),Identifiers.AnimationStyles=new s.CompileIdentifierMetadata({name:"AnimationStyles",moduleUrl:o.assetUrl("core","animation/animation_styles"),runtime:W}),Identifiers.NoOpAnimationPlayer=new s.CompileIdentifierMetadata({name:"NoOpAnimationPlayer",moduleUrl:o.assetUrl("core","animation/animation_player"),runtime:z}),Identifiers.AnimationGroupPlayer=new s.CompileIdentifierMetadata({name:"AnimationGroupPlayer",moduleUrl:o.assetUrl("core","animation/animation_group_player"),runtime:F}),Identifiers.AnimationSequencePlayer=new s.CompileIdentifierMetadata({name:"AnimationSequencePlayer",moduleUrl:o.assetUrl("core","animation/animation_sequence_player"),runtime:U}),Identifiers.prepareFinalAnimationStyles=new s.CompileIdentifierMetadata({name:"prepareFinalAnimationStyles",moduleUrl:$,runtime:n.prepareFinalAnimationStyles}),Identifiers.balanceAnimationKeyframes=new s.CompileIdentifierMetadata({name:"balanceAnimationKeyframes",moduleUrl:$,runtime:n.balanceAnimationKeyframes}),Identifiers.clearStyles=new s.CompileIdentifierMetadata({name:"clearStyles",moduleUrl:$,runtime:n.clearStyles}),Identifiers.renderStyles=new s.CompileIdentifierMetadata({name:"renderStyles",moduleUrl:$,runtime:n.renderStyles}),Identifiers.collectAndResolveStyles=new s.CompileIdentifierMetadata({name:"collectAndResolveStyles",moduleUrl:$,runtime:n.collectAndResolveStyles}),Identifiers}();t.Identifiers=j,t.identifierToken=identifierToken},334:function(e,t){"use strict";var i=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},r=function(){function AnimationAst(){this.startTime=0,this.playTime=0}return AnimationAst}();t.AnimationAst=r;var n=function(e){function AnimationStateAst(){e.apply(this,arguments)}return i(AnimationStateAst,e),AnimationStateAst}(r);t.AnimationStateAst=n;var s=function(e){function AnimationEntryAst(t,i,r){e.call(this),this.name=t,this.stateDeclarations=i,this.stateTransitions=r}return i(AnimationEntryAst,e),AnimationEntryAst.prototype.visit=function(e,t){return e.visitAnimationEntry(this,t)},AnimationEntryAst}(r);t.AnimationEntryAst=s;var o=function(e){function AnimationStateDeclarationAst(t,i){e.call(this),this.stateName=t,this.styles=i}return i(AnimationStateDeclarationAst,e),AnimationStateDeclarationAst.prototype.visit=function(e,t){return e.visitAnimationStateDeclaration(this,t)},AnimationStateDeclarationAst}(n);t.AnimationStateDeclarationAst=o;var a=function(){function AnimationStateTransitionExpression(e,t){this.fromState=e,this.toState=t}return AnimationStateTransitionExpression}();t.AnimationStateTransitionExpression=a;var p=function(e){function AnimationStateTransitionAst(t,i){e.call(this),this.stateChanges=t,this.animation=i}return i(AnimationStateTransitionAst,e),AnimationStateTransitionAst.prototype.visit=function(e,t){return e.visitAnimationStateTransition(this,t)},AnimationStateTransitionAst}(n);t.AnimationStateTransitionAst=p;var l=function(e){function AnimationStepAst(t,i,r,n,s){e.call(this),this.startingStyles=t,this.keyframes=i,this.duration=r,this.delay=n,this.easing=s}return i(AnimationStepAst,e),AnimationStepAst.prototype.visit=function(e,t){return e.visitAnimationStep(this,t)},AnimationStepAst}(r);t.AnimationStepAst=l;var u=function(e){function AnimationStylesAst(t){e.call(this),this.styles=t}return i(AnimationStylesAst,e),AnimationStylesAst.prototype.visit=function(e,t){return e.visitAnimationStyles(this,t)},AnimationStylesAst}(r);t.AnimationStylesAst=u;var c=function(e){function AnimationKeyframeAst(t,i){e.call(this),this.offset=t,this.styles=i}return i(AnimationKeyframeAst,e),AnimationKeyframeAst.prototype.visit=function(e,t){return e.visitAnimationKeyframe(this,t)},AnimationKeyframeAst}(r);t.AnimationKeyframeAst=c;var h=function(e){function AnimationWithStepsAst(t){e.call(this),this.steps=t}return i(AnimationWithStepsAst,e),AnimationWithStepsAst}(r);t.AnimationWithStepsAst=h;var m=function(e){function AnimationGroupAst(t){e.call(this,t)}return i(AnimationGroupAst,e),AnimationGroupAst.prototype.visit=function(e,t){return e.visitAnimationGroup(this,t)},AnimationGroupAst}(h);t.AnimationGroupAst=m;var d=function(e){function AnimationSequenceAst(t){e.call(this,t)}return i(AnimationSequenceAst,e),AnimationSequenceAst.prototype.visit=function(e,t){return e.visitAnimationSequence(this,t)},AnimationSequenceAst}(h);t.AnimationSequenceAst=d},335:function(e,t,i){"use strict";function _compareToAnimationStateExpr(e,t){var i=p.literal(r.EMPTY_STATE);switch(t){case r.EMPTY_STATE:return e.equals(i);case r.ANY_STATE:return p.literal(!0);default:return e.equals(p.literal(t))}}function _isEndStateAnimateStep(e){if(e instanceof l.AnimationStepAst&&e.duration>0&&2==e.keyframes.length){var t=_getStylesArray(e.keyframes[0])[0],i=_getStylesArray(e.keyframes[1])[0];return n.StringMapWrapper.isEmpty(t)&&n.StringMapWrapper.isEmpty(i)}return!1}function _getStylesArray(e){return e.styles.styles}var r=i(23),n=i(12),s=i(15),o=i(5),a=i(32),p=i(19),l=i(334),u=i(579),c=function(){function CompiledAnimation(e,t,i,r,n){this.name=e,this.statesMapStatement=t,this.statesVariableName=i,this.fnStatement=r,this.fnVariable=n}return CompiledAnimation}();t.CompiledAnimation=c;var h=function(){function AnimationCompiler(){}return AnimationCompiler.prototype.compileComponent=function(e){var t=[],i=0;return e.template.animations.forEach(function(r){var n=u.parseAnimationEntry(r);if(n.errors.length>0){var o="";throw n.errors.forEach(function(e){o+="\n- "+e.msg}),new s.BaseException('Unable to parse the animation sequence for "'+r.name+'" due to the following errors: '+o)}var a=e.type.name+"_"+r.name+"_"+i;i++;var p=new T(r.name,a);t.push(p.build(n.ast))}),t},AnimationCompiler}();t.AnimationCompiler=h;var m=p.variable("element"),d=p.variable("defaultStateStyles"),f=p.variable("view"),v=f.prop("renderer"),y=p.variable("currentState"),_=p.variable("nextState"),E=p.variable("player"),g=p.variable("startStateStyles"),C=p.variable("endStateStyles"),S=p.variable("collectedStyles"),A=p.literalMap([]),T=function(){function _AnimationBuilder(e,t){this.animationName=e,this._fnVarName=t+"_factory",this._statesMapVarName=t+"_states",this._statesMapVar=p.variable(this._statesMapVarName)}return _AnimationBuilder.prototype.visitAnimationStyles=function(e,t){var i=[];return t.isExpectingFirstStyleStep&&(i.push(g),t.isExpectingFirstStyleStep=!1),e.styles.forEach(function(e){i.push(p.literalMap(n.StringMapWrapper.keys(e).map(function(t){return[t,p.literal(e[t])]})))}),p.importExpr(a.Identifiers.AnimationStyles).instantiate([p.importExpr(a.Identifiers.collectAndResolveStyles).callFn([S,p.literalArr(i)])])},_AnimationBuilder.prototype.visitAnimationKeyframe=function(e,t){return p.importExpr(a.Identifiers.AnimationKeyframe).instantiate([p.literal(e.offset),e.styles.visit(this,t)])},_AnimationBuilder.prototype.visitAnimationStep=function(e,t){var i=this;if(t.endStateAnimateStep===e)return this._visitEndStateAnimation(e,t);var r=e.startingStyles.visit(this,t),n=e.keyframes.map(function(e){return e.visit(i,t)});return this._callAnimateMethod(e,r,p.literalArr(n))},_AnimationBuilder.prototype._visitEndStateAnimation=function(e,t){var i=this,r=e.startingStyles.visit(this,t),n=e.keyframes.map(function(e){return e.visit(i,t)}),s=p.importExpr(a.Identifiers.balanceAnimationKeyframes).callFn([S,C,p.literalArr(n)]);return this._callAnimateMethod(e,r,s)},_AnimationBuilder.prototype._callAnimateMethod=function(e,t,i){return v.callMethod("animate",[m,t,i,p.literal(e.duration),p.literal(e.delay),p.literal(e.easing)])},_AnimationBuilder.prototype.visitAnimationSequence=function(e,t){var i=this,r=e.steps.map(function(e){return e.visit(i,t)});return p.importExpr(a.Identifiers.AnimationSequencePlayer).instantiate([p.literalArr(r)])},_AnimationBuilder.prototype.visitAnimationGroup=function(e,t){var i=this,r=e.steps.map(function(e){return e.visit(i,t)});return p.importExpr(a.Identifiers.AnimationGroupPlayer).instantiate([p.literalArr(r)])},_AnimationBuilder.prototype.visitAnimationStateDeclaration=function(e,t){var i={};_getStylesArray(e).forEach(function(e){n.StringMapWrapper.forEach(e,function(e,t){i[t]=e})}),t.stateMap.registerState(e.stateName,i)},_AnimationBuilder.prototype.visitAnimationStateTransition=function(e,t){var i=e.animation.steps,n=i[i.length-1];_isEndStateAnimateStep(n)&&(t.endStateAnimateStep=n),t.isExpectingFirstStyleStep=!0;var s=[];e.stateChanges.forEach(function(e){s.push(_compareToAnimationStateExpr(y,e.fromState).and(_compareToAnimationStateExpr(_,e.toState))),e.fromState!=r.ANY_STATE&&t.stateMap.registerState(e.fromState),e.toState!=r.ANY_STATE&&t.stateMap.registerState(e.toState)});var o=e.animation.visit(this,t),a=s.reduce(function(e,t){return e.or(t)}),l=E.equals(p.NULL_EXPR).and(a);return new p.IfStmt(l,[E.set(o).toStmt()])},_AnimationBuilder.prototype.visitAnimationEntry=function(e,t){var i=this;e.stateDeclarations.forEach(function(e){return e.visit(i,t)}),t.stateMap.registerState(r.DEFAULT_STATE,{});var n=[];n.push(f.callMethod("cancelActiveAnimation",[m,p.literal(this.animationName),_.equals(p.literal(r.EMPTY_STATE))]).toStmt()),n.push(S.set(A).toDeclStmt()),n.push(E.set(p.NULL_EXPR).toDeclStmt()),n.push(d.set(this._statesMapVar.key(p.literal(r.DEFAULT_STATE))).toDeclStmt()),n.push(g.set(this._statesMapVar.key(y)).toDeclStmt()),n.push(new p.IfStmt(g.equals(p.NULL_EXPR),[g.set(d).toStmt()])),n.push(C.set(this._statesMapVar.key(_)).toDeclStmt()),n.push(new p.IfStmt(C.equals(p.NULL_EXPR),[C.set(d).toStmt()]));var s=p.importExpr(a.Identifiers.renderStyles);return n.push(s.callFn([m,v,p.importExpr(a.Identifiers.clearStyles).callFn([g])]).toStmt()),e.stateTransitions.forEach(function(e){return n.push(e.visit(i,t))}),n.push(new p.IfStmt(E.equals(p.NULL_EXPR),[E.set(p.importExpr(a.Identifiers.NoOpAnimationPlayer).instantiate([])).toStmt()])),
n.push(E.callMethod("onDone",[p.fn([],[s.callFn([m,v,p.importExpr(a.Identifiers.prepareFinalAnimationStyles).callFn([g,C])]).toStmt()])]).toStmt()),n.push(f.callMethod("registerAndStartAnimation",[m,p.literal(this.animationName),E]).toStmt()),p.fn([new p.FnParam(f.name,p.importType(a.Identifiers.AppView,[p.DYNAMIC_TYPE])),new p.FnParam(m.name,p.DYNAMIC_TYPE),new p.FnParam(y.name,p.DYNAMIC_TYPE),new p.FnParam(_.name,p.DYNAMIC_TYPE)],n)},_AnimationBuilder.prototype.build=function(e){var t=new P,i=e.visit(this,t).toDeclStmt(this._fnVarName),r=p.variable(this._fnVarName),s=[];n.StringMapWrapper.forEach(t.stateMap.states,function(e,t){var i=A;if(o.isPresent(e)){var r=[];n.StringMapWrapper.forEach(e,function(e,t){r.push([t,p.literal(e)])}),i=p.literalMap(r)}s.push([t,i])});var a=this._statesMapVar.set(p.literalMap(s)).toDeclStmt();return new c(this.animationName,a,this._statesMapVarName,i,r)},_AnimationBuilder}(),P=function(){function _AnimationBuilderContext(){this.stateMap=new w,this.endStateAnimateStep=null,this.isExpectingFirstStyleStep=!1}return _AnimationBuilderContext}(),w=function(){function _AnimationBuilderStateMap(){this._states={}}return Object.defineProperty(_AnimationBuilderStateMap.prototype,"states",{get:function(){return this._states},enumerable:!0,configurable:!0}),_AnimationBuilderStateMap.prototype.registerState=function(e,t){void 0===t&&(t=null);var i=this._states[e];o.isBlank(i)&&(this._states[e]=t)},_AnimationBuilderStateMap}()},336:function(e,t,i){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=i(12),s=function(){function AST(){}return AST.prototype.visit=function(e,t){return void 0===t&&(t=null),null},AST.prototype.toString=function(){return"AST"},AST}();t.AST=s;var o=function(e){function Quote(t,i,r){e.call(this),this.prefix=t,this.uninterpretedExpression=i,this.location=r}return r(Quote,e),Quote.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitQuote(this,t)},Quote.prototype.toString=function(){return"Quote"},Quote}(s);t.Quote=o;var a=function(e){function EmptyExpr(){e.apply(this,arguments)}return r(EmptyExpr,e),EmptyExpr.prototype.visit=function(e,t){void 0===t&&(t=null)},EmptyExpr}(s);t.EmptyExpr=a;var p=function(e){function ImplicitReceiver(){e.apply(this,arguments)}return r(ImplicitReceiver,e),ImplicitReceiver.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitImplicitReceiver(this,t)},ImplicitReceiver}(s);t.ImplicitReceiver=p;var l=function(e){function Chain(t){e.call(this),this.expressions=t}return r(Chain,e),Chain.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitChain(this,t)},Chain}(s);t.Chain=l;var u=function(e){function Conditional(t,i,r){e.call(this),this.condition=t,this.trueExp=i,this.falseExp=r}return r(Conditional,e),Conditional.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitConditional(this,t)},Conditional}(s);t.Conditional=u;var c=function(e){function PropertyRead(t,i){e.call(this),this.receiver=t,this.name=i}return r(PropertyRead,e),PropertyRead.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPropertyRead(this,t)},PropertyRead}(s);t.PropertyRead=c;var h=function(e){function PropertyWrite(t,i,r){e.call(this),this.receiver=t,this.name=i,this.value=r}return r(PropertyWrite,e),PropertyWrite.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPropertyWrite(this,t)},PropertyWrite}(s);t.PropertyWrite=h;var m=function(e){function SafePropertyRead(t,i){e.call(this),this.receiver=t,this.name=i}return r(SafePropertyRead,e),SafePropertyRead.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitSafePropertyRead(this,t)},SafePropertyRead}(s);t.SafePropertyRead=m;var d=function(e){function KeyedRead(t,i){e.call(this),this.obj=t,this.key=i}return r(KeyedRead,e),KeyedRead.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitKeyedRead(this,t)},KeyedRead}(s);t.KeyedRead=d;var f=function(e){function KeyedWrite(t,i,r){e.call(this),this.obj=t,this.key=i,this.value=r}return r(KeyedWrite,e),KeyedWrite.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitKeyedWrite(this,t)},KeyedWrite}(s);t.KeyedWrite=f;var v=function(e){function BindingPipe(t,i,r){e.call(this),this.exp=t,this.name=i,this.args=r}return r(BindingPipe,e),BindingPipe.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPipe(this,t)},BindingPipe}(s);t.BindingPipe=v;var y=function(e){function LiteralPrimitive(t){e.call(this),this.value=t}return r(LiteralPrimitive,e),LiteralPrimitive.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitLiteralPrimitive(this,t)},LiteralPrimitive}(s);t.LiteralPrimitive=y;var _=function(e){function LiteralArray(t){e.call(this),this.expressions=t}return r(LiteralArray,e),LiteralArray.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitLiteralArray(this,t)},LiteralArray}(s);t.LiteralArray=_;var E=function(e){function LiteralMap(t,i){e.call(this),this.keys=t,this.values=i}return r(LiteralMap,e),LiteralMap.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitLiteralMap(this,t)},LiteralMap}(s);t.LiteralMap=E;var g=function(e){function Interpolation(t,i){e.call(this),this.strings=t,this.expressions=i}return r(Interpolation,e),Interpolation.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitInterpolation(this,t)},Interpolation}(s);t.Interpolation=g;var C=function(e){function Binary(t,i,r){e.call(this),this.operation=t,this.left=i,this.right=r}return r(Binary,e),Binary.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitBinary(this,t)},Binary}(s);t.Binary=C;var S=function(e){function PrefixNot(t){e.call(this),this.expression=t}return r(PrefixNot,e),PrefixNot.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPrefixNot(this,t)},PrefixNot}(s);t.PrefixNot=S;var A=function(e){function MethodCall(t,i,r){e.call(this),this.receiver=t,this.name=i,this.args=r}return r(MethodCall,e),MethodCall.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitMethodCall(this,t)},MethodCall}(s);t.MethodCall=A;var T=function(e){function SafeMethodCall(t,i,r){e.call(this),this.receiver=t,this.name=i,this.args=r}return r(SafeMethodCall,e),SafeMethodCall.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitSafeMethodCall(this,t)},SafeMethodCall}(s);t.SafeMethodCall=T;var P=function(e){function FunctionCall(t,i){e.call(this),this.target=t,this.args=i}return r(FunctionCall,e),FunctionCall.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitFunctionCall(this,t)},FunctionCall}(s);t.FunctionCall=P;var w=function(e){function ASTWithSource(t,i,r){e.call(this),this.ast=t,this.source=i,this.location=r}return r(ASTWithSource,e),ASTWithSource.prototype.visit=function(e,t){return void 0===t&&(t=null),this.ast.visit(e,t)},ASTWithSource.prototype.toString=function(){return this.source+" in "+this.location},ASTWithSource}(s);t.ASTWithSource=w;var x=function(){function TemplateBinding(e,t,i,r){this.key=e,this.keyIsVar=t,this.name=i,this.expression=r}return TemplateBinding}();t.TemplateBinding=x;var M=function(){function RecursiveAstVisitor(){}return RecursiveAstVisitor.prototype.visitBinary=function(e,t){return e.left.visit(this),e.right.visit(this),null},RecursiveAstVisitor.prototype.visitChain=function(e,t){return this.visitAll(e.expressions,t)},RecursiveAstVisitor.prototype.visitConditional=function(e,t){return e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this),null},RecursiveAstVisitor.prototype.visitPipe=function(e,t){return e.exp.visit(this),this.visitAll(e.args,t),null},RecursiveAstVisitor.prototype.visitFunctionCall=function(e,t){return e.target.visit(this),this.visitAll(e.args,t),null},RecursiveAstVisitor.prototype.visitImplicitReceiver=function(e,t){return null},RecursiveAstVisitor.prototype.visitInterpolation=function(e,t){return this.visitAll(e.expressions,t)},RecursiveAstVisitor.prototype.visitKeyedRead=function(e,t){return e.obj.visit(this),e.key.visit(this),null},RecursiveAstVisitor.prototype.visitKeyedWrite=function(e,t){return e.obj.visit(this),e.key.visit(this),e.value.visit(this),null},RecursiveAstVisitor.prototype.visitLiteralArray=function(e,t){return this.visitAll(e.expressions,t)},RecursiveAstVisitor.prototype.visitLiteralMap=function(e,t){return this.visitAll(e.values,t)},RecursiveAstVisitor.prototype.visitLiteralPrimitive=function(e,t){return null},RecursiveAstVisitor.prototype.visitMethodCall=function(e,t){return e.receiver.visit(this),this.visitAll(e.args,t)},RecursiveAstVisitor.prototype.visitPrefixNot=function(e,t){return e.expression.visit(this),null},RecursiveAstVisitor.prototype.visitPropertyRead=function(e,t){return e.receiver.visit(this),null},RecursiveAstVisitor.prototype.visitPropertyWrite=function(e,t){return e.receiver.visit(this),e.value.visit(this),null},RecursiveAstVisitor.prototype.visitSafePropertyRead=function(e,t){return e.receiver.visit(this),null},RecursiveAstVisitor.prototype.visitSafeMethodCall=function(e,t){return e.receiver.visit(this),this.visitAll(e.args,t)},RecursiveAstVisitor.prototype.visitAll=function(e,t){var i=this;return e.forEach(function(e){return e.visit(i,t)}),null},RecursiveAstVisitor.prototype.visitQuote=function(e,t){return null},RecursiveAstVisitor}();t.RecursiveAstVisitor=M;var I=function(){function AstTransformer(){}return AstTransformer.prototype.visitImplicitReceiver=function(e,t){return e},AstTransformer.prototype.visitInterpolation=function(e,t){return new g(e.strings,this.visitAll(e.expressions))},AstTransformer.prototype.visitLiteralPrimitive=function(e,t){return new y(e.value)},AstTransformer.prototype.visitPropertyRead=function(e,t){return new c(e.receiver.visit(this),e.name)},AstTransformer.prototype.visitPropertyWrite=function(e,t){return new h(e.receiver.visit(this),e.name,e.value)},AstTransformer.prototype.visitSafePropertyRead=function(e,t){return new m(e.receiver.visit(this),e.name)},AstTransformer.prototype.visitMethodCall=function(e,t){return new A(e.receiver.visit(this),e.name,this.visitAll(e.args))},AstTransformer.prototype.visitSafeMethodCall=function(e,t){return new T(e.receiver.visit(this),e.name,this.visitAll(e.args))},AstTransformer.prototype.visitFunctionCall=function(e,t){return new P(e.target.visit(this),this.visitAll(e.args))},AstTransformer.prototype.visitLiteralArray=function(e,t){return new _(this.visitAll(e.expressions))},AstTransformer.prototype.visitLiteralMap=function(e,t){return new E(e.keys,this.visitAll(e.values))},AstTransformer.prototype.visitBinary=function(e,t){return new C(e.operation,e.left.visit(this),e.right.visit(this))},AstTransformer.prototype.visitPrefixNot=function(e,t){return new S(e.expression.visit(this))},AstTransformer.prototype.visitConditional=function(e,t){return new u(e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this))},AstTransformer.prototype.visitPipe=function(e,t){return new v(e.exp.visit(this),e.name,this.visitAll(e.args))},AstTransformer.prototype.visitKeyedRead=function(e,t){return new d(e.obj.visit(this),e.key.visit(this))},AstTransformer.prototype.visitKeyedWrite=function(e,t){return new f(e.obj.visit(this),e.key.visit(this),e.value.visit(this))},AstTransformer.prototype.visitAll=function(e){for(var t=n.ListWrapper.createFixedSize(e.length),i=0;i<e.length;++i)t[i]=e[i].visit(this);return t},AstTransformer.prototype.visitChain=function(e,t){return new l(this.visitAll(e.expressions))},AstTransformer.prototype.visitQuote=function(e,t){return new o(e.prefix,e.uninterpretedExpression,e.location)},AstTransformer}();t.AstTransformer=I},337:[1029,5,585],338:318,339:[1031,338,12,5],340:function(e,t,i){"use strict";function debugOutputAstAsTypeScript(e){var t,i=new u(p),r=o.EmitterVisitorContext.createRoot([]);return t=s.isArray(e)?e:[e],t.forEach(function(e){if(e instanceof a.Statement)e.visitStatement(i,r);else if(e instanceof a.Expression)e.visitExpression(i,r);else{if(!(e instanceof a.Type))throw new n.BaseException("Don't know how to print debug info for "+e);e.visitType(i,r)}}),r.toSource()}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=i(15),s=i(5),o=i(132),a=i(19),p="asset://debug/lib";t.debugOutputAstAsTypeScript=debugOutputAstAsTypeScript;var l=function(){function TypeScriptEmitter(e){this._importGenerator=e}return TypeScriptEmitter.prototype.emitStatements=function(e,t,i){var r=this,n=new u(e),s=o.EmitterVisitorContext.createRoot(i);n.visitAllStatements(t,s);var a=[];return n.importsWithPrefixes.forEach(function(t,i){a.push("imp"+("ort * as "+t+" from '"+r._importGenerator.getImportPath(e,i)+"';"))}),a.push(s.toSource()),a.join("\n")},TypeScriptEmitter}();t.TypeScriptEmitter=l;var u=function(e){function _TsEmitterVisitor(t){e.call(this,!1),this._moduleUrl=t,this.importsWithPrefixes=new Map}return r(_TsEmitterVisitor,e),_TsEmitterVisitor.prototype.visitType=function(e,t,i){void 0===i&&(i="any"),s.isPresent(e)?e.visitType(this,t):t.print(i)},_TsEmitterVisitor.prototype.visitExternalExpr=function(e,t){return this._visitIdentifier(e.value,e.typeParams,t),null},_TsEmitterVisitor.prototype.visitDeclareVarStmt=function(e,t){return t.isExportedVar(e.name)&&t.print("export "),e.hasModifier(a.StmtModifier.Final)?t.print("const"):t.print("var"),t.print(" "+e.name+":"),this.visitType(e.type,t),t.print(" = "),e.value.visitExpression(this,t),t.println(";"),null},_TsEmitterVisitor.prototype.visitCastExpr=function(e,t){return t.print("(<"),e.type.visitType(this,t),t.print(">"),e.value.visitExpression(this,t),t.print(")"),null},_TsEmitterVisitor.prototype.visitDeclareClassStmt=function(e,t){var i=this;return t.pushClass(e),t.isExportedVar(e.name)&&t.print("export "),t.print("class "+e.name),s.isPresent(e.parent)&&(t.print(" extends "),e.parent.visitExpression(this,t)),t.println(" {"),t.incIndent(),e.fields.forEach(function(e){return i._visitClassField(e,t)}),s.isPresent(e.constructorMethod)&&this._visitClassConstructor(e,t),e.getters.forEach(function(e){return i._visitClassGetter(e,t)}),e.methods.forEach(function(e){return i._visitClassMethod(e,t)}),t.decIndent(),t.println("}"),t.popClass(),null},_TsEmitterVisitor.prototype._visitClassField=function(e,t){e.hasModifier(a.StmtModifier.Private)&&t.print("private "),t.print(e.name),t.print(":"),this.visitType(e.type,t),t.println(";")},_TsEmitterVisitor.prototype._visitClassGetter=function(e,t){e.hasModifier(a.StmtModifier.Private)&&t.print("private "),t.print("get "+e.name+"()"),t.print(":"),this.visitType(e.type,t),t.println(" {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println("}")},_TsEmitterVisitor.prototype._visitClassConstructor=function(e,t){t.print("constructor("),this._visitParams(e.constructorMethod.params,t),t.println(") {"),t.incIndent(),this.visitAllStatements(e.constructorMethod.body,t),t.decIndent(),t.println("}")},_TsEmitterVisitor.prototype._visitClassMethod=function(e,t){e.hasModifier(a.StmtModifier.Private)&&t.print("private "),t.print(e.name+"("),this._visitParams(e.params,t),t.print("):"),this.visitType(e.type,t,"void"),t.println(" {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println("}")},_TsEmitterVisitor.prototype.visitFunctionExpr=function(e,t){return t.print("("),this._visitParams(e.params,t),t.print("):"),this.visitType(e.type,t,"void"),t.println(" => {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print("}"),null},_TsEmitterVisitor.prototype.visitDeclareFunctionStmt=function(e,t){return t.isExportedVar(e.name)&&t.print("export "),t.print("function "+e.name+"("),this._visitParams(e.params,t),t.print("):"),this.visitType(e.type,t,"void"),t.println(" {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println("}"),null},_TsEmitterVisitor.prototype.visitTryCatchStmt=function(e,t){t.println("try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println("} catch ("+o.CATCH_ERROR_VAR.name+") {"),t.incIndent();var i=[o.CATCH_STACK_VAR.set(o.CATCH_ERROR_VAR.prop("stack")).toDeclStmt(null,[a.StmtModifier.Final])].concat(e.catchStmts);return this.visitAllStatements(i,t),t.decIndent(),t.println("}"),null},_TsEmitterVisitor.prototype.visitBuiltintType=function(e,t){var i;switch(e.name){case a.BuiltinTypeName.Bool:i="boolean";break;case a.BuiltinTypeName.Dynamic:i="any";break;case a.BuiltinTypeName.Function:i="Function";break;case a.BuiltinTypeName.Number:i="number";break;case a.BuiltinTypeName.Int:i="number";break;case a.BuiltinTypeName.String:i="string";break;default:throw new n.BaseException("Unsupported builtin type "+e.name)}return t.print(i),null},_TsEmitterVisitor.prototype.visitExternalType=function(e,t){return this._visitIdentifier(e.value,e.typeParams,t),null},_TsEmitterVisitor.prototype.visitArrayType=function(e,t){return this.visitType(e.of,t),t.print("[]"),null},_TsEmitterVisitor.prototype.visitMapType=function(e,t){return t.print("{[key: string]:"),this.visitType(e.valueType,t),t.print("}"),null},_TsEmitterVisitor.prototype.getBuiltinMethodName=function(e){var t;switch(e){case a.BuiltinMethod.ConcatArray:t="concat";break;case a.BuiltinMethod.SubscribeObservable:t="subscribe";break;case a.BuiltinMethod.bind:t="bind";break;default:throw new n.BaseException("Unknown builtin method: "+e)}return t},_TsEmitterVisitor.prototype._visitParams=function(e,t){var i=this;this.visitAllObjects(function(e){t.print(e.name),t.print(":"),i.visitType(e.type,t)},e,t,",")},_TsEmitterVisitor.prototype._visitIdentifier=function(e,t,i){var r=this;if(s.isBlank(e.name))throw new n.BaseException("Internal error: unknown identifier "+e);if(s.isPresent(e.moduleUrl)&&e.moduleUrl!=this._moduleUrl){var o=this.importsWithPrefixes.get(e.moduleUrl);s.isBlank(o)&&(o="import"+this.importsWithPrefixes.size,this.importsWithPrefixes.set(e.moduleUrl,o)),i.print(o+".")}i.print(e.name),s.isPresent(t)&&t.length>0&&(i.print("<"),this.visitAllObjects(function(e){return e.visitType(r,i)},t,i,","),i.print(">"))},_TsEmitterVisitor}(o.AbstractEmitterVisitor)},341:function(e,t,i){"use strict";function assertComponent(e){if(!e.isComponent)throw new n.BaseException("Could not compile '"+e.type.name+"' because it is not a component.")}var r=i(0),n=i(15),s=i(5),o=i(337),a=i(31),p=i(210),l=i(135),u=i(134),c=i(202),h=i(207),m=i(80),d=i(19),f=i(596),v=i(595),y=i(594),_=function(){function RuntimeCompiler(e,t,i,r,n,s){this._metadataResolver=e,this._templateNormalizer=t,this._templateParser=i,this._styleCompiler=r,this._viewCompiler=n,this._genConfig=s,this._compiledTemplateCache=new Map,this._compiledHostTemplateCache=new Map}return RuntimeCompiler.prototype.resolveComponent=function(e){return s.isString(e)?o.PromiseWrapper.reject(new n.BaseException("Cannot resolve component using '"+e+"'."),null):this.compileComponentAsync(e)},RuntimeCompiler.prototype.compileComponentAsync=function(e){var t=this,i=this._getTransitiveCompiledTemplates(e,!0),r=[];return i.forEach(function(e){e.loading&&r.push(e.loading)}),Promise.all(r).then(function(){return i.forEach(function(e){t._compileTemplate(e)}),t._getCompiledHostTemplate(e).proxyComponentFactory})},RuntimeCompiler.prototype.compileComponentSync=function(e){var t=this,i=this._getTransitiveCompiledTemplates(e,!0);return i.forEach(function(e){if(e.loading)throw new n.BaseException("Can't compile synchronously as "+e.compType.name+" is still being loaded!")}),i.forEach(function(e){t._compileTemplate(e)}),this._getCompiledHostTemplate(e).proxyComponentFactory},RuntimeCompiler.prototype.clearCacheFor=function(e){this._metadataResolver.clearCacheFor(e),this._compiledHostTemplateCache["delete"](e);var t=this._compiledTemplateCache.get(e);t&&(this._templateNormalizer.clearCacheFor(t.normalizedCompMeta),this._compiledTemplateCache["delete"](e))},RuntimeCompiler.prototype.clearCache=function(){this._metadataResolver.clearCache(),this._compiledTemplateCache.clear(),this._compiledHostTemplateCache.clear(),this._templateNormalizer.clearCache()},RuntimeCompiler.prototype._getCompiledHostTemplate=function(e){var t=this._compiledHostTemplateCache.get(e);if(s.isBlank(t)){var i=this._metadataResolver.getDirectiveMetadata(e);assertComponent(i);var r=a.createHostComponentMeta(i.type,i.selector);t=new E((!0),i.selector,i.type,[],[e],[],[],this._templateNormalizer.normalizeDirective(r)),this._compiledHostTemplateCache.set(e,t)}return t},RuntimeCompiler.prototype._getCompiledTemplate=function(e){var t=this._compiledTemplateCache.get(e);if(s.isBlank(t)){var i=this._metadataResolver.getDirectiveMetadata(e);assertComponent(i);var r=[],n=[];this._metadataResolver.getViewDirectivesMetadata(e).forEach(function(e){e.isComponent?n.push(e.type.runtime):r.push(e)});var o=i.precompile.map(function(e){return e.runtime}),a=this._metadataResolver.getViewPipesMetadata(e);t=new E((!1),i.selector,i.type,r,n,o,a,this._templateNormalizer.normalizeDirective(i)),this._compiledTemplateCache.set(e,t)}return t},RuntimeCompiler.prototype._getTransitiveCompiledTemplates=function(e,t,i){var r=this;void 0===i&&(i=new Set);var n=t?this._getCompiledHostTemplate(e):this._getCompiledTemplate(e);return i.has(n)||(i.add(n),n.viewComponentTypes.forEach(function(e){r._getTransitiveCompiledTemplates(e,!1,i)}),n.precompileHostComponentTypes.forEach(function(e){r._getTransitiveCompiledTemplates(e,!0,i)})),i},RuntimeCompiler.prototype._compileTemplate=function(e){var t=this;if(!e.isCompiled){var i=e.normalizedCompMeta,r=new Map,n=this._styleCompiler.compileComponent(i);n.externalStylesheets.forEach(function(e){r.set(e.meta.moduleUrl,e)}),this._resolveStylesCompileResult(n.componentStylesheet,r);var o,a=e.viewComponentTypes.map(function(e){return t._getCompiledTemplate(e).normalizedCompMeta}),p=this._templateParser.parse(i,i.template.template,e.viewDirectives.concat(a),e.viewPipes,i.type.name),u=this._viewCompiler.compileComponent(i,p,d.variable(n.componentStylesheet.stylesVar),e.viewPipes),c=(u.dependencies.map(function(e){var i;if(e instanceof l.ViewFactoryDependency){var r=e;i=t._getCompiledTemplate(r.comp.runtime),r.placeholder.runtime=i.proxyViewFactory,r.placeholder.name="viewFactory_"+r.comp.name}else if(e instanceof l.ComponentFactoryDependency){var n=e;i=t._getCompiledHostTemplate(n.comp.runtime),n.placeholder.runtime=i.proxyComponentFactory,n.placeholder.name="compFactory_"+n.comp.name}return i}),n.componentStylesheet.statements.concat(u.statements));o=s.IS_DART||!this._genConfig.useJit?v.interpretStatements(c,u.viewFactoryVar,new y.InterpretiveAppViewInstanceFactory):f.jitStatements(e.compType.name+".template.js",c,u.viewFactoryVar),e.compiled(o)}},RuntimeCompiler.prototype._resolveStylesCompileResult=function(e,t){var i=this;e.dependencies.forEach(function(e,r){var n=t.get(e.moduleUrl),s=i._resolveAndEvalStylesCompileResult(n,t);e.valuePlaceholder.runtime=s,e.valuePlaceholder.name="importedStyles"+r})},RuntimeCompiler.prototype._resolveAndEvalStylesCompileResult=function(e,t){return this._resolveStylesCompileResult(e,t),s.IS_DART||!this._genConfig.useJit?v.interpretStatements(e.statements,e.stylesVar,new y.InterpretiveAppViewInstanceFactory):f.jitStatements(e.meta.moduleUrl+".css.js",e.statements,e.stylesVar)},RuntimeCompiler.decorators=[{type:r.Injectable}],RuntimeCompiler.ctorParameters=[{type:h.CompileMetadataResolver},{type:c.DirectiveNormalizer},{type:u.TemplateParser},{type:p.StyleCompiler},{type:l.ViewCompiler},{type:m.CompilerConfig}],RuntimeCompiler}();t.RuntimeCompiler=_;var E=function(){function CompiledTemplate(e,t,i,n,s,o,a,p){var l=this;this.isHost=e,this.compType=i,this.viewDirectives=n,this.viewComponentTypes=s,this.precompileHostComponentTypes=o,this.viewPipes=a,this._normalizeResult=p,this._viewFactory=null,this.loading=null,this._normalizedCompMeta=null,this.isCompiled=!1,this.isCompiledWithDeps=!1,this.proxyViewFactory=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return l._viewFactory.apply(null,e)},this.proxyComponentFactory=e?new r.ComponentFactory(t,this.proxyViewFactory,i.runtime):null,p.syncResult?this._normalizedCompMeta=p.syncResult:this.loading=p.asyncResult.then(function(e){l._normalizedCompMeta=e,l.loading=null})}return Object.defineProperty(CompiledTemplate.prototype,"normalizedCompMeta",{get:function(){if(this.loading)throw new n.BaseException("Template is still loading for "+this.compType.name+"!");return this._normalizedCompMeta},enumerable:!0,configurable:!0}),CompiledTemplate.prototype.compiled=function(e){this._viewFactory=e,this.isCompiled=!0},CompiledTemplate.prototype.depsCompiled=function(){this.isCompiledWithDeps=!0},CompiledTemplate}()},342:function(e,t,i){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=i(0),s=i(23),o=i(12),a=i(5),p=i(599),l=i(133),u="boolean",c="number",h="string",m="object",d=["*|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop","^*|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*autocomplete,*autocompleteerror,*beforecopy,*beforecut,*beforepaste,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*message,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*paste,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*search,*seeked,*seeking,*select,*selectstart,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate","media|!autoplay,!controls,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,#playbackRate,preload,src,#volume",":svg:^*|*abort,*autocomplete,*autocompleteerror,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerpolicy,rel,rev,search,shape,target,text,type,username","area|alt,coords,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerpolicy,search,shape,target,username","audio^media|","br|clear","base|href,target","body|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas|#height,#width","content|select","dl|!compact","datalist|","details|!open","dialog|!open,returnValue","dir|!compact","div|align","embed|align,height,name,src,type,width","fieldset|!disabled,name","font|color,face,size","form|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr|align,color,!noShade,size,width","head|","h1,h2,h3,h4,h5,h6|align","html|version","iframe|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerpolicy,%sandbox,scrolling,src,srcdoc,width","img|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerpolicy,sizes,src,srcset,useMap,#vspace,#width","input|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","keygen|!autofocus,challenge,!disabled,keytype,name","li|type,#value","label|htmlFor","legend|align","link|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,rel,%relList,rev,%sizes,target,type","map|name","marquee|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu|!compact","meta|content,httpEquiv,name,scheme","meter|#high,#low,#max,#min,#optimum,#value","ins,del|cite,dateTime","ol|!compact,!reversed,#start,type","object|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup|!disabled,label","option|!defaultSelected,!disabled,label,!selected,text,value","output|defaultValue,%htmlFor,name,value","p|align","param|name,type,value,valueType","picture|","pre|#width","progress|#max,#value","q,blockquote,cite|","script|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow|","source|media,sizes,src,srcset,type","span|","style|!disabled,media,type","caption|align","th,td|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup|align,ch,chOff,#span,vAlign,width","table|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody|align,ch,chOff,vAlign","template|","textarea|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title|text","track|!default,kind,label,src,srclang","ul|!compact,type","unknown|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:cursor^:svg:|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan"],f={
"class":"className",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},v=function(e){function DomElementSchemaRegistry(){var t=this;e.call(this),this.schema={},d.forEach(function(e){var i=e.split("|"),r=i[1].split(","),n=(i[0]+"^").split("^"),s=n[0],p={};s.split(",").forEach(function(e){return t.schema[e]=p});var l=t.schema[n[1]];a.isPresent(l)&&o.StringMapWrapper.forEach(l,function(e,t){return p[t]=e}),r.forEach(function(e){""==e||e.startsWith("*")||(e.startsWith("!")?p[e.substring(1)]=u:e.startsWith("#")?p[e.substring(1)]=c:e.startsWith("%")?p[e.substring(1)]=m:p[e]=h)})})}return r(DomElementSchemaRegistry,e),DomElementSchemaRegistry.prototype.hasProperty=function(e,t){if(e.indexOf("-")!==-1)return"ng-container"!==e&&"ng-content"!==e;var i=this.schema[e.toLowerCase()];return a.isPresent(i)||(i=this.schema.unknown),a.isPresent(i[t])},DomElementSchemaRegistry.prototype.securityContext=function(e,t){e=e.toLowerCase(),t=t.toLowerCase();var i=p.SECURITY_SCHEMA[e+"|"+t];return void 0!==i?i:(i=p.SECURITY_SCHEMA["*|"+t],void 0!==i?i:s.SecurityContext.NONE)},DomElementSchemaRegistry.prototype.getMappedPropName=function(e){var t=o.StringMapWrapper.get(f,e);return a.isPresent(t)?t:e},DomElementSchemaRegistry.decorators=[{type:n.Injectable}],DomElementSchemaRegistry.ctorParameters=[],DomElementSchemaRegistry}(l.ElementSchemaRegistry);t.DomElementSchemaRegistry=v},343:function(e,t,i){"use strict";function isStyleUrlResolvable(e){if(r.isBlank(e)||0===e.length||"/"==e[0])return!1;var t=r.RegExpWrapper.firstMatch(o,e);return r.isBlank(t)||"package"==t[1]||"asset"==t[1]}function extractStyleUrls(e,t,i){var o=[],a=r.StringWrapper.replaceAllMapped(i,s,function(i){var n=r.isPresent(i[1])?i[1]:i[2];return isStyleUrlResolvable(n)?(o.push(e.resolve(t,n)),""):i[0]});return new n(a,o)}var r=i(5),n=function(){function StyleWithImports(e,t){this.style=e,this.styleUrls=t}return StyleWithImports}();t.StyleWithImports=n,t.isStyleUrlResolvable=isStyleUrlResolvable,t.extractStyleUrls=extractStyleUrls;var s=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,o=/^([a-zA-Z\-\+\.]+):/g},344:function(e,t,i){"use strict";function preparseElement(e){var t=null,i=null,r=null,y=!1,_=null;e.attrs.forEach(function(e){var n=e.name.toLowerCase();n==s?t=e.value:n==l?i=e.value:n==p?r=e.value:e.name==m?y=!0:e.name==d&&e.value.length>0&&(_=e.value)}),t=normalizeNgContentSelect(t);var E=e.name.toLowerCase(),g=f.OTHER;return n.splitNsName(E)[1]==o?g=f.NG_CONTENT:E==c?g=f.STYLE:E==h?g=f.SCRIPT:E==a&&r==u&&(g=f.STYLESHEET),new v(g,t,i,y,_)}function normalizeNgContentSelect(e){return r.isBlank(e)||0===e.length?"*":e}var r=i(5),n=i(130),s="select",o="ng-content",a="link",p="rel",l="href",u="stylesheet",c="style",h="script",m="ngNonBindable",d="ngProjectAs";t.preparseElement=preparseElement,function(e){e[e.NG_CONTENT=0]="NG_CONTENT",e[e.STYLE=1]="STYLE",e[e.STYLESHEET=2]="STYLESHEET",e[e.SCRIPT=3]="SCRIPT",e[e.OTHER=4]="OTHER"}(t.PreparsedElementType||(t.PreparsedElementType={}));var f=t.PreparsedElementType,v=function(){function PreparsedElement(e,t,i,r,n){this.type=e,this.selectAttr=t,this.hrefAttr=i,this.nonBindable=r,this.projectAs=n}return PreparsedElement}();t.PreparsedElement=v},345:function(e,t){"use strict";var i=function(){function CompileBinding(e,t){this.node=e,this.sourceAst=t}return CompileBinding}();t.CompileBinding=i},346:function(e,t,i){"use strict";function createInjectInternalCondition(e,t,i,r){var n;return n=t>0?p.literal(e).lowerEquals(u.InjectMethodVars.requestNodeIndex).and(u.InjectMethodVars.requestNodeIndex.lowerEquals(p.literal(e+t))):p.literal(e).identical(u.InjectMethodVars.requestNodeIndex),new p.IfStmt(u.InjectMethodVars.token.identical(h.createDiTokenExpression(i.token)).and(n),[new p.ReturnStatement(r)])}function createProviderProperty(e,t,i,r,n,s){var a,l,u=s.view;if(r?(a=p.literalArr(i),l=new p.ArrayType(p.DYNAMIC_TYPE)):(a=i[0],l=i[0].type),o.isBlank(l)&&(l=p.DYNAMIC_TYPE),n)u.fields.push(new p.ClassField(e,l)),u.createMethod.addStmt(p.THIS_EXPR.prop(e).set(a).toStmt());else{var c="_"+e;u.fields.push(new p.ClassField(c,l));var h=new d.CompileMethod(u);h.resetDebugInfo(s.nodeIndex,s.sourceAst),h.addStmt(new p.IfStmt(p.THIS_EXPR.prop(c).isBlank(),[p.THIS_EXPR.prop(c).set(a).toStmt()])),h.addStmt(new p.ReturnStatement(p.THIS_EXPR.prop(c))),u.getters.push(new p.ClassGetter(e,h.finish(),l))}return p.THIS_EXPR.prop(e)}function _convertValueToOutputAst(e){return f.visitValue(e,new E,null)}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=i(0),s=i(12),o=i(5),a=i(32),p=i(19),l=i(58),u=i(83),c=i(31),h=i(100),m=i(347),d=i(211),f=i(59),v=function(){function CompileNode(e,t,i,r,n){this.parent=e,this.view=t,this.nodeIndex=i,this.renderNode=r,this.sourceAst=n}return CompileNode.prototype.isNull=function(){return o.isBlank(this.renderNode)},CompileNode.prototype.isRootElement=function(){return this.view!=this.parent.view},CompileNode}();t.CompileNode=v;var y=function(e){function CompileElement(t,i,r,n,s,l,u,h,m,d,f){var v=this;e.call(this,t,i,r,n,s),this.component=l,this._directives=u,this._resolvedProvidersArray=h,this.hasViewContainer=m,this.hasEmbeddedView=d,this._compViewExpr=null,this._instances=new c.CompileTokenMap,this._queryCount=0,this._queries=new c.CompileTokenMap,this._componentConstructorViewQueryLists=[],this.contentNodesByNgContentIndex=null,this.referenceTokens={},f.forEach(function(e){return v.referenceTokens[e.name]=e.value}),this.elementRef=p.importExpr(a.Identifiers.ElementRef).instantiate([this.renderNode]),this._instances.add(a.identifierToken(a.Identifiers.ElementRef),this.elementRef),this.injector=p.THIS_EXPR.callMethod("injector",[p.literal(this.nodeIndex)]),this._instances.add(a.identifierToken(a.Identifiers.Injector),this.injector),this._instances.add(a.identifierToken(a.Identifiers.Renderer),p.THIS_EXPR.prop("renderer")),(this.hasViewContainer||this.hasEmbeddedView||o.isPresent(this.component))&&this._createAppElement()}return r(CompileElement,e),CompileElement.createNull=function(){return new CompileElement(null,null,null,null,null,null,[],[],(!1),(!1),[])},CompileElement.prototype._createAppElement=function(){var e="_appEl_"+this.nodeIndex,t=this.isRootElement()?null:this.parent.nodeIndex;this.view.fields.push(new p.ClassField(e,p.importType(a.Identifiers.AppElement),[p.StmtModifier.Private]));var i=p.THIS_EXPR.prop(e).set(p.importExpr(a.Identifiers.AppElement).instantiate([p.literal(this.nodeIndex),p.literal(t),p.THIS_EXPR,this.renderNode])).toStmt();this.view.createMethod.addStmt(i),this.appElement=p.THIS_EXPR.prop(e),this._instances.add(a.identifierToken(a.Identifiers.AppElement),this.appElement)},CompileElement.prototype.createComponentFactoryResolver=function(e){if(e&&0!==e.length){var t=p.importExpr(a.Identifiers.CodegenComponentFactoryResolver).instantiate([p.literalArr(e.map(function(e){return p.importExpr(e)})),h.injectFromViewParentInjector(a.identifierToken(a.Identifiers.ComponentFactoryResolver),!1)]),i=new c.CompileProviderMetadata({token:a.identifierToken(a.Identifiers.ComponentFactoryResolver),useValue:t});this._resolvedProvidersArray.unshift(new l.ProviderAst(i.token,(!1),(!0),[i],l.ProviderAstType.PrivateService,this.sourceAst.sourceSpan))}},CompileElement.prototype.setComponentView=function(e){this._compViewExpr=e,this.contentNodesByNgContentIndex=s.ListWrapper.createFixedSize(this.component.template.ngContentSelectors.length);for(var t=0;t<this.contentNodesByNgContentIndex.length;t++)this.contentNodesByNgContentIndex[t]=[]},CompileElement.prototype.setEmbeddedView=function(e){if(this.embeddedView=e,o.isPresent(e)){var t=p.importExpr(a.Identifiers.TemplateRef_).instantiate([this.appElement,this.embeddedView.viewFactory]),i=new c.CompileProviderMetadata({token:a.identifierToken(a.Identifiers.TemplateRef),useValue:t});this._resolvedProvidersArray.unshift(new l.ProviderAst(i.token,(!1),(!0),[i],l.ProviderAstType.Builtin,this.sourceAst.sourceSpan))}},CompileElement.prototype.beforeChildren=function(){var e=this;this.hasViewContainer&&this._instances.add(a.identifierToken(a.Identifiers.ViewContainerRef),this.appElement.prop("vcRef")),this._resolvedProviders=new c.CompileTokenMap,this._resolvedProvidersArray.forEach(function(t){return e._resolvedProviders.add(t.token,t)}),this._resolvedProviders.values().forEach(function(t){var i=t.providers.map(function(i){if(o.isPresent(i.useExisting))return e._getDependency(t.providerType,new c.CompileDiDependencyMetadata({token:i.useExisting}));if(o.isPresent(i.useFactory)){var r=o.isPresent(i.deps)?i.deps:i.useFactory.diDeps,n=r.map(function(i){return e._getDependency(t.providerType,i)});return p.importExpr(i.useFactory).callFn(n)}if(o.isPresent(i.useClass)){var r=o.isPresent(i.deps)?i.deps:i.useClass.diDeps,n=r.map(function(i){return e._getDependency(t.providerType,i)});return p.importExpr(i.useClass).instantiate(n,p.importType(i.useClass))}return _convertValueToOutputAst(i.useValue)}),r="_"+t.token.name+"_"+e.nodeIndex+"_"+e._instances.size,n=createProviderProperty(r,t,i,t.multiProvider,t.eager,e);e._instances.add(t.token,n)}),this.directiveInstances=this._directives.map(function(t){return e._instances.get(a.identifierToken(t.type))});for(var t=0;t<this.directiveInstances.length;t++){var i=this.directiveInstances[t],r=this._directives[t];r.queries.forEach(function(t){e._addQuery(t,i)})}var n=[];if(this._resolvedProviders.values().forEach(function(t){var i=e._getQueriesFor(t.token);s.ListWrapper.addAll(n,i.map(function(e){return new _(e,t.token)}))}),s.StringMapWrapper.forEach(this.referenceTokens,function(t,i){var r,a=e.referenceTokens[i];r=o.isPresent(a)?e._instances.get(a):e.renderNode,e.view.locals.set(i,r);var p=new c.CompileTokenMetadata({value:i});s.ListWrapper.addAll(n,e._getQueriesFor(p).map(function(e){return new _(e,p)}))}),n.forEach(function(t){var i;if(o.isPresent(t.read.identifier))i=e._instances.get(t.read);else{var r=e.referenceTokens[t.read.value];i=o.isPresent(r)?e._instances.get(r):e.elementRef}o.isPresent(i)&&t.query.addValue(i,e.view)}),o.isPresent(this.component)){var l=o.isPresent(this.component)?p.literalArr(this._componentConstructorViewQueryLists):p.NULL_EXPR,u=o.isPresent(this.getComponent())?this.getComponent():p.NULL_EXPR;this.view.createMethod.addStmt(this.appElement.callMethod("initComponent",[u,l,this._compViewExpr]).toStmt())}},CompileElement.prototype.afterChildren=function(e){var t=this;this._resolvedProviders.values().forEach(function(i){var r=t._instances.get(i.token),n=i.providerType===l.ProviderAstType.PrivateService?0:e;t.view.injectorGetMethod.addStmt(createInjectInternalCondition(t.nodeIndex,n,i,r))}),this._queries.values().forEach(function(e){return e.forEach(function(e){return e.afterChildren(t.view.createMethod,t.view.updateContentQueriesMethod)})})},CompileElement.prototype.addContentNode=function(e,t){this.contentNodesByNgContentIndex[e].push(t)},CompileElement.prototype.getComponent=function(){return o.isPresent(this.component)?this._instances.get(a.identifierToken(this.component.type)):null},CompileElement.prototype.getProviderTokens=function(){return this._resolvedProviders.values().map(function(e){return h.createDiTokenExpression(e.token)})},CompileElement.prototype._getQueriesFor=function(e){for(var t,i=[],r=this,n=0;!r.isNull();)t=r._queries.get(e),o.isPresent(t)&&s.ListWrapper.addAll(i,t.filter(function(e){return e.meta.descendants||n<=1})),r._directives.length>0&&n++,r=r.parent;return t=this.view.componentView.viewQueries.get(e),o.isPresent(t)&&s.ListWrapper.addAll(i,t),i},CompileElement.prototype._addQuery=function(e,t){var i="_query_"+e.selectors[0].name+"_"+this.nodeIndex+"_"+this._queryCount++,r=m.createQueryList(e,t,i,this.view),n=new m.CompileQuery(e,r,t,this.view);return m.addQueryToTokenMap(this._queries,n),n},CompileElement.prototype._getLocalDependency=function(e,t){var i=null;if(o.isBlank(i)&&o.isPresent(t.query)&&(i=this._addQuery(t.query,null).queryList),o.isBlank(i)&&o.isPresent(t.viewQuery)&&(i=m.createQueryList(t.viewQuery,null,"_viewQuery_"+t.viewQuery.selectors[0].name+"_"+this.nodeIndex+"_"+this._componentConstructorViewQueryLists.length,this.view),this._componentConstructorViewQueryLists.push(i)),o.isPresent(t.token)){if(o.isBlank(i)&&t.token.equalsTo(a.identifierToken(a.Identifiers.ChangeDetectorRef)))return e===l.ProviderAstType.Component?this._compViewExpr.prop("ref"):h.getPropertyInView(p.THIS_EXPR.prop("ref"),this.view,this.view.componentView);if(o.isBlank(i)){var r=this._resolvedProviders.get(t.token);if(r&&(e===l.ProviderAstType.Directive||e===l.ProviderAstType.PublicService)&&r.providerType===l.ProviderAstType.PrivateService)return null;i=this._instances.get(t.token)}}return i},CompileElement.prototype._getDependency=function(e,t){var i=this,r=null;for(t.isValue&&(r=p.literal(t.value)),o.isBlank(r)&&!t.isSkipSelf&&(r=this._getLocalDependency(e,t));o.isBlank(r)&&!i.parent.isNull();)i=i.parent,r=i._getLocalDependency(l.ProviderAstType.PublicService,new c.CompileDiDependencyMetadata({token:t.token}));return o.isBlank(r)&&(r=h.injectFromViewParentInjector(t.token,t.isOptional)),o.isBlank(r)&&(r=p.NULL_EXPR),h.getPropertyInView(r,this.view,i.view)},CompileElement}(v);t.CompileElement=y;var _=function(){function _QueryWithRead(e,t){this.query=e,this.read=o.isPresent(e.meta.read)?e.meta.read:t}return _QueryWithRead}(),E=function(e){function _ValueOutputAstTransformer(){e.apply(this,arguments)}return r(_ValueOutputAstTransformer,e),_ValueOutputAstTransformer.prototype.visitArray=function(e,t){var i=this;return p.literalArr(e.map(function(e){return f.visitValue(e,i,t)}))},_ValueOutputAstTransformer.prototype.visitStringMap=function(e,t){var i=this,r=[];return s.StringMapWrapper.forEach(e,function(e,n){r.push([n,f.visitValue(e,i,t)])}),p.literalMap(r)},_ValueOutputAstTransformer.prototype.visitPrimitive=function(e,t){return p.literal(e)},_ValueOutputAstTransformer.prototype.visitOther=function(e,t){if(e instanceof c.CompileIdentifierMetadata)return p.importExpr(e);if(e instanceof p.Expression)return e;throw new n.BaseException("Illegal state: Don't now how to compile value "+e)},_ValueOutputAstTransformer}(f.ValueTransformer)},347:function(e,t,i){"use strict";function createQueryValues(e){return r.ListWrapper.flatten(e.values.map(function(e){return e instanceof p?mapNestedViews(e.view.declarationElement.appElement,e.view,createQueryValues(e)):e}))}function mapNestedViews(e,t,i){var r=i.map(function(e){return o.replaceVarInExpression(o.THIS_EXPR.name,o.variable("nestedView"),e)});return e.callMethod("mapNestedViews",[o.variable(t.className),o.fn([new o.FnParam("nestedView",t.classType)],[new o.ReturnStatement(o.literalArr(r))])])}function createQueryList(e,t,i,r){r.fields.push(new o.ClassField(i,o.importType(s.Identifiers.QueryList,[o.DYNAMIC_TYPE])));var n=o.THIS_EXPR.prop(i);return r.createMethod.addStmt(o.THIS_EXPR.prop(i).set(o.importExpr(s.Identifiers.QueryList,[o.DYNAMIC_TYPE]).instantiate([])).toStmt()),n}function addQueryToTokenMap(e,t){t.meta.selectors.forEach(function(i){var r=e.get(i);n.isBlank(r)&&(r=[],e.add(i,r)),r.push(t)})}var r=i(12),n=i(5),s=i(32),o=i(19),a=i(100),p=function(){function ViewQueryValues(e,t){this.view=e,this.values=t}return ViewQueryValues}(),l=function(){function CompileQuery(e,t,i,r){this.meta=e,this.queryList=t,this.ownerDirectiveExpression=i,this.view=r,this._values=new p(r,[])}return CompileQuery.prototype.addValue=function(e,t){for(var i=t,r=[];n.isPresent(i)&&i!==this.view;){var s=i.declarationElement;r.unshift(s),i=s.view}var o=a.getPropertyInView(this.queryList,t,this.view),l=this._values;r.forEach(function(e){var t=l.values.length>0?l.values[l.values.length-1]:null;if(t instanceof p&&t.view===e.embeddedView)l=t;else{var i=new p(e.embeddedView,[]);l.values.push(i),l=i}}),l.values.push(e),r.length>0&&t.dirtyParentQueriesMethod.addStmt(o.callMethod("setDirty",[]).toStmt())},CompileQuery.prototype._isStatic=function(){return!this._values.values.some(function(e){return e instanceof p})},CompileQuery.prototype.afterChildren=function(e,t){var i=createQueryValues(this._values),r=[this.queryList.callMethod("reset",[o.literalArr(i)]).toStmt()];if(n.isPresent(this.ownerDirectiveExpression)){var s=this.meta.first?this.queryList.prop("first"):this.queryList;r.push(this.ownerDirectiveExpression.prop(this.meta.propertyName).set(s).toStmt())}this.meta.first||r.push(this.queryList.callMethod("notifyOnChanges",[]).toStmt()),this.meta.first&&this._isStatic()?e.addStmts(r):t.addStmt(new o.IfStmt(this.queryList.prop("dirty"),r))},CompileQuery}();t.CompileQuery=l,t.createQueryList=createQueryList,t.addQueryToTokenMap=addQueryToTokenMap},348:function(e,t,i){"use strict";function getViewType(e,t){return t>0?r.ViewType.EMBEDDED:e.type.isHost?r.ViewType.HOST:r.ViewType.COMPONENT}var r=i(23),n=i(31),s=i(12),o=i(5),a=i(32),p=i(19),l=i(211),u=i(601),c=i(347),h=i(83),m=i(100),d=function(){function CompileView(e,t,i,a,u,h,d,f){var v=this;this.component=e,this.genConfig=t,this.pipeMetas=i,this.styles=a,this.viewIndex=h,this.declarationElement=d,this.templateVariableBindings=f,this.nodes=[],this.rootNodesOrAppElements=[],this.bindings=[],this.classStatements=[],this.eventHandlerMethods=[],this.fields=[],this.getters=[],this.disposables=[],this.subscriptions=[],this.purePipes=new Map,this.pipes=[],this.locals=new Map,this.literalArrayCount=0,this.literalMapCount=0,this.pipeCount=0,this.animations=new Map,u.forEach(function(e){return v.animations.set(e.name,e)}),this.createMethod=new l.CompileMethod(this),this.injectorGetMethod=new l.CompileMethod(this),this.updateContentQueriesMethod=new l.CompileMethod(this),this.dirtyParentQueriesMethod=new l.CompileMethod(this),this.updateViewQueriesMethod=new l.CompileMethod(this),this.detectChangesInInputsMethod=new l.CompileMethod(this),this.detectChangesRenderPropertiesMethod=new l.CompileMethod(this),this.afterContentLifecycleCallbacksMethod=new l.CompileMethod(this),this.afterViewLifecycleCallbacksMethod=new l.CompileMethod(this),this.destroyMethod=new l.CompileMethod(this),this.detachMethod=new l.CompileMethod(this),this.viewType=getViewType(e,h),this.className="_View_"+e.type.name+h,this.classType=p.importType(new n.CompileIdentifierMetadata({name:this.className})),this.viewFactory=p.variable(m.getViewFactoryName(e,h)),this.viewType===r.ViewType.COMPONENT||this.viewType===r.ViewType.HOST?this.componentView=this:this.componentView=this.declarationElement.view.componentView,this.componentContext=m.getPropertyInView(p.THIS_EXPR.prop("context"),this,this.componentView);var y=new n.CompileTokenMap;if(this.viewType===r.ViewType.COMPONENT){var _=p.THIS_EXPR.prop("context");s.ListWrapper.forEachWithIndex(this.component.viewQueries,function(e,t){var i="_viewQuery_"+e.selectors[0].name+"_"+t,r=c.createQueryList(e,_,i,v),n=new c.CompileQuery(e,r,_,v);c.addQueryToTokenMap(y,n)});var E=0;this.component.type.diDeps.forEach(function(e){if(o.isPresent(e.viewQuery)){var t=p.THIS_EXPR.prop("declarationAppElement").prop("componentConstructorViewQueries").key(p.literal(E++)),i=new c.CompileQuery(e.viewQuery,t,null,v);c.addQueryToTokenMap(y,i)}})}this.viewQueries=y,f.forEach(function(e){v.locals.set(e[1],p.THIS_EXPR.prop("context").prop(e[0]))}),this.declarationElement.isNull()||this.declarationElement.setEmbeddedView(this)}return CompileView.prototype.callPipe=function(e,t,i){return u.CompilePipe.call(this,e,[t].concat(i))},CompileView.prototype.getLocal=function(e){if(e==h.EventHandlerVars.event.name)return h.EventHandlerVars.event;for(var t=this,i=t.locals.get(e);o.isBlank(i)&&o.isPresent(t.declarationElement.view);)t=t.declarationElement.view,i=t.locals.get(e);return o.isPresent(i)?m.getPropertyInView(i,this,t):null},CompileView.prototype.createLiteralArray=function(e){if(0===e.length)return p.importExpr(a.Identifiers.EMPTY_ARRAY);for(var t=p.THIS_EXPR.prop("_arr_"+this.literalArrayCount++),i=[],r=[],n=0;n<e.length;n++){var s="p"+n;i.push(new p.FnParam(s)),r.push(p.variable(s))}return m.createPureProxy(p.fn(i,[new p.ReturnStatement(p.literalArr(r))],new p.ArrayType(p.DYNAMIC_TYPE)),e.length,t,this),t.callFn(e)},CompileView.prototype.createLiteralMap=function(e){if(0===e.length)return p.importExpr(a.Identifiers.EMPTY_MAP);for(var t=p.THIS_EXPR.prop("_map_"+this.literalMapCount++),i=[],r=[],n=[],s=0;s<e.length;s++){var o="p"+s;i.push(new p.FnParam(o)),r.push([e[s][0],p.variable(o)]),n.push(e[s][1])}return m.createPureProxy(p.fn(i,[new p.ReturnStatement(p.literalMap(r))],new p.MapType(p.DYNAMIC_TYPE)),e.length,t,this),t.callFn(n)},CompileView.prototype.afterNodes=function(){var e=this;this.pipes.forEach(function(e){return e.create()}),this.viewQueries.values().forEach(function(t){return t.forEach(function(t){return t.afterChildren(e.createMethod,e.updateViewQueriesMethod)})})},CompileView}();t.CompileView=d},349:function(e,t,i){"use strict";function convertCdExpressionToIr(e,t,i,r){var n=new u(e,t,r),s=i.visit(n,l.Expression);return new p(s,n.needsValueUnwrapper)}function convertCdStatementToIr(e,t,i){var r=new u(e,t,null),n=[];return flattenStatements(i.visit(r,l.Statement),n),n}function ensureStatementMode(e,t){if(e!==l.Statement)throw new r.BaseException("Expected a statement, but saw "+t)}function ensureExpressionMode(e,t){if(e!==l.Expression)throw new r.BaseException("Expected an expression, but saw "+t)}function convertToStatementIfNeeded(e,t){return e===l.Statement?t.toStmt():t}function flattenStatements(e,t){n.isArray(e)?e.forEach(function(e){return flattenStatements(e,t)}):t.push(e)}var r=i(15),n=i(5),s=i(32),o=i(19),a=o.variable("#implicit"),p=function(){function ExpressionWithWrappedValueInfo(e,t){this.expression=e,this.needsValueUnwrapper=t}return ExpressionWithWrappedValueInfo}();t.ExpressionWithWrappedValueInfo=p,t.convertCdExpressionToIr=convertCdExpressionToIr,t.convertCdStatementToIr=convertCdStatementToIr;var l;!function(e){e[e.Statement=0]="Statement",e[e.Expression=1]="Expression"}(l||(l={}));var u=function(){function _AstToIrVisitor(e,t,i){this._nameResolver=e,this._implicitReceiver=t,this._valueUnwrapper=i,this.needsValueUnwrapper=!1}return _AstToIrVisitor.prototype.visitBinary=function(e,t){var i;switch(e.operation){case"+":i=o.BinaryOperator.Plus;break;case"-":i=o.BinaryOperator.Minus;break;case"*":i=o.BinaryOperator.Multiply;break;case"/":i=o.BinaryOperator.Divide;break;case"%":i=o.BinaryOperator.Modulo;break;case"&&":i=o.BinaryOperator.And;break;case"||":i=o.BinaryOperator.Or;break;case"==":i=o.BinaryOperator.Equals;break;case"!=":i=o.BinaryOperator.NotEquals;break;case"===":i=o.BinaryOperator.Identical;break;case"!==":i=o.BinaryOperator.NotIdentical;break;case"<":i=o.BinaryOperator.Lower;break;case">":i=o.BinaryOperator.Bigger;break;case"<=":i=o.BinaryOperator.LowerEquals;break;case">=":i=o.BinaryOperator.BiggerEquals;break;default:throw new r.BaseException("Unsupported operation "+e.operation)}return convertToStatementIfNeeded(t,new o.BinaryOperatorExpr(i,e.left.visit(this,l.Expression),e.right.visit(this,l.Expression)))},_AstToIrVisitor.prototype.visitChain=function(e,t){return ensureStatementMode(t,e),this.visitAll(e.expressions,t)},_AstToIrVisitor.prototype.visitConditional=function(e,t){var i=e.condition.visit(this,l.Expression);return convertToStatementIfNeeded(t,i.conditional(e.trueExp.visit(this,l.Expression),e.falseExp.visit(this,l.Expression)))},_AstToIrVisitor.prototype.visitPipe=function(e,t){var i=e.exp.visit(this,l.Expression),r=this.visitAll(e.args,l.Expression),n=this._nameResolver.callPipe(e.name,i,r);return this.needsValueUnwrapper=!0,convertToStatementIfNeeded(t,this._valueUnwrapper.callMethod("unwrap",[n]))},_AstToIrVisitor.prototype.visitFunctionCall=function(e,t){return convertToStatementIfNeeded(t,e.target.visit(this,l.Expression).callFn(this.visitAll(e.args,l.Expression)))},_AstToIrVisitor.prototype.visitImplicitReceiver=function(e,t){return ensureExpressionMode(t,e),a},_AstToIrVisitor.prototype.visitInterpolation=function(e,t){ensureExpressionMode(t,e);for(var i=[o.literal(e.expressions.length)],r=0;r<e.strings.length-1;r++)i.push(o.literal(e.strings[r])),i.push(e.expressions[r].visit(this,l.Expression));return i.push(o.literal(e.strings[e.strings.length-1])),o.importExpr(s.Identifiers.interpolate).callFn(i)},_AstToIrVisitor.prototype.visitKeyedRead=function(e,t){return convertToStatementIfNeeded(t,e.obj.visit(this,l.Expression).key(e.key.visit(this,l.Expression)))},_AstToIrVisitor.prototype.visitKeyedWrite=function(e,t){var i=e.obj.visit(this,l.Expression),r=e.key.visit(this,l.Expression),n=e.value.visit(this,l.Expression);return convertToStatementIfNeeded(t,i.key(r).set(n))},_AstToIrVisitor.prototype.visitLiteralArray=function(e,t){return convertToStatementIfNeeded(t,this._nameResolver.createLiteralArray(this.visitAll(e.expressions,t)))},_AstToIrVisitor.prototype.visitLiteralMap=function(e,t){for(var i=[],r=0;r<e.keys.length;r++)i.push([e.keys[r],e.values[r].visit(this,l.Expression)]);return convertToStatementIfNeeded(t,this._nameResolver.createLiteralMap(i))},_AstToIrVisitor.prototype.visitLiteralPrimitive=function(e,t){return convertToStatementIfNeeded(t,o.literal(e.value))},_AstToIrVisitor.prototype.visitMethodCall=function(e,t){var i=this.visitAll(e.args,l.Expression),r=null,s=e.receiver.visit(this,l.Expression);if(s===a){var o=this._nameResolver.getLocal(e.name);n.isPresent(o)?r=o.callFn(i):s=this._implicitReceiver}return n.isBlank(r)&&(r=s.callMethod(e.name,i)),convertToStatementIfNeeded(t,r)},_AstToIrVisitor.prototype.visitPrefixNot=function(e,t){return convertToStatementIfNeeded(t,o.not(e.expression.visit(this,l.Expression)))},_AstToIrVisitor.prototype.visitPropertyRead=function(e,t){var i=null,r=e.receiver.visit(this,l.Expression);return r===a&&(i=this._nameResolver.getLocal(e.name),n.isBlank(i)&&(r=this._implicitReceiver)),n.isBlank(i)&&(i=r.prop(e.name)),convertToStatementIfNeeded(t,i)},_AstToIrVisitor.prototype.visitPropertyWrite=function(e,t){var i=e.receiver.visit(this,l.Expression);if(i===a){var s=this._nameResolver.getLocal(e.name);if(n.isPresent(s))throw new r.BaseException("Cannot assign to a reference or variable!");i=this._implicitReceiver}return convertToStatementIfNeeded(t,i.prop(e.name).set(e.value.visit(this,l.Expression)))},_AstToIrVisitor.prototype.visitSafePropertyRead=function(e,t){var i=e.receiver.visit(this,l.Expression);return convertToStatementIfNeeded(t,i.isBlank().conditional(o.NULL_EXPR,i.prop(e.name)))},_AstToIrVisitor.prototype.visitSafeMethodCall=function(e,t){var i=e.receiver.visit(this,l.Expression),r=this.visitAll(e.args,l.Expression);return convertToStatementIfNeeded(t,i.isBlank().conditional(o.NULL_EXPR,i.callMethod(e.name,r)))},_AstToIrVisitor.prototype.visitAll=function(e,t){var i=this;return e.map(function(e){return e.visit(i,t)})},_AstToIrVisitor.prototype.visitQuote=function(e,t){throw new r.BaseException("Quotes are not supported for evaluation!")},_AstToIrVisitor}()},350:function(e,t,i){"use strict";function buildView(e,t,i){var r=new T(e,i);return c.templateVisitAll(r,t,e.declarationElement.isNull()?e.declarationElement:e.declarationElement.parent),r.nestedViewCount}function finishView(e,t){e.afterNodes(),createViewTopLevelStmts(e,t),e.nodes.forEach(function(e){e instanceof h.CompileElement&&e.hasEmbeddedView&&finishView(e.embeddedView,t)})}function _getOuterContainerOrSelf(e){for(var t=e.view;_isNgContainer(e.parent,t);)e=e.parent;return e}function _getOuterContainerParentOrSelf(e){for(var t=e.view;_isNgContainer(e,t);)e=e.parent;return e}function _isNgContainer(e,t){return!e.isNull()&&e.sourceAst.name===E&&e.view===t}function _mergeHtmlAndDirectiveAttrs(e,t){var i={};return a.StringMapWrapper.forEach(e,function(e,t){i[t]=e}),t.forEach(function(e){a.StringMapWrapper.forEach(e.hostAttributes,function(e,t){var r=i[t];i[t]=p.isPresent(r)?mergeAttributeValue(t,r,e):e})}),mapToKeyValueArray(i)}function _readHtmlAttrs(e){var t={};return e.forEach(function(e){t[e.name]=e.value}),t}function mergeAttributeValue(e,t,i){return e==y||e==_?t+" "+i:i}function mapToKeyValueArray(e){var t=[];return a.StringMapWrapper.forEach(e,function(e,i){t.push([i,e])}),a.ListWrapper.sort(t,function(e,t){return p.StringWrapper.compare(e[0],t[0])}),t}function createViewTopLevelStmts(e,t){var i=u.NULL_EXPR;e.genConfig.genDebugInfo&&(i=u.variable("nodeDebugInfos_"+e.component.type.name+e.viewIndex),t.push(i.set(u.literalArr(e.nodes.map(createStaticNodeDebugInfo),new u.ArrayType(new u.ExternalType(l.Identifiers.StaticNodeDebugInfo),[u.TypeModifier.Const]))).toDeclStmt(null,[u.StmtModifier.Final])));var r=u.variable("renderType_"+e.component.type.name);0===e.viewIndex&&t.push(r.set(u.NULL_EXPR).toDeclStmt(u.importType(l.Identifiers.RenderComponentType)));var n=createViewClass(e,r,i);t.push(n),t.push(createViewFactory(e,n,r))}function createStaticNodeDebugInfo(e){var t=e instanceof h.CompileElement?e:null,i=[],r=u.NULL_EXPR,n=[];return p.isPresent(t)&&(i=t.getProviderTokens(),p.isPresent(t.component)&&(r=f.createDiTokenExpression(l.identifierToken(t.component.type))),a.StringMapWrapper.forEach(t.referenceTokens,function(e,t){n.push([t,p.isPresent(e)?f.createDiTokenExpression(e):u.NULL_EXPR])})),u.importExpr(l.Identifiers.StaticNodeDebugInfo).instantiate([u.literalArr(i,new u.ArrayType(u.DYNAMIC_TYPE,[u.TypeModifier.Const])),r,u.literalMap(n,new u.MapType(u.DYNAMIC_TYPE,[u.TypeModifier.Const]))],u.importType(l.Identifiers.StaticNodeDebugInfo,null,[u.TypeModifier.Const]))}function createViewClass(e,t,i){var r=[new u.FnParam(d.ViewConstructorVars.viewUtils.name,u.importType(l.Identifiers.ViewUtils)),new u.FnParam(d.ViewConstructorVars.parentInjector.name,u.importType(l.Identifiers.Injector)),new u.FnParam(d.ViewConstructorVars.declarationEl.name,u.importType(l.Identifiers.AppElement))],n=[u.variable(e.className),t,d.ViewTypeEnum.fromValue(e.viewType),d.ViewConstructorVars.viewUtils,d.ViewConstructorVars.parentInjector,d.ViewConstructorVars.declarationEl,d.ChangeDetectorStatusEnum.fromValue(getChangeDetectionMode(e))];e.genConfig.genDebugInfo&&n.push(i);var s=new u.ClassMethod(null,r,[u.SUPER_EXPR.callFn(n).toStmt()]),o=[new u.ClassMethod("createInternal",[new u.FnParam(C.name,u.STRING_TYPE)],generateCreateMethod(e),u.importType(l.Identifiers.AppElement)),new u.ClassMethod("injectorGetInternal",[new u.FnParam(d.InjectMethodVars.token.name,u.DYNAMIC_TYPE),new u.FnParam(d.InjectMethodVars.requestNodeIndex.name,u.NUMBER_TYPE),new u.FnParam(d.InjectMethodVars.notFoundResult.name,u.DYNAMIC_TYPE)],addReturnValuefNotEmpty(e.injectorGetMethod.finish(),d.InjectMethodVars.notFoundResult),u.DYNAMIC_TYPE),new u.ClassMethod("detectChangesInternal",[new u.FnParam(d.DetectChangesVars.throwOnChange.name,u.BOOL_TYPE)],generateDetectChangesMethod(e)),new u.ClassMethod("dirtyParentQueriesInternal",[],e.dirtyParentQueriesMethod.finish()),new u.ClassMethod("destroyInternal",[],e.destroyMethod.finish()),new u.ClassMethod("detachInternal",[],e.detachMethod.finish())].concat(e.eventHandlerMethods),a=e.genConfig.genDebugInfo?l.Identifiers.DebugAppView:l.Identifiers.AppView,p=new u.ClassStmt(e.className,u.importExpr(a,[getContextType(e)]),e.fields,e.getters,s,o.filter(function(e){return e.body.length>0}));return p}function createViewFactory(e,t,i){var r,n=[new u.FnParam(d.ViewConstructorVars.viewUtils.name,u.importType(l.Identifiers.ViewUtils)),new u.FnParam(d.ViewConstructorVars.parentInjector.name,u.importType(l.Identifiers.Injector)),new u.FnParam(d.ViewConstructorVars.declarationEl.name,u.importType(l.Identifiers.AppElement))],s=[];return r=e.component.template.templateUrl==e.component.type.moduleUrl?e.component.type.moduleUrl+" class "+e.component.type.name+" - inline template":e.component.template.templateUrl,0===e.viewIndex&&(s=[new u.IfStmt(i.identical(u.NULL_EXPR),[i.set(d.ViewConstructorVars.viewUtils.callMethod("createRenderComponentType",[u.literal(r),u.literal(e.component.template.ngContentSelectors.length),d.ViewEncapsulationEnum.fromValue(e.component.template.encapsulation),e.styles])).toStmt()])]),
u.fn(n,s.concat([new u.ReturnStatement(u.variable(t.name).instantiate(t.constructorMethod.params.map(function(e){return u.variable(e.name)})))]),u.importType(l.Identifiers.AppView,[getContextType(e)])).toDeclStmt(e.viewFactory.name,[u.StmtModifier.Final])}function generateCreateMethod(e){var t=u.NULL_EXPR,i=[];e.viewType===n.ViewType.COMPONENT&&(t=d.ViewProperties.renderer.callMethod("createViewRoot",[u.THIS_EXPR.prop("declarationAppElement").prop("nativeElement")]),i=[g.set(t).toDeclStmt(u.importType(e.genConfig.renderTypes.renderNode),[u.StmtModifier.Final])]);var r;return r=e.viewType===n.ViewType.HOST?e.nodes[0].appElement:u.NULL_EXPR,i.concat(e.createMethod.finish(),[u.THIS_EXPR.callMethod("init",[f.createFlatArray(e.rootNodesOrAppElements),u.literalArr(e.nodes.map(function(e){return e.renderNode})),u.literalArr(e.disposables),u.literalArr(e.subscriptions)]).toStmt(),new u.ReturnStatement(r)])}function generateDetectChangesMethod(e){var t=[];if(e.detectChangesInInputsMethod.isEmpty()&&e.updateContentQueriesMethod.isEmpty()&&e.afterContentLifecycleCallbacksMethod.isEmpty()&&e.detectChangesRenderPropertiesMethod.isEmpty()&&e.updateViewQueriesMethod.isEmpty()&&e.afterViewLifecycleCallbacksMethod.isEmpty())return t;a.ListWrapper.addAll(t,e.detectChangesInInputsMethod.finish()),t.push(u.THIS_EXPR.callMethod("detectContentChildrenChanges",[d.DetectChangesVars.throwOnChange]).toStmt());var i=e.updateContentQueriesMethod.finish().concat(e.afterContentLifecycleCallbacksMethod.finish());i.length>0&&t.push(new u.IfStmt(u.not(d.DetectChangesVars.throwOnChange),i)),a.ListWrapper.addAll(t,e.detectChangesRenderPropertiesMethod.finish()),t.push(u.THIS_EXPR.callMethod("detectViewChildrenChanges",[d.DetectChangesVars.throwOnChange]).toStmt());var r=e.updateViewQueriesMethod.finish().concat(e.afterViewLifecycleCallbacksMethod.finish());r.length>0&&t.push(new u.IfStmt(u.not(d.DetectChangesVars.throwOnChange),r));var n=[],s=u.findReadVarNames(t);return a.SetWrapper.has(s,d.DetectChangesVars.changed.name)&&n.push(d.DetectChangesVars.changed.set(u.literal(!0)).toDeclStmt(u.BOOL_TYPE)),a.SetWrapper.has(s,d.DetectChangesVars.changes.name)&&n.push(d.DetectChangesVars.changes.set(u.NULL_EXPR).toDeclStmt(new u.MapType(u.importType(l.Identifiers.SimpleChange)))),a.SetWrapper.has(s,d.DetectChangesVars.valUnwrapper.name)&&n.push(d.DetectChangesVars.valUnwrapper.set(u.importExpr(l.Identifiers.ValueUnwrapper).instantiate([])).toDeclStmt(null,[u.StmtModifier.Final])),n.concat(t)}function addReturnValuefNotEmpty(e,t){return e.length>0?e.concat([new u.ReturnStatement(t)]):e}function getContextType(e){return e.viewType===n.ViewType.COMPONENT?u.importType(e.component.type):u.DYNAMIC_TYPE}function getChangeDetectionMode(e){var t;return t=e.viewType===n.ViewType.COMPONENT?n.isDefaultChangeDetectionStrategy(e.component.changeDetection)?n.ChangeDetectorStatus.CheckAlways:n.ChangeDetectorStatus.CheckOnce:n.ChangeDetectorStatus.CheckAlways}var r=i(0),n=i(23),s=i(335),o=i(31),a=i(12),p=i(5),l=i(32),u=i(19),c=i(58),h=i(346),m=i(348),d=i(83),f=i(100),v="$implicit",y="class",_="style",E="ng-container",g=u.variable("parentRenderNode"),C=u.variable("rootSelector"),S=function(){function ViewFactoryDependency(e,t){this.comp=e,this.placeholder=t}return ViewFactoryDependency}();t.ViewFactoryDependency=S;var A=function(){function ComponentFactoryDependency(e,t){this.comp=e,this.placeholder=t}return ComponentFactoryDependency}();t.ComponentFactoryDependency=A,t.buildView=buildView,t.finishView=finishView;var T=function(){function ViewBuilderVisitor(e,t){this.view=e,this.targetDependencies=t,this.nestedViewCount=0,this._animationCompiler=new s.AnimationCompiler}return ViewBuilderVisitor.prototype._isRootNode=function(e){return e.view!==this.view},ViewBuilderVisitor.prototype._addRootNodeAndProject=function(e){var t=_getOuterContainerOrSelf(e),i=t.parent,r=t.sourceAst.ngContentIndex,s=e instanceof h.CompileElement&&e.hasViewContainer?e.appElement:null;this._isRootNode(i)?this.view.viewType!==n.ViewType.COMPONENT&&this.view.rootNodesOrAppElements.push(p.isPresent(s)?s:e.renderNode):p.isPresent(i.component)&&p.isPresent(r)&&i.addContentNode(r,p.isPresent(s)?s:e.renderNode)},ViewBuilderVisitor.prototype._getParentRenderNode=function(e){return e=_getOuterContainerParentOrSelf(e),this._isRootNode(e)?this.view.viewType===n.ViewType.COMPONENT?g:u.NULL_EXPR:p.isPresent(e.component)&&e.component.template.encapsulation!==r.ViewEncapsulation.Native?u.NULL_EXPR:e.renderNode},ViewBuilderVisitor.prototype.visitBoundText=function(e,t){return this._visitText(e,"",t)},ViewBuilderVisitor.prototype.visitText=function(e,t){return this._visitText(e,e.value,t)},ViewBuilderVisitor.prototype._visitText=function(e,t,i){var r="_text_"+this.view.nodes.length;this.view.fields.push(new u.ClassField(r,u.importType(this.view.genConfig.renderTypes.renderText)));var n=u.THIS_EXPR.prop(r),s=new h.CompileNode(i,this.view,this.view.nodes.length,n,e),o=u.THIS_EXPR.prop(r).set(d.ViewProperties.renderer.callMethod("createText",[this._getParentRenderNode(i),u.literal(t),this.view.createMethod.resetDebugInfoExpr(this.view.nodes.length,e)])).toStmt();return this.view.nodes.push(s),this.view.createMethod.addStmt(o),this._addRootNodeAndProject(s),n},ViewBuilderVisitor.prototype.visitNgContent=function(e,t){this.view.createMethod.resetDebugInfo(null,e);var i=this._getParentRenderNode(t),r=d.ViewProperties.projectableNodes.key(u.literal(e.index),new u.ArrayType(u.importType(this.view.genConfig.renderTypes.renderNode)));return i!==u.NULL_EXPR?this.view.createMethod.addStmt(d.ViewProperties.renderer.callMethod("projectNodes",[i,u.importExpr(l.Identifiers.flattenNestedViewRenderNodes).callFn([r])]).toStmt()):this._isRootNode(t)?this.view.viewType!==n.ViewType.COMPONENT&&this.view.rootNodesOrAppElements.push(r):p.isPresent(t.component)&&p.isPresent(e.ngContentIndex)&&t.addContentNode(e.ngContentIndex,r),null},ViewBuilderVisitor.prototype.visitElement=function(e,t){var i,r=this,s=this.view.nodes.length,a=this.view.createMethod.resetDebugInfoExpr(s,e);i=0===s&&this.view.viewType===n.ViewType.HOST?u.THIS_EXPR.callMethod("selectOrCreateHostElement",[u.literal(e.name),C,a]):e.name===E?d.ViewProperties.renderer.callMethod("createTemplateAnchor",[this._getParentRenderNode(t),a]):d.ViewProperties.renderer.callMethod("createElement",[this._getParentRenderNode(t),u.literal(e.name),a]);var l="_el_"+s;this.view.fields.push(new u.ClassField(l,u.importType(this.view.genConfig.renderTypes.renderElement))),this.view.createMethod.addStmt(u.THIS_EXPR.prop(l).set(i).toStmt());for(var m=u.THIS_EXPR.prop(l),v=e.directives.map(function(e){return e.directive}),y=v.find(function(e){return e.isComponent}),_=_readHtmlAttrs(e.attrs),g=_mergeHtmlAndDirectiveAttrs(_,v),T=0;T<g.length;T++){var P=g[T][0],w=g[T][1];this.view.createMethod.addStmt(d.ViewProperties.renderer.callMethod("setElementAttribute",[m,u.literal(P),u.literal(w)]).toStmt())}var x=new h.CompileElement(t,this.view,s,m,e,y,v,e.providers,e.hasViewContainer,(!1),e.references);this.view.nodes.push(x);var M=null;if(p.isPresent(y)){var I=new o.CompileIdentifierMetadata({name:f.getViewFactoryName(y,0)});this.targetDependencies.push(new S(y.type,I));var b=y.precompile.map(function(e){var t=new o.CompileIdentifierMetadata({name:e.name});return r.targetDependencies.push(new A(e,t)),t});x.createComponentFactoryResolver(b),M=u.variable("compView_"+s),x.setComponentView(M),this.view.createMethod.addStmt(M.set(u.importExpr(I).callFn([d.ViewProperties.viewUtils,x.injector,x.appElement])).toDeclStmt())}if(x.beforeChildren(),this._addRootNodeAndProject(x),c.templateVisitAll(this,e.children,x),x.afterChildren(this.view.nodes.length-s-1),p.isPresent(M)){var R;R=this.view.component.type.isHost?d.ViewProperties.projectableNodes:u.literalArr(x.contentNodesByNgContentIndex.map(function(e){return f.createFlatArray(e)})),this.view.createMethod.addStmt(M.callMethod("create",[x.getComponent(),R,u.NULL_EXPR]).toStmt())}return null},ViewBuilderVisitor.prototype.visitEmbeddedTemplate=function(e,t){var i=this.view.nodes.length,r="_anchor_"+i;this.view.fields.push(new u.ClassField(r,u.importType(this.view.genConfig.renderTypes.renderComment))),this.view.createMethod.addStmt(u.THIS_EXPR.prop(r).set(d.ViewProperties.renderer.callMethod("createTemplateAnchor",[this._getParentRenderNode(t),this.view.createMethod.resetDebugInfoExpr(i,e)])).toStmt());var n=u.THIS_EXPR.prop(r),s=e.variables.map(function(e){return[e.value.length>0?e.value:v,e.name]}),o=e.directives.map(function(e){return e.directive}),a=new h.CompileElement(t,this.view,i,n,e,null,o,e.providers,e.hasViewContainer,(!0),e.references);this.view.nodes.push(a);var p=this._animationCompiler.compileComponent(this.view.component);this.nestedViewCount++;var l=new m.CompileView(this.view.component,this.view.genConfig,this.view.pipeMetas,u.NULL_EXPR,p,this.view.viewIndex+this.nestedViewCount,a,s);return this.nestedViewCount+=buildView(l,e.children,this.targetDependencies),a.beforeChildren(),this._addRootNodeAndProject(a),a.afterChildren(0),null},ViewBuilderVisitor.prototype.visitAttr=function(e,t){return null},ViewBuilderVisitor.prototype.visitDirective=function(e,t){return null},ViewBuilderVisitor.prototype.visitEvent=function(e,t){return null},ViewBuilderVisitor.prototype.visitReference=function(e,t){return null},ViewBuilderVisitor.prototype.visitVariable=function(e,t){return null},ViewBuilderVisitor.prototype.visitDirectiveProperty=function(e,t){return null},ViewBuilderVisitor.prototype.visitElementProperty=function(e,t){return null},ViewBuilderVisitor}()},351:function(e,t){"use strict";var i=function(){function XHR(){}return XHR.prototype.get=function(e){return null},XHR}();t.XHR=i},384:318,385:[1031,384,639,87],5:6,539:function(e,t,i){"use strict";var r=i(637),n=i.n(r),s=i(408);n.a.bootstrap(s.a)},56:function(e,t,i){"use strict";function htmlVisitAll(e,t,i){void 0===i&&(i=null);var n=[];return t.forEach(function(t){var s=t.visit(e,i);r.isPresent(s)&&n.push(s)}),n}var r=i(5),n=function(){function HtmlTextAst(e,t){this.value=e,this.sourceSpan=t}return HtmlTextAst.prototype.visit=function(e,t){return e.visitText(this,t)},HtmlTextAst}();t.HtmlTextAst=n;var s=function(){function HtmlExpansionAst(e,t,i,r,n){this.switchValue=e,this.type=t,this.cases=i,this.sourceSpan=r,this.switchValueSourceSpan=n}return HtmlExpansionAst.prototype.visit=function(e,t){return e.visitExpansion(this,t)},HtmlExpansionAst}();t.HtmlExpansionAst=s;var o=function(){function HtmlExpansionCaseAst(e,t,i,r,n){this.value=e,this.expression=t,this.sourceSpan=i,this.valueSourceSpan=r,this.expSourceSpan=n}return HtmlExpansionCaseAst.prototype.visit=function(e,t){return e.visitExpansionCase(this,t)},HtmlExpansionCaseAst}();t.HtmlExpansionCaseAst=o;var a=function(){function HtmlAttrAst(e,t,i){this.name=e,this.value=t,this.sourceSpan=i}return HtmlAttrAst.prototype.visit=function(e,t){return e.visitAttr(this,t)},HtmlAttrAst}();t.HtmlAttrAst=a;var p=function(){function HtmlElementAst(e,t,i,r,n,s){this.name=e,this.attrs=t,this.children=i,this.sourceSpan=r,this.startSourceSpan=n,this.endSourceSpan=s}return HtmlElementAst.prototype.visit=function(e,t){return e.visitElement(this,t)},HtmlElementAst}();t.HtmlElementAst=p;var l=function(){function HtmlCommentAst(e,t){this.value=e,this.sourceSpan=t}return HtmlCommentAst.prototype.visit=function(e,t){return e.visitComment(this,t)},HtmlCommentAst}();t.HtmlCommentAst=l,t.htmlVisitAll=htmlVisitAll},57:function(e,t){"use strict";var i=function(){function ParseLocation(e,t,i,r){this.file=e,this.offset=t,this.line=i,this.col=r}return ParseLocation.prototype.toString=function(){return this.file.url+"@"+this.line+":"+this.col},ParseLocation}();t.ParseLocation=i;var r=function(){function ParseSourceFile(e,t){this.content=e,this.url=t}return ParseSourceFile}();t.ParseSourceFile=r;var n=function(){function ParseSourceSpan(e,t){this.start=e,this.end=t}return ParseSourceSpan.prototype.toString=function(){return this.start.file.content.substring(this.start.offset,this.end.offset)},ParseSourceSpan}();t.ParseSourceSpan=n,function(e){e[e.WARNING=0]="WARNING",e[e.FATAL=1]="FATAL"}(t.ParseErrorLevel||(t.ParseErrorLevel={}));var s=t.ParseErrorLevel,o=function(){function ParseError(e,t,i){void 0===i&&(i=s.FATAL),this.span=e,this.msg=t,this.level=i}return ParseError.prototype.toString=function(){var e=this.span.start.file.content,t=this.span.start.offset;t>e.length-1&&(t=e.length-1);for(var i=t,r=0,n=0;r<100&&t>0&&(t--,r++,"\n"!=e[t]||3!=++n););for(r=0,n=0;r<100&&i<e.length-1&&(i++,r++,"\n"!=e[i]||3!=++n););var s=e.substring(t,this.span.start.offset)+"[ERROR ->]"+e.substring(this.span.start.offset,i+1);return this.msg+' ("'+s+'"): '+this.span.start},ParseError}();t.ParseError=o},577:function(e,t,i){"use strict";function __export(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}var r=i(582);t.COMPILER_PROVIDERS=r.COMPILER_PROVIDERS,t.CompileDiDependencyMetadata=r.CompileDiDependencyMetadata,t.CompileDirectiveMetadata=r.CompileDirectiveMetadata,t.CompileFactoryMetadata=r.CompileFactoryMetadata,t.CompileIdentifierMetadata=r.CompileIdentifierMetadata,t.CompileMetadataWithIdentifier=r.CompileMetadataWithIdentifier,t.CompileMetadataWithType=r.CompileMetadataWithType,t.CompilePipeMetadata=r.CompilePipeMetadata,t.CompileProviderMetadata=r.CompileProviderMetadata,t.CompileQueryMetadata=r.CompileQueryMetadata,t.CompileTemplateMetadata=r.CompileTemplateMetadata,t.CompileTokenMetadata=r.CompileTokenMetadata,t.CompileTypeMetadata=r.CompileTypeMetadata,t.CompilerConfig=r.CompilerConfig,t.DEFAULT_PACKAGE_URL_PROVIDER=r.DEFAULT_PACKAGE_URL_PROVIDER,t.DirectiveResolver=r.DirectiveResolver,t.NormalizedComponentWithViewDirectives=r.NormalizedComponentWithViewDirectives,t.OfflineCompiler=r.OfflineCompiler,t.PipeResolver=r.PipeResolver,t.RenderTypes=r.RenderTypes,t.RuntimeCompiler=r.RuntimeCompiler,t.SourceModule=r.SourceModule,t.TEMPLATE_TRANSFORMS=r.TEMPLATE_TRANSFORMS,t.UrlResolver=r.UrlResolver,t.ViewResolver=r.ViewResolver,t.XHR=r.XHR,t.createOfflineCompileUrlResolver=r.createOfflineCompileUrlResolver;var n=i(133);t.ElementSchemaRegistry=n.ElementSchemaRegistry,__export(i(58)),__export(i(578))},578:function(e,t,i){"use strict";var r,n=i(202),s=i(204),o=i(205),a=i(81),p=i(588),l=i(99),u=i(589),c=i(590),h=i(207),m=i(597),d=i(340),f=i(57),v=i(342),y=i(209),_=i(210),E=i(134),g=i(135);!function(e){e.SelectorMatcher=y.SelectorMatcher,e.CssSelector=y.CssSelector,e.AssetUrl=m.AssetUrl,e.ImportGenerator=m.ImportGenerator,e.CompileMetadataResolver=h.CompileMetadataResolver,e.HtmlParser=a.HtmlParser,e.I18nHtmlParser=p.I18nHtmlParser,e.ExtractionResult=u.ExtractionResult,e.Message=l.Message,e.MessageExtractor=u.MessageExtractor,e.removeDuplicates=u.removeDuplicates,e.serializeXmb=c.serializeXmb,e.deserializeXmb=c.deserializeXmb,e.DirectiveNormalizer=n.DirectiveNormalizer,e.Lexer=s.Lexer,e.Parser=o.Parser,e.ParseLocation=f.ParseLocation,e.ParseError=f.ParseError,e.ParseErrorLevel=f.ParseErrorLevel,e.ParseSourceFile=f.ParseSourceFile,e.ParseSourceSpan=f.ParseSourceSpan,e.TemplateParser=E.TemplateParser,e.DomElementSchemaRegistry=v.DomElementSchemaRegistry,e.StyleCompiler=_.StyleCompiler,e.ViewCompiler=g.ViewCompiler,e.TypeScriptEmitter=d.TypeScriptEmitter}(r=t.__compiler_private__||(t.__compiler_private__={}))},579:function(e,t,i){"use strict";function parseAnimationEntry(e){var t=[],i={},r=[],n=[];e.definitions.forEach(function(e){e instanceof s.CompileAnimationStateDeclarationMetadata?_parseAnimationDeclarationStates(e,t).forEach(function(e){n.push(e),i[e.stateName]=e.styles}):r.push(e)});var o=r.map(function(e){return _parseAnimationStateTransition(e,i,t)}),a=new u.AnimationEntryAst(e.name,n,o);return new v(a,t)}function _parseAnimationDeclarationStates(e,t){var i=[];e.styles.styles.forEach(function(e){a.isStringMap(e)?i.push(e):t.push(new f("State based animations cannot contain references to other states"))});var r=new u.AnimationStylesAst(i),n=e.stateNameExpr.split(/\s*,\s*/);return n.map(function(e){return new u.AnimationStateDeclarationAst(e,r)})}function _parseAnimationStateTransition(e,t,i){var r=new c.StylesCollection,n=[],s=e.stateChangeExpr.split(/\s*,\s*/);s.forEach(function(e){_parseAnimationTransitionExpr(e,i).forEach(function(e){n.push(e)})});var o=_normalizeAnimationEntry(e.steps),a=_normalizeStyleSteps(o,t,i),p=_parseTransitionAnimation(a,0,r,t,i);0==i.length&&_fillAnimationAstStartingKeyframes(p,r,i);var l=p instanceof u.AnimationSequenceAst?p:new u.AnimationSequenceAst([p]);return new u.AnimationStateTransitionAst(n,l)}function _parseAnimationTransitionExpr(e,t){var i=[],r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(!a.isPresent(r)||r.length<4)return t.push(new f("the provided "+e+" is not of a supported format")),i;var s=r[1],o=r[2],p=r[3];i.push(new u.AnimationStateTransitionExpression(s,p));var l=s==n.ANY_STATE&&p==n.ANY_STATE;return"<"!=o[0]||l||i.push(new u.AnimationStateTransitionExpression(p,s)),i}function _normalizeAnimationEntry(e){return a.isArray(e)?new s.CompileAnimationSequenceMetadata(e):e}function _normalizeStyleMetadata(e,t,i){var r=[];return e.styles.forEach(function(e){a.isString(e)?o.ListWrapper.addAll(r,_resolveStylesFromState(e,t,i)):r.push(e)}),r}function _normalizeStyleSteps(e,t,i){var r=_normalizeStyleStepEntry(e,t,i);return new s.CompileAnimationSequenceMetadata(r)}function _mergeAnimationStyles(e,t){if(a.isStringMap(t)&&e.length>0){var i=e.length-1,r=e[i];if(a.isStringMap(r))return void(e[i]=o.StringMapWrapper.merge(r,t))}e.push(t)}function _normalizeStyleStepEntry(e,t,i){var r;if(!(e instanceof s.CompileAnimationWithStepsMetadata))return[e];r=e.steps;var n,o=[];return r.forEach(function(e){if(e instanceof s.CompileAnimationStyleMetadata)a.isPresent(n)||(n=[]),_normalizeStyleMetadata(e,t,i).forEach(function(e){_mergeAnimationStyles(n,e)});else{if(a.isPresent(n)&&(o.push(new s.CompileAnimationStyleMetadata(0,n)),n=null),e instanceof s.CompileAnimationAnimateMetadata){var r=e.styles;r instanceof s.CompileAnimationStyleMetadata?r.styles=_normalizeStyleMetadata(r,t,i):r instanceof s.CompileAnimationKeyframesSequenceMetadata&&r.steps.forEach(function(e){e.styles=_normalizeStyleMetadata(e,t,i)})}else if(e instanceof s.CompileAnimationWithStepsMetadata){var p=_normalizeStyleStepEntry(e,t,i);e=e instanceof s.CompileAnimationGroupMetadata?new s.CompileAnimationGroupMetadata(p):new s.CompileAnimationSequenceMetadata(p)}o.push(e)}}),a.isPresent(n)&&o.push(new s.CompileAnimationStyleMetadata(0,n)),o}function _resolveStylesFromState(e,t,i){var r=[];if(":"!=e[0])i.push(new f('Animation states via styles must be prefixed with a ":"'));else{var n=e.substring(1),s=t[n];a.isPresent(s)?s.styles.forEach(function(e){a.isStringMap(e)&&r.push(e)}):i.push(new f('Unable to apply styles due to missing a state: "'+n+'"'))}return r}function _parseAnimationKeyframes(e,t,i,r,s){var p=e.steps.length,l=0;e.steps.forEach(function(e){return l+=a.isPresent(e.offset)?1:0}),l>0&&l<p&&(s.push(new f("Not all style() entries contain an offset for the provided keyframe()")),l=p);var c=p-1,d=0==l?1/c:0,v=[],y=0,_=!1,E=0;e.steps.forEach(function(e){var t=e.offset,i={};e.styles.forEach(function(e){o.StringMapWrapper.forEach(e,function(e,t){"offset"!=t&&(i[t]=e)})}),a.isPresent(t)?_=_||t<E:t=y==c?m:d*y,v.push([t,i]),E=t,y++}),_&&o.ListWrapper.sort(v,function(e,t){return e[0]<=t[0]?-1:1});var g,C=v[0];C[0]!=h&&o.ListWrapper.insert(v,0,C=[h,{}]);var S=C[1],c=v.length-1,A=v[c];A[0]!=m&&(v.push(A=[m,{}]),c++);var T=A[1];for(g=1;g<=c;g++){var P=v[g],w=P[1];o.StringMapWrapper.forEach(w,function(e,t){a.isPresent(S[t])||(S[t]=n.FILL_STYLE_FLAG)})}for(g=c-1;g>=0;g--){var P=v[g],w=P[1];o.StringMapWrapper.forEach(w,function(e,t){a.isPresent(T[t])||(T[t]=e)})}return v.map(function(e){return new u.AnimationKeyframeAst(e[0],new u.AnimationStylesAst([e[1]]))})}function _parseTransitionAnimation(e,t,i,r,n){var l,c=0,h=t;if(e instanceof s.CompileAnimationWithStepsMetadata){var d,f=0,v=[],y=e instanceof s.CompileAnimationGroupMetadata;if(e.steps.forEach(function(e){var l=y?h:t;if(e instanceof s.CompileAnimationStyleMetadata)return e.styles.forEach(function(e){var t=e;o.StringMapWrapper.forEach(t,function(e,t){i.insertAtTime(t,l,e)})}),void(d=e.styles);var m=_parseTransitionAnimation(e,l,i,r,n);if(a.isPresent(d)){if(e instanceof s.CompileAnimationWithStepsMetadata){var _=new u.AnimationStylesAst(d);v.push(new u.AnimationStepAst(_,[],0,0,""))}else{var E=m;o.ListWrapper.addAll(E.startingStyles.styles,d)}d=null}var g=m.playTime;t+=g,c+=g,f=p.Math.max(g,f),v.push(m)}),a.isPresent(d)){var _=new u.AnimationStylesAst(d);v.push(new u.AnimationStepAst(_,[],0,0,""))}y?(l=new u.AnimationGroupAst(v),c=f,t=h+c):l=new u.AnimationSequenceAst(v)}else if(e instanceof s.CompileAnimationAnimateMetadata){var E,g=_parseTimeExpression(e.timings,n),C=e.styles;if(C instanceof s.CompileAnimationKeyframesSequenceMetadata)E=_parseAnimationKeyframes(C,t,i,r,n);else{var S=C,A=m,T=new u.AnimationStylesAst(S.styles),P=new u.AnimationKeyframeAst(A,T);E=[P]}l=new u.AnimationStepAst(new u.AnimationStylesAst([]),E,g.duration,g.delay,g.easing),c=g.duration+g.delay,t+=c,E.forEach(function(e){return e.styles.styles.forEach(function(e){return o.StringMapWrapper.forEach(e,function(e,r){return i.insertAtTime(r,t,e)})})})}else l=new u.AnimationStepAst(null,[],0,0,"");return l.playTime=c,l.startTime=h,l}function _fillAnimationAstStartingKeyframes(e,t,i){if(e instanceof u.AnimationStepAst&&e.keyframes.length>0){var r=e.keyframes;if(1==r.length){var n=r[0],s=_createStartKeyframeFromEndKeyframe(n,e.startTime,e.playTime,t,i);e.keyframes=[s,n]}}else e instanceof u.AnimationWithStepsAst&&e.steps.forEach(function(e){return _fillAnimationAstStartingKeyframes(e,t,i)})}function _parseTimeExpression(e,t){var i,r=/^([\.\d]+)(m?s)(?:\s+([\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?/gi,n=0,s=null;if(a.isString(e)){var o=a.RegExpWrapper.firstMatch(r,e);if(!a.isPresent(o))return t.push(new f('The provided timing value "'+e+'" is invalid.')),new y(0,0,null);var l=a.NumberWrapper.parseFloat(o[1]),u=o[2];"s"==u&&(l*=d),i=p.Math.floor(l);var c=o[3],h=o[4];if(a.isPresent(c)){var m=a.NumberWrapper.parseFloat(c);a.isPresent(h)&&"s"==h&&(m*=d),n=p.Math.floor(m)}var v=o[5];a.isBlank(v)||(s=v)}else i=e;return new y(i,n,s)}function _createStartKeyframeFromEndKeyframe(e,t,i,r,s){var p={},l=t+i;return e.styles.styles.forEach(function(e){o.StringMapWrapper.forEach(e,function(e,i){if("offset"!=i){var o,u,c,h=r.indexOfAtOrBeforeTime(i,t);a.isPresent(h)?(o=r.getByIndex(i,h),c=o.value,u=r.getByIndex(i,h+1)):c=n.FILL_STYLE_FLAG,a.isPresent(u)&&!u.matches(l,e)&&s.push(new f('The animated CSS property "'+i+'" unexpectedly changes between steps "'+o.time+'ms" and "'+l+'ms" at "'+u.time+'ms"')),p[i]=c}})}),new u.AnimationKeyframeAst(h,new u.AnimationStylesAst([p]))}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=i(23),s=i(31),o=i(12),a=i(5),p=i(584),l=i(57),u=i(334),c=i(580),h=0,m=1,d=1e3,f=function(e){function AnimationParseError(t){e.call(this,null,t)}return r(AnimationParseError,e),AnimationParseError.prototype.toString=function(){return""+this.msg},AnimationParseError}(l.ParseError);t.AnimationParseError=f;var v=function(){function ParsedAnimationResult(e,t){this.ast=e,this.errors=t}return ParsedAnimationResult}();t.ParsedAnimationResult=v,t.parseAnimationEntry=parseAnimationEntry;var y=function(){function _AnimationTimings(e,t,i){this.duration=e,this.delay=t,this.easing=i}return _AnimationTimings}()},58:function(e,t,i){"use strict";function templateVisitAll(e,t,i){void 0===i&&(i=null);var n=[];return t.forEach(function(t){var s=t.visit(e,i);r.isPresent(s)&&n.push(s)}),n}var r=i(5),n=function(){function TextAst(e,t,i){this.value=e,this.ngContentIndex=t,this.sourceSpan=i}return TextAst.prototype.visit=function(e,t){return e.visitText(this,t)},TextAst}();t.TextAst=n;var s=function(){function BoundTextAst(e,t,i){this.value=e,this.ngContentIndex=t,this.sourceSpan=i}return BoundTextAst.prototype.visit=function(e,t){return e.visitBoundText(this,t)},BoundTextAst}();t.BoundTextAst=s;var o=function(){function AttrAst(e,t,i){this.name=e,this.value=t,this.sourceSpan=i}return AttrAst.prototype.visit=function(e,t){return e.visitAttr(this,t)},AttrAst}();t.AttrAst=o;var a=function(){function BoundElementPropertyAst(e,t,i,r,n,s){this.name=e,this.type=t,this.securityContext=i,this.value=r,this.unit=n,this.sourceSpan=s}return BoundElementPropertyAst.prototype.visit=function(e,t){return e.visitElementProperty(this,t)},BoundElementPropertyAst}();t.BoundElementPropertyAst=a;var p=function(){function BoundEventAst(e,t,i,r){this.name=e,this.target=t,this.handler=i,this.sourceSpan=r}return BoundEventAst.prototype.visit=function(e,t){return e.visitEvent(this,t)},Object.defineProperty(BoundEventAst.prototype,"fullName",{get:function(){return r.isPresent(this.target)?this.target+":"+this.name:this.name},enumerable:!0,configurable:!0}),BoundEventAst}();t.BoundEventAst=p;var l=function(){function ReferenceAst(e,t,i){this.name=e,this.value=t,this.sourceSpan=i}return ReferenceAst.prototype.visit=function(e,t){return e.visitReference(this,t)},ReferenceAst}();t.ReferenceAst=l;var u=function(){function VariableAst(e,t,i){this.name=e,this.value=t,this.sourceSpan=i}return VariableAst.prototype.visit=function(e,t){return e.visitVariable(this,t)},VariableAst}();t.VariableAst=u;var c=function(){function ElementAst(e,t,i,r,n,s,o,a,p,l,u){this.name=e,this.attrs=t,this.inputs=i,this.outputs=r,this.references=n,this.directives=s,this.providers=o,this.hasViewContainer=a,this.children=p,this.ngContentIndex=l,this.sourceSpan=u}return ElementAst.prototype.visit=function(e,t){return e.visitElement(this,t)},ElementAst}();t.ElementAst=c;var h=function(){function EmbeddedTemplateAst(e,t,i,r,n,s,o,a,p,l){this.attrs=e,this.outputs=t,this.references=i,this.variables=r,this.directives=n,this.providers=s,this.hasViewContainer=o,this.children=a,this.ngContentIndex=p,this.sourceSpan=l}return EmbeddedTemplateAst.prototype.visit=function(e,t){return e.visitEmbeddedTemplate(this,t)},EmbeddedTemplateAst}();t.EmbeddedTemplateAst=h;var m=function(){function BoundDirectivePropertyAst(e,t,i,r){this.directiveName=e,this.templateName=t,this.value=i,this.sourceSpan=r}return BoundDirectivePropertyAst.prototype.visit=function(e,t){return e.visitDirectiveProperty(this,t)},BoundDirectivePropertyAst}();t.BoundDirectivePropertyAst=m;var d=function(){function DirectiveAst(e,t,i,r,n){this.directive=e,this.inputs=t,this.hostProperties=i,this.hostEvents=r,this.sourceSpan=n}return DirectiveAst.prototype.visit=function(e,t){return e.visitDirective(this,t)},DirectiveAst}();t.DirectiveAst=d;var f=function(){function ProviderAst(e,t,i,r,n,s){this.token=e,this.multiProvider=t,this.eager=i,this.providers=r,this.providerType=n,this.sourceSpan=s}return ProviderAst.prototype.visit=function(e,t){return null},ProviderAst}();t.ProviderAst=f,function(e){e[e.PublicService=0]="PublicService",e[e.PrivateService=1]="PrivateService",e[e.Component=2]="Component",e[e.Directive=3]="Directive",e[e.Builtin=4]="Builtin"}(t.ProviderAstType||(t.ProviderAstType={}));var v=(t.ProviderAstType,function(){function NgContentAst(e,t,i){this.index=e,this.ngContentIndex=t,this.sourceSpan=i}return NgContentAst.prototype.visit=function(e,t){return e.visitNgContent(this,t)},NgContentAst}());t.NgContentAst=v,function(e){e[e.Property=0]="Property",e[e.Attribute=1]="Attribute",e[e.Class=2]="Class",e[e.Style=3]="Style",e[e.Animation=4]="Animation"}(t.PropertyBindingType||(t.PropertyBindingType={}));t.PropertyBindingType;t.templateVisitAll=templateVisitAll},580:function(e,t,i){"use strict";var r=i(12),n=i(5),s=function(){function StylesCollectionEntry(e,t){this.time=e,this.value=t}return StylesCollectionEntry.prototype.matches=function(e,t){return e==this.time&&t==this.value},StylesCollectionEntry}();t.StylesCollectionEntry=s;var o=function(){function StylesCollection(){this.styles={}}return StylesCollection.prototype.insertAtTime=function(e,t,i){var o=new s(t,i),a=this.styles[e];n.isPresent(a)||(a=this.styles[e]=[]);for(var p=0,l=a.length-1;l>=0;l--)if(a[l].time<=t){p=l+1;break}r.ListWrapper.insert(a,p,o)},StylesCollection.prototype.getByIndex=function(e,t){var i=this.styles[e];return n.isPresent(i)?t>=i.length?null:i[t]:null},StylesCollection.prototype.indexOfAtOrBeforeTime=function(e,t){var i=this.styles[e];if(n.isPresent(i))for(var r=i.length-1;r>=0;r--)if(i[r].time<=t)return r;return null},StylesCollection}();t.StylesCollection=o},581:function(e,t,i){"use strict";function assertArrayOfStrings(e,t){if(r.isDevMode()&&!s.isBlank(t)){if(!s.isArray(t))throw new n.BaseException("Expected '"+e+"' to be an array of strings.");for(var i=0;i<t.length;i+=1)if(!s.isString(t[i]))throw new n.BaseException("Expected '"+e+"' to be an array of strings.")}}function assertInterpolationSymbols(e,t){if(!(!r.isDevMode()||s.isBlank(t)||s.isArray(t)&&2==t.length))throw new n.BaseException("Expected '"+e+"' to be an array, [start, end].");if(r.isDevMode()&&!s.isBlank(t)){var i=t[0],a=t[1];o.forEach(function(e){if(e.test(i)||e.test(a))throw new n.BaseException("['"+i+"', '"+a+"'] contains unusable interpolation symbol.")})}}var r=i(0),n=i(15),s=i(5);t.assertArrayOfStrings=assertArrayOfStrings;var o=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i];t.assertInterpolationSymbols=assertInterpolationSymbols},582:function(e,t,i){"use strict";function __export(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}var r=i(0);__export(i(58));var n=i(134);t.TEMPLATE_TRANSFORMS=n.TEMPLATE_TRANSFORMS;var s=i(80);t.CompilerConfig=s.CompilerConfig,t.RenderTypes=s.RenderTypes,__export(i(31)),__export(i(591));var o=i(341);t.RuntimeCompiler=o.RuntimeCompiler,__export(i(82)),__export(i(351));var a=i(212);t.ViewResolver=a.ViewResolver;var p=i(203);t.DirectiveResolver=p.DirectiveResolver;var l=i(208);t.PipeResolver=l.PipeResolver;var u=i(134),c=i(81),h=i(202),m=i(207),d=i(210),f=i(135),v=i(80),y=i(341),_=i(133),E=i(342),g=i(82),C=i(205),S=i(204),A=i(212),T=i(203),P=i(208);t.COMPILER_PROVIDERS=[S.Lexer,C.Parser,c.HtmlParser,u.TemplateParser,h.DirectiveNormalizer,m.CompileMetadataResolver,g.DEFAULT_PACKAGE_URL_PROVIDER,d.StyleCompiler,f.ViewCompiler,{provide:v.CompilerConfig,useValue:new v.CompilerConfig},y.RuntimeCompiler,{provide:r.ComponentResolver,useExisting:y.RuntimeCompiler},{provide:r.Compiler,useExisting:y.RuntimeCompiler},E.DomElementSchemaRegistry,{provide:_.ElementSchemaRegistry,useExisting:E.DomElementSchemaRegistry},g.UrlResolver,A.ViewResolver,T.DirectiveResolver,P.PipeResolver]},583:function(e,t,i){"use strict";function hasLifecycleHook(e,t){var i=o.get(e),r=a.get(e);return n.reflector.hasLifecycleHook(t,i,r)}var r=i(0),n=i(23),s=i(12),o=s.MapWrapper.createFromPairs([[n.LifecycleHooks.OnInit,r.OnInit],[n.LifecycleHooks.OnDestroy,r.OnDestroy],[n.LifecycleHooks.DoCheck,r.DoCheck],[n.LifecycleHooks.OnChanges,r.OnChanges],[n.LifecycleHooks.AfterContentInit,r.AfterContentInit],[n.LifecycleHooks.AfterContentChecked,r.AfterContentChecked],[n.LifecycleHooks.AfterViewInit,r.AfterViewInit],[n.LifecycleHooks.AfterViewChecked,r.AfterViewChecked]]),a=s.MapWrapper.createFromPairs([[n.LifecycleHooks.OnInit,"ngOnInit"],[n.LifecycleHooks.OnDestroy,"ngOnDestroy"],[n.LifecycleHooks.DoCheck,"ngDoCheck"],[n.LifecycleHooks.OnChanges,"ngOnChanges"],[n.LifecycleHooks.AfterContentInit,"ngAfterContentInit"],[n.LifecycleHooks.AfterContentChecked,"ngAfterContentChecked"],[n.LifecycleHooks.AfterViewInit,"ngAfterViewInit"],[n.LifecycleHooks.AfterViewChecked,"ngAfterViewChecked"]]);t.hasLifecycleHook=hasLifecycleHook},584:[1033,5],585:321,586:function(e,t,i){"use strict";function tokenizeHtml(e,t,i,r){return void 0===i&&(i=!1),void 0===r&&(r=a.DEFAULT_INTERPOLATION_CONFIG),new f(new p.ParseSourceFile(e,t),i,r).tokenize()}function unexpectedCharacterErrorMsg(e){var t=e===n.$EOF?"EOF":s.StringWrapper.fromCharCode(e);
return'Unexpected character "'+t+'"'}function unknownEntityErrorMsg(e){return'Unknown entity "'+e+'" - use the "&#<decimal>;" or  "&#x<hex>;" syntax'}function isNotWhitespace(e){return!n.isWhitespace(e)||e===n.$EOF}function isNameEnd(e){return n.isWhitespace(e)||e===n.$GT||e===n.$SLASH||e===n.$SQ||e===n.$DQ||e===n.$EQ}function isPrefixEnd(e){return(e<n.$a||n.$z<e)&&(e<n.$A||n.$Z<e)&&(e<n.$0||e>n.$9)}function isDigitEntityEnd(e){return e==n.$SEMICOLON||e==n.$EOF||!n.isAsciiHexDigit(e)}function isNamedEntityEnd(e){return e==n.$SEMICOLON||e==n.$EOF||!n.isAsciiLetter(e)}function isExpansionFormStart(e,t,i){return e.charCodeAt(t)==n.$LBRACE&&e.indexOf(i,t)!=t}function isExpansionCaseStart(e){return e===n.$EQ||n.isAsciiLetter(e)}function compareCharCodeCaseInsensitive(e,t){return toUpperCaseCharCode(e)==toUpperCaseCharCode(t)}function toUpperCaseCharCode(e){return e>=n.$a&&e<=n.$z?e-n.$a+n.$A:e}function mergeTextTokens(e){for(var t,i=[],r=0;r<e.length;r++){var n=e[r];s.isPresent(t)&&t.type==l.TEXT&&n.type==l.TEXT?(t.parts[0]+=n.parts[0],t.sourceSpan.end=n.sourceSpan.end):(t=n,i.push(t))}return i}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=i(201),s=i(5),o=i(130),a=i(131),p=i(57);!function(e){e[e.TAG_OPEN_START=0]="TAG_OPEN_START",e[e.TAG_OPEN_END=1]="TAG_OPEN_END",e[e.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",e[e.TAG_CLOSE=3]="TAG_CLOSE",e[e.TEXT=4]="TEXT",e[e.ESCAPABLE_RAW_TEXT=5]="ESCAPABLE_RAW_TEXT",e[e.RAW_TEXT=6]="RAW_TEXT",e[e.COMMENT_START=7]="COMMENT_START",e[e.COMMENT_END=8]="COMMENT_END",e[e.CDATA_START=9]="CDATA_START",e[e.CDATA_END=10]="CDATA_END",e[e.ATTR_NAME=11]="ATTR_NAME",e[e.ATTR_VALUE=12]="ATTR_VALUE",e[e.DOC_TYPE=13]="DOC_TYPE",e[e.EXPANSION_FORM_START=14]="EXPANSION_FORM_START",e[e.EXPANSION_CASE_VALUE=15]="EXPANSION_CASE_VALUE",e[e.EXPANSION_CASE_EXP_START=16]="EXPANSION_CASE_EXP_START",e[e.EXPANSION_CASE_EXP_END=17]="EXPANSION_CASE_EXP_END",e[e.EXPANSION_FORM_END=18]="EXPANSION_FORM_END",e[e.EOF=19]="EOF"}(t.HtmlTokenType||(t.HtmlTokenType={}));var l=t.HtmlTokenType,u=function(){function HtmlToken(e,t,i){this.type=e,this.parts=t,this.sourceSpan=i}return HtmlToken}();t.HtmlToken=u;var c=function(e){function HtmlTokenError(t,i,r){e.call(this,r,t),this.tokenType=i}return r(HtmlTokenError,e),HtmlTokenError}(p.ParseError);t.HtmlTokenError=c;var h=function(){function HtmlTokenizeResult(e,t){this.tokens=e,this.errors=t}return HtmlTokenizeResult}();t.HtmlTokenizeResult=h,t.tokenizeHtml=tokenizeHtml;var m=/\r\n?/g,d=function(){function ControlFlowError(e){this.error=e}return ControlFlowError}(),f=function(){function _HtmlTokenizer(e,t,i){void 0===i&&(i=a.DEFAULT_INTERPOLATION_CONFIG),this.file=e,this.tokenizeExpansionForms=t,this.interpolationConfig=i,this._peek=-1,this._nextPeek=-1,this._index=-1,this._line=0,this._column=-1,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this._input=e.content,this._length=e.content.length,this._advance()}return _HtmlTokenizer.prototype._processCarriageReturns=function(e){return s.StringWrapper.replaceAll(e,m,"\n")},_HtmlTokenizer.prototype.tokenize=function(){for(;this._peek!==n.$EOF;){var e=this._getLocation();try{this._attemptCharCode(n.$LT)?this._attemptCharCode(n.$BANG)?this._attemptCharCode(n.$LBRACKET)?this._consumeCdata(e):this._attemptCharCode(n.$MINUS)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(n.$SLASH)?this._consumeTagClose(e):this._consumeTagOpen(e):isExpansionFormStart(this._input,this._index,this.interpolationConfig.start)&&this.tokenizeExpansionForms?this._consumeExpansionFormStart():isExpansionCaseStart(this._peek)&&this._isInExpansionForm()&&this.tokenizeExpansionForms?this._consumeExpansionCaseStart():this._peek===n.$RBRACE&&this._isInExpansionCase()&&this.tokenizeExpansionForms?this._consumeExpansionCaseEnd():this._peek===n.$RBRACE&&this._isInExpansionForm()&&this.tokenizeExpansionForms?this._consumeExpansionFormEnd():this._consumeText()}catch(t){if(!(t instanceof d))throw t;this.errors.push(t.error)}}return this._beginToken(l.EOF),this._endToken([]),new h(mergeTextTokens(this.tokens),this.errors)},_HtmlTokenizer.prototype._getLocation=function(){return new p.ParseLocation(this.file,this._index,this._line,this._column)},_HtmlTokenizer.prototype._getSpan=function(e,t){return s.isBlank(e)&&(e=this._getLocation()),s.isBlank(t)&&(t=this._getLocation()),new p.ParseSourceSpan(e,t)},_HtmlTokenizer.prototype._beginToken=function(e,t){void 0===t&&(t=null),s.isBlank(t)&&(t=this._getLocation()),this._currentTokenStart=t,this._currentTokenType=e},_HtmlTokenizer.prototype._endToken=function(e,t){void 0===t&&(t=null),s.isBlank(t)&&(t=this._getLocation());var i=new u(this._currentTokenType,e,new p.ParseSourceSpan(this._currentTokenStart,t));return this.tokens.push(i),this._currentTokenStart=null,this._currentTokenType=null,i},_HtmlTokenizer.prototype._createError=function(e,t){var i=new c(e,this._currentTokenType,t);return this._currentTokenStart=null,this._currentTokenType=null,new d(i)},_HtmlTokenizer.prototype._advance=function(){if(this._index>=this._length)throw this._createError(unexpectedCharacterErrorMsg(n.$EOF),this._getSpan());this._peek===n.$LF?(this._line++,this._column=0):this._peek!==n.$LF&&this._peek!==n.$CR&&this._column++,this._index++,this._peek=this._index>=this._length?n.$EOF:s.StringWrapper.charCodeAt(this._input,this._index),this._nextPeek=this._index+1>=this._length?n.$EOF:s.StringWrapper.charCodeAt(this._input,this._index+1)},_HtmlTokenizer.prototype._attemptCharCode=function(e){return this._peek===e&&(this._advance(),!0)},_HtmlTokenizer.prototype._attemptCharCodeCaseInsensitive=function(e){return!!compareCharCodeCaseInsensitive(this._peek,e)&&(this._advance(),!0)},_HtmlTokenizer.prototype._requireCharCode=function(e){var t=this._getLocation();if(!this._attemptCharCode(e))throw this._createError(unexpectedCharacterErrorMsg(this._peek),this._getSpan(t,t))},_HtmlTokenizer.prototype._attemptStr=function(e){var t=e.length;if(this._index+t>this._length)return!1;for(var i=this._savePosition(),r=0;r<t;r++)if(!this._attemptCharCode(s.StringWrapper.charCodeAt(e,r)))return this._restorePosition(i),!1;return!0},_HtmlTokenizer.prototype._attemptStrCaseInsensitive=function(e){for(var t=0;t<e.length;t++)if(!this._attemptCharCodeCaseInsensitive(s.StringWrapper.charCodeAt(e,t)))return!1;return!0},_HtmlTokenizer.prototype._requireStr=function(e){var t=this._getLocation();if(!this._attemptStr(e))throw this._createError(unexpectedCharacterErrorMsg(this._peek),this._getSpan(t))},_HtmlTokenizer.prototype._attemptCharCodeUntilFn=function(e){for(;!e(this._peek);)this._advance()},_HtmlTokenizer.prototype._requireCharCodeUntilFn=function(e,t){var i=this._getLocation();if(this._attemptCharCodeUntilFn(e),this._index-i.offset<t)throw this._createError(unexpectedCharacterErrorMsg(this._peek),this._getSpan(i,i))},_HtmlTokenizer.prototype._attemptUntilChar=function(e){for(;this._peek!==e;)this._advance()},_HtmlTokenizer.prototype._readChar=function(e){if(e&&this._peek===n.$AMPERSAND)return this._decodeEntity();var t=this._index;return this._advance(),this._input[t]},_HtmlTokenizer.prototype._decodeEntity=function(){var e=this._getLocation();if(this._advance(),!this._attemptCharCode(n.$HASH)){var t=this._savePosition();if(this._attemptCharCodeUntilFn(isNamedEntityEnd),this._peek!=n.$SEMICOLON)return this._restorePosition(t),"&";this._advance();var i=this._input.substring(e.offset+1,this._index-1),r=o.NAMED_ENTITIES[i];if(s.isBlank(r))throw this._createError(unknownEntityErrorMsg(i),this._getSpan(e));return r}var a=this._attemptCharCode(n.$x)||this._attemptCharCode(n.$X),p=this._getLocation().offset;if(this._attemptCharCodeUntilFn(isDigitEntityEnd),this._peek!=n.$SEMICOLON)throw this._createError(unexpectedCharacterErrorMsg(this._peek),this._getSpan());this._advance();var l=this._input.substring(p,this._index-1);try{var u=s.NumberWrapper.parseInt(l,a?16:10);return s.StringWrapper.fromCharCode(u)}catch(c){var h=this._input.substring(e.offset+1,this._index-1);throw this._createError(unknownEntityErrorMsg(h),this._getSpan(e))}},_HtmlTokenizer.prototype._consumeRawText=function(e,t,i){var r,n=this._getLocation();this._beginToken(e?l.ESCAPABLE_RAW_TEXT:l.RAW_TEXT,n);for(var s=[];;){if(r=this._getLocation(),this._attemptCharCode(t)&&i())break;for(this._index>r.offset&&s.push(this._input.substring(r.offset,this._index));this._peek!==t;)s.push(this._readChar(e))}return this._endToken([this._processCarriageReturns(s.join(""))],r)},_HtmlTokenizer.prototype._consumeComment=function(e){var t=this;this._beginToken(l.COMMENT_START,e),this._requireCharCode(n.$MINUS),this._endToken([]);var i=this._consumeRawText(!1,n.$MINUS,function(){return t._attemptStr("->")});this._beginToken(l.COMMENT_END,i.sourceSpan.end),this._endToken([])},_HtmlTokenizer.prototype._consumeCdata=function(e){var t=this;this._beginToken(l.CDATA_START,e),this._requireStr("CDATA["),this._endToken([]);var i=this._consumeRawText(!1,n.$RBRACKET,function(){return t._attemptStr("]>")});this._beginToken(l.CDATA_END,i.sourceSpan.end),this._endToken([])},_HtmlTokenizer.prototype._consumeDocType=function(e){this._beginToken(l.DOC_TYPE,e),this._attemptUntilChar(n.$GT),this._advance(),this._endToken([this._input.substring(e.offset+2,this._index-1)])},_HtmlTokenizer.prototype._consumePrefixAndName=function(){for(var e=this._index,t=null;this._peek!==n.$COLON&&!isPrefixEnd(this._peek);)this._advance();var i;this._peek===n.$COLON?(this._advance(),t=this._input.substring(e,this._index-1),i=this._index):i=e,this._requireCharCodeUntilFn(isNameEnd,this._index===i?1:0);var r=this._input.substring(i,this._index);return[t,r]},_HtmlTokenizer.prototype._consumeTagOpen=function(e){var t,i=this._savePosition();try{if(!n.isAsciiLetter(this._peek))throw this._createError(unexpectedCharacterErrorMsg(this._peek),this._getSpan());var r=this._index;for(this._consumeTagOpenStart(e),t=this._input.substring(r,this._index).toLowerCase(),this._attemptCharCodeUntilFn(isNotWhitespace);this._peek!==n.$SLASH&&this._peek!==n.$GT;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(isNotWhitespace),this._attemptCharCode(n.$EQ)&&(this._attemptCharCodeUntilFn(isNotWhitespace),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(isNotWhitespace);this._consumeTagOpenEnd()}catch(s){if(s instanceof d)return this._restorePosition(i),this._beginToken(l.TEXT,e),void this._endToken(["<"]);throw s}var a=o.getHtmlTagDefinition(t).contentType;a===o.HtmlTagContentType.RAW_TEXT?this._consumeRawTextWithTagClose(t,!1):a===o.HtmlTagContentType.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(t,!0)},_HtmlTokenizer.prototype._consumeRawTextWithTagClose=function(e,t){var i=this,r=this._consumeRawText(t,n.$LT,function(){return!!i._attemptCharCode(n.$SLASH)&&(i._attemptCharCodeUntilFn(isNotWhitespace),!!i._attemptStrCaseInsensitive(e)&&(i._attemptCharCodeUntilFn(isNotWhitespace),!!i._attemptCharCode(n.$GT)))});this._beginToken(l.TAG_CLOSE,r.sourceSpan.end),this._endToken([null,e])},_HtmlTokenizer.prototype._consumeTagOpenStart=function(e){this._beginToken(l.TAG_OPEN_START,e);var t=this._consumePrefixAndName();this._endToken(t)},_HtmlTokenizer.prototype._consumeAttributeName=function(){this._beginToken(l.ATTR_NAME);var e=this._consumePrefixAndName();this._endToken(e)},_HtmlTokenizer.prototype._consumeAttributeValue=function(){this._beginToken(l.ATTR_VALUE);var e;if(this._peek===n.$SQ||this._peek===n.$DQ){var t=this._peek;this._advance();for(var i=[];this._peek!==t;)i.push(this._readChar(!0));e=i.join(""),this._advance()}else{var r=this._index;this._requireCharCodeUntilFn(isNameEnd,1),e=this._input.substring(r,this._index)}this._endToken([this._processCarriageReturns(e)])},_HtmlTokenizer.prototype._consumeTagOpenEnd=function(){var e=this._attemptCharCode(n.$SLASH)?l.TAG_OPEN_END_VOID:l.TAG_OPEN_END;this._beginToken(e),this._requireCharCode(n.$GT),this._endToken([])},_HtmlTokenizer.prototype._consumeTagClose=function(e){this._beginToken(l.TAG_CLOSE,e),this._attemptCharCodeUntilFn(isNotWhitespace);var t=this._consumePrefixAndName();this._attemptCharCodeUntilFn(isNotWhitespace),this._requireCharCode(n.$GT),this._endToken(t)},_HtmlTokenizer.prototype._consumeExpansionFormStart=function(){this._beginToken(l.EXPANSION_FORM_START,this._getLocation()),this._requireCharCode(n.$LBRACE),this._endToken([]),this._beginToken(l.RAW_TEXT,this._getLocation());var e=this._readUntil(n.$COMMA);this._endToken([e],this._getLocation()),this._requireCharCode(n.$COMMA),this._attemptCharCodeUntilFn(isNotWhitespace),this._beginToken(l.RAW_TEXT,this._getLocation());var t=this._readUntil(n.$COMMA);this._endToken([t],this._getLocation()),this._requireCharCode(n.$COMMA),this._attemptCharCodeUntilFn(isNotWhitespace),this._expansionCaseStack.push(l.EXPANSION_FORM_START)},_HtmlTokenizer.prototype._consumeExpansionCaseStart=function(){this._beginToken(l.EXPANSION_CASE_VALUE,this._getLocation());var e=this._readUntil(n.$LBRACE).trim();this._endToken([e],this._getLocation()),this._attemptCharCodeUntilFn(isNotWhitespace),this._beginToken(l.EXPANSION_CASE_EXP_START,this._getLocation()),this._requireCharCode(n.$LBRACE),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(isNotWhitespace),this._expansionCaseStack.push(l.EXPANSION_CASE_EXP_START)},_HtmlTokenizer.prototype._consumeExpansionCaseEnd=function(){this._beginToken(l.EXPANSION_CASE_EXP_END,this._getLocation()),this._requireCharCode(n.$RBRACE),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(isNotWhitespace),this._expansionCaseStack.pop()},_HtmlTokenizer.prototype._consumeExpansionFormEnd=function(){this._beginToken(l.EXPANSION_FORM_END,this._getLocation()),this._requireCharCode(n.$RBRACE),this._endToken([]),this._expansionCaseStack.pop()},_HtmlTokenizer.prototype._consumeText=function(){var e=this._getLocation();this._beginToken(l.TEXT,e);var t=[];do this._attemptStr(this.interpolationConfig.start)?(t.push(this.interpolationConfig.start),this._inInterpolation=!0):this._attemptStr(this.interpolationConfig.end)&&this._inInterpolation?(t.push(this.interpolationConfig.end),this._inInterpolation=!1):t.push(this._readChar(!0));while(!this._isTextEnd());this._endToken([this._processCarriageReturns(t.join(""))])},_HtmlTokenizer.prototype._isTextEnd=function(){if(this._peek===n.$LT||this._peek===n.$EOF)return!0;if(this.tokenizeExpansionForms){if(isExpansionFormStart(this._input,this._index,this.interpolationConfig.start))return!0;if(this._peek===n.$RBRACE&&!this._inInterpolation&&this._isInExpansionCase())return!0}return!1},_HtmlTokenizer.prototype._savePosition=function(){return[this._peek,this._index,this._column,this._line,this.tokens.length]},_HtmlTokenizer.prototype._readUntil=function(e){var t=this._index;return this._attemptUntilChar(e),this._input.substring(t,this._index)},_HtmlTokenizer.prototype._restorePosition=function(e){this._peek=e[0],this._index=e[1],this._column=e[2],this._line=e[3];var t=e[4];t<this.tokens.length&&(this.tokens=this.tokens.slice(0,t))},_HtmlTokenizer.prototype._isInExpansionCase=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===l.EXPANSION_CASE_EXP_START},_HtmlTokenizer.prototype._isInExpansionForm=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===l.EXPANSION_FORM_START},_HtmlTokenizer}()},587:function(e,t,i){"use strict";function expandNodes(e){var t=new p;return new a(n.htmlVisitAll(t,e),t.isExpanded,t.errors)}function _expandPluralForm(e,t){var i=e.cases.map(function(e){o.indexOf(e.value)!=-1||e.value.match(/^=\d+$/)||t.push(new s.I18nError(e.valueSourceSpan,'Plural cases should be "=<number>" or one of '+o.join(", ")));var i=expandNodes(e.expression);return t.push.apply(t,i.errors),new n.HtmlElementAst("template",[new n.HtmlAttrAst("ngPluralCase",""+e.value,e.valueSourceSpan)],i.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)}),r=new n.HtmlAttrAst("[ngPlural]",e.switchValue,e.switchValueSourceSpan);return new n.HtmlElementAst("ng-container",[r],i,e.sourceSpan,e.sourceSpan,e.sourceSpan)}function _expandDefaultForm(e,t){var i=e.cases.map(function(e){var i=expandNodes(e.expression);return t.push.apply(t,i.errors),new n.HtmlElementAst("template",[new n.HtmlAttrAst("ngSwitchCase",""+e.value,e.valueSourceSpan)],i.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)}),r=new n.HtmlAttrAst("[ngSwitch]",e.switchValue,e.switchValueSourceSpan);return new n.HtmlElementAst("ng-container",[r],i,e.sourceSpan,e.sourceSpan,e.sourceSpan)}var r=i(15),n=i(56),s=i(206),o=["zero","one","two","few","many","other"];t.expandNodes=expandNodes;var a=function(){function ExpansionResult(e,t,i){this.nodes=e,this.expanded=t,this.errors=i}return ExpansionResult}();t.ExpansionResult=a;var p=function(){function _Expander(){this.isExpanded=!1,this.errors=[]}return _Expander.prototype.visitElement=function(e,t){return new n.HtmlElementAst(e.name,e.attrs,n.htmlVisitAll(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan)},_Expander.prototype.visitAttr=function(e,t){return e},_Expander.prototype.visitText=function(e,t){return e},_Expander.prototype.visitComment=function(e,t){return e},_Expander.prototype.visitExpansion=function(e,t){return this.isExpanded=!0,"plural"==e.type?_expandPluralForm(e,this.errors):_expandDefaultForm(e,this.errors)},_Expander.prototype.visitExpansionCase=function(e,t){throw new r.BaseException("Should not be reached")},_Expander}()},588:function(e,t,i){"use strict";var r=i(12),n=i(15),s=i(5),o=i(56),a=i(81),p=i(131),l=i(587),u=i(99),c=i(206),h="ph",m="name",d=/<ph(\s)+name=("(\w)+")><\/ph>/gi,f=function(){function I18nHtmlParser(e,t,i,r,n,s){this._htmlParser=e,this._parser=t,this._messagesContent=i,this._messages=r,this._implicitTags=n,this._implicitAttrs=s}return I18nHtmlParser.prototype.parse=function(e,t,i,r){void 0===i&&(i=!1),void 0===r&&(r=p.DEFAULT_INTERPOLATION_CONFIG),this.errors=[],this._interpolationConfig=r;var n=this._htmlParser.parse(e,t,!0);if(n.errors.length>0)return n;var s=l.expandNodes(n.rootNodes),o=this._recurse(s.nodes);return(u=this.errors).push.apply(u,s.errors),this.errors.length>0?new a.HtmlParseTreeResult([],this.errors):new a.HtmlParseTreeResult(o,[]);var u},I18nHtmlParser.prototype._processI18nPart=function(e){try{return e.hasI18n?this._mergeI18Part(e):this._recurseIntoI18nPart(e)}catch(t){if(t instanceof c.I18nError)return this.errors.push(t),[];throw t}},I18nHtmlParser.prototype._mergeI18Part=function(e){var t=e.createMessage(this._parser,this._interpolationConfig),i=u.id(t);if(!r.StringMapWrapper.contains(this._messages,i))throw new c.I18nError(e.sourceSpan,"Cannot find message for id '"+i+"', content '"+t.content+"'.");var n=this._messages[i];return this._mergeTrees(e,n,e.children)},I18nHtmlParser.prototype._recurseIntoI18nPart=function(e){if(s.isPresent(e.rootElement)){var t=e.rootElement,i=this._recurse(e.children),r=this._i18nAttributes(t);return[new o.HtmlElementAst(t.name,r,i,t.sourceSpan,t.startSourceSpan,t.endSourceSpan)]}return s.isPresent(e.rootTextNode)?[e.rootTextNode]:this._recurse(e.children)},I18nHtmlParser.prototype._recurse=function(e){var t=this,i=c.partition(e,this.errors,this._implicitTags);return r.ListWrapper.flatten(i.map(function(e){return t._processI18nPart(e)}))},I18nHtmlParser.prototype._mergeTrees=function(e,t,i){var r=new v;o.htmlVisitAll(r,i);var a=this._mergeTreesHelper(t,r.mapping);if(s.isPresent(e.rootElement)){var p=e.rootElement,l=this._i18nAttributes(p);return[new o.HtmlElementAst(p.name,l,a,p.sourceSpan,p.startSourceSpan,p.endSourceSpan)]}if(s.isPresent(e.rootTextNode))throw new n.BaseException("should not be reached");return a},I18nHtmlParser.prototype._mergeTreesHelper=function(e,t){var i=this;return e.map(function(r){if(r instanceof o.HtmlElementAst)return i._mergeElementOrInterpolation(r,e,t);if(r instanceof o.HtmlTextAst)return r;throw new n.BaseException("should not be reached")})},I18nHtmlParser.prototype._mergeElementOrInterpolation=function(e,t,i){var r=this._getName(e),o=r[0],a=s.NumberWrapper.parseInt(r.substring(1),10),p=i[a];if("t"==o)return this._mergeTextInterpolation(e,p);if("e"==o)return this._mergeElement(e,p,i);throw new n.BaseException("should not be reached")},I18nHtmlParser.prototype._getName=function(e){if(e.name!=h)throw new c.I18nError(e.sourceSpan,'Unexpected tag "'+e.name+'". Only "'+h+'" tags are allowed.');var t=e.attrs.filter(function(e){return e.name==m});if(0==t.length)throw new c.I18nError(e.sourceSpan,'Missing "'+m+'" attribute.');return t[0].value},I18nHtmlParser.prototype._mergeTextInterpolation=function(e,t){var i=this._parser.splitInterpolation(t.value,t.sourceSpan.toString(),this._interpolationConfig),r=s.isPresent(i)?i.expressions:[],n=this._messagesContent.substring(e.startSourceSpan.end.offset,e.endSourceSpan.start.offset),a=this._replacePlaceholdersWithExpressions(n,r,t.sourceSpan);return new o.HtmlTextAst(a,t.sourceSpan)},I18nHtmlParser.prototype._mergeElement=function(e,t,i){var r=this._mergeTreesHelper(e.children,i);return new o.HtmlElementAst(t.name,this._i18nAttributes(t),r,t.sourceSpan,t.startSourceSpan,t.endSourceSpan)},I18nHtmlParser.prototype._i18nAttributes=function(e){var t=this,i=[],n=s.isPresent(this._implicitAttrs[e.name])?this._implicitAttrs[e.name]:[];return e.attrs.forEach(function(s){if(!s.name.startsWith(c.I18N_ATTR_PREFIX)&&s.name!=c.I18N_ATTR){var a,p=e.attrs.filter(function(e){return e.name==""+c.I18N_ATTR_PREFIX+s.name});if(0==p.length){if(n.indexOf(s.name)==-1)return void i.push(s);a=c.messageFromAttribute(t._parser,t._interpolationConfig,s)}else a=c.messageFromI18nAttribute(t._parser,t._interpolationConfig,e,p[0]);var l=u.id(a);if(!r.StringMapWrapper.contains(t._messages,l))throw new c.I18nError(s.sourceSpan,"Cannot find message for id '"+l+"', content '"+a.content+"'.");var h=t._replaceInterpolationInAttr(s,t._messages[l]);i.push(new o.HtmlAttrAst(s.name,h,s.sourceSpan))}}),i},I18nHtmlParser.prototype._replaceInterpolationInAttr=function(e,t){var i=this._parser.splitInterpolation(e.value,e.sourceSpan.toString(),this._interpolationConfig),r=s.isPresent(i)?i.expressions:[],n=t[0],a=t[t.length-1],p=n.sourceSpan.start.offset,l=a instanceof o.HtmlElementAst?a.endSourceSpan.end.offset:a.sourceSpan.end.offset,u=this._messagesContent.substring(p,l);return this._replacePlaceholdersWithExpressions(u,r,e.sourceSpan)},I18nHtmlParser.prototype._replacePlaceholdersWithExpressions=function(e,t,i){var r=this,n=this._buildExprMap(t);return s.RegExpWrapper.replaceAll(d,e,function(e){var t=e[2],s=t.substring(1,t.length-1);return r._convertIntoExpression(s,n,i)})},I18nHtmlParser.prototype._buildExprMap=function(e){for(var t=new Map,i=new Map,r=0;r<e.length;r++){var n=c.getPhNameFromBinding(e[r],r);t.set(c.dedupePhName(i,n),e[r])}return t},I18nHtmlParser.prototype._convertIntoExpression=function(e,t,i){if(t.has(e))return""+this._interpolationConfig.start+t.get(e)+this._interpolationConfig.end;throw new c.I18nError(i,"Invalid interpolation name '"+e+"'")},I18nHtmlParser}();t.I18nHtmlParser=f;var v=function(){function _CreateNodeMapping(){this.mapping=[]}return _CreateNodeMapping.prototype.visitElement=function(e,t){return this.mapping.push(e),o.htmlVisitAll(this,e.children),null},_CreateNodeMapping.prototype.visitAttr=function(e,t){return null},_CreateNodeMapping.prototype.visitText=function(e,t){return this.mapping.push(e),null},_CreateNodeMapping.prototype.visitExpansion=function(e,t){return null},_CreateNodeMapping.prototype.visitExpansionCase=function(e,t){return null},_CreateNodeMapping.prototype.visitComment=function(e,t){return""},_CreateNodeMapping}()},589:function(e,t,i){"use strict";function removeDuplicates(e){var t={};return e.forEach(function(e){r.StringMapWrapper.contains(t,a.id(e))||(t[a.id(e)]=e)}),r.StringMapWrapper.values(t)}var r=i(12),n=i(5),s=i(56),o=i(131),a=i(99),p=i(206),l=function(){function ExtractionResult(e,t){this.messages=e,this.errors=t}return ExtractionResult}();t.ExtractionResult=l,t.removeDuplicates=removeDuplicates;var u=function(){function MessageExtractor(e,t,i,r){this._htmlParser=e,this._parser=t,this._implicitTags=i,this._implicitAttrs=r}return MessageExtractor.prototype.extract=function(e,t,i){void 0===i&&(i=o.DEFAULT_INTERPOLATION_CONFIG),this._messages=[],this._errors=[];var r=this._htmlParser.parse(e,t,!0);return 0==r.errors.length&&this._recurse(r.rootNodes,i),new l(this._messages,this._errors.concat(r.errors))},MessageExtractor.prototype._extractMessagesFromPart=function(e,t){e.hasI18n?(this._messages.push(e.createMessage(this._parser,t)),this._recurseToExtractMessagesFromAttributes(e.children,t)):this._recurse(e.children,t),n.isPresent(e.rootElement)&&this._extractMessagesFromAttributes(e.rootElement,t)},MessageExtractor.prototype._recurse=function(e,t){var i=this;if(n.isPresent(e)){var r=p.partition(e,this._errors,this._implicitTags);r.forEach(function(e){return i._extractMessagesFromPart(e,t)})}},MessageExtractor.prototype._recurseToExtractMessagesFromAttributes=function(e,t){var i=this;e.forEach(function(e){e instanceof s.HtmlElementAst&&(i._extractMessagesFromAttributes(e,t),i._recurseToExtractMessagesFromAttributes(e.children,t))})},MessageExtractor.prototype._extractMessagesFromAttributes=function(e,t){var i=this,r=n.isPresent(this._implicitAttrs[e.name])?this._implicitAttrs[e.name]:[],s=[];e.attrs.filter(function(e){return e.name.startsWith(p.I18N_ATTR_PREFIX)}).forEach(function(r){try{s.push(r.name.substring(p.I18N_ATTR_PREFIX.length)),i._messages.push(p.messageFromI18nAttribute(i._parser,t,e,r))}catch(n){if(!(n instanceof p.I18nError))throw n;i._errors.push(n)}}),e.attrs.filter(function(e){return!e.name.startsWith(p.I18N_ATTR_PREFIX)}).filter(function(e){return s.indexOf(e.name)==-1}).filter(function(e){return r.indexOf(e.name)>-1}).forEach(function(e){return i._messages.push(p.messageFromAttribute(i._parser,t,e))})},MessageExtractor}();t.MessageExtractor=u},59:function(e,t,i){"use strict";function camelCaseToDashCase(e){return n.StringWrapper.replaceAllMapped(e,s,function(e){return"-"+e[1].toLowerCase()})}function splitAtColon(e,t){var i=n.StringWrapper.split(e.trim(),/\s*:\s*/g);return i.length>1?i:t}function sanitizeIdentifier(e){return n.StringWrapper.replaceAll(e,/\W/g,"_")}function visitValue(e,t,i){return n.isArray(e)?t.visitArray(e,i):n.isStrictStringMap(e)?t.visitStringMap(e,i):n.isBlank(e)||n.isPrimitive(e)?t.visitPrimitive(e,i):t.visitOther(e,i)}function assetUrl(e,t,i){return void 0===t&&(t=null),void 0===i&&(i="src"),n.IS_DART?null==t?"asset:angular2/"+e+"/"+e+".dart":"asset:angular2/lib/"+e+"/src/"+t+".dart":null==t?"asset:@angular/lib/"+e+"/index":"asset:@angular/lib/"+e+"/src/"+t}var r=i(12),n=i(5);t.MODULE_SUFFIX=n.IS_DART?".dart":"";var s=/([A-Z])/g;t.camelCaseToDashCase=camelCaseToDashCase,t.splitAtColon=splitAtColon,t.sanitizeIdentifier=sanitizeIdentifier,t.visitValue=visitValue;var o=function(){function ValueTransformer(){}return ValueTransformer.prototype.visitArray=function(e,t){var i=this;return e.map(function(e){return visitValue(e,i,t)})},ValueTransformer.prototype.visitStringMap=function(e,t){var i=this,n={};return r.StringMapWrapper.forEach(e,function(e,r){n[r]=visitValue(e,i,t)}),n},ValueTransformer.prototype.visitPrimitive=function(e,t){return e},ValueTransformer.prototype.visitOther=function(e,t){return e},ValueTransformer}();t.ValueTransformer=o,t.assetUrl=assetUrl},590:function(e,t,i){"use strict";function serializeXmb(e){var t=e.map(function(e){return _serializeMessage(e)}).join("");return"<message-bundle>"+t+"</message-bundle>"}function deserializeXmb(e,t){var i=new o.HtmlParser,r=_expandPlaceholder(e.trim()),n=i.parse(r,t);if(n.errors.length>0)return new m(null,{},n.errors);if(_checkRootElement(n.rootNodes))return new m(null,{},[new d(null,'Missing element "'+h+'"')]);var s=n.rootNodes[0],a=[],p={};return _createMessages(s.children,p,a),0==a.length?new m(r,p,[]):new m(null,{},a)}function _checkRootElement(e){return e.length<1||!(e[0]instanceof s.HtmlElementAst)||e[0].name!=h}function _createMessages(e,t,i){e.forEach(function(e){if(e instanceof s.HtmlElementAst){var r=e;if(r.name!=c)return void i.push(new d(e.sourceSpan,'Unexpected element "'+r.name+'"'));var o=_id(r);if(n.isBlank(o))return void i.push(new d(e.sourceSpan,'"'+u+'" attribute is missing'));t[o]=r.children}})}function _id(e){var t=e.attrs.filter(function(e){return e.name==u});return t.length>0?t[0].value:null}function _serializeMessage(e){var t=n.isPresent(e.description)?" desc='"+_escapeXml(e.description)+"'":"",i=n.isPresent(e.meaning)?" meaning='"+_escapeXml(e.meaning)+"'":"";return"<msg id='"+p.id(e)+"'"+t+i+">"+e.content+"</msg>"}function _expandPlaceholder(e){return n.RegExpWrapper.replaceAll(l,e,function(e){var t=e[2];return"<ph name="+t+"></ph>"})}function _escapeXml(e){return f.reduce(function(e,t){return e.replace(t[0],t[1])},e)}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=i(5),s=i(56),o=i(81),a=i(57),p=i(99),l=n.RegExpWrapper.create('\\<ph(\\s)+name=("(\\w)+")\\/\\>'),u="id",c="msg",h="message-bundle";t.serializeXmb=serializeXmb;var m=function(){function XmbDeserializationResult(e,t,i){this.content=e,this.messages=t,this.errors=i}return XmbDeserializationResult}();t.XmbDeserializationResult=m;var d=function(e){function XmbDeserializationError(t,i){e.call(this,t,i)}return r(XmbDeserializationError,e),XmbDeserializationError}(a.ParseError);t.XmbDeserializationError=d,t.deserializeXmb=deserializeXmb;var f=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]]},591:function(e,t,i){"use strict";function _resolveViewStatements(e){return e.dependencies.forEach(function(e){if(e instanceof l.ViewFactoryDependency){var t=e;t.placeholder.moduleUrl=_ngfactoryModuleUrl(t.comp)}else if(e instanceof l.ComponentFactoryDependency){var i=e;i.placeholder.name=_componentFactoryName(i.comp),i.placeholder.moduleUrl=_ngfactoryModuleUrl(i.comp)}}),e.statements}function _resolveStyleStatements(e,t){return e.dependencies.forEach(function(e){e.valuePlaceholder.moduleUrl=_stylesModuleUrl(e.moduleUrl,e.isShimmed,t)}),e.statements}function _ngfactoryModuleUrl(e){var t=_splitLastSuffix(e.moduleUrl);return t[0]+".ngfactory"+t[1]}function _componentFactoryName(e){return e.name+"NgFactory"}function _stylesModuleUrl(e,t,i){return t?e+".shim"+i:""+e+i}function _assertComponent(e){if(!e.isComponent)throw new o.BaseException("Could not compile '"+e.type.name+"' because it is not a component.")}function _splitLastSuffix(e){var t=e.lastIndexOf(".");return t!==-1?[e.substring(0,t),e.substring(t)]:[e,""]}var r=i(0),n=i(31),s=i(12),o=i(15),a=i(19),p=i(59),l=i(135),u=new n.CompileIdentifierMetadata({name:"ComponentFactory",runtime:r.ComponentFactory,moduleUrl:p.assetUrl("core","linker/component_factory")}),c=function(){function SourceModule(e,t){this.moduleUrl=e,this.source=t}return SourceModule}();t.SourceModule=c;var h=function(){function StyleSheetSourceWithImports(e,t){this.source=e,this.importedUrls=t}return StyleSheetSourceWithImports}();t.StyleSheetSourceWithImports=h;var m=function(){function NormalizedComponentWithViewDirectives(e,t,i){this.component=e,this.directives=t,this.pipes=i}return NormalizedComponentWithViewDirectives}();t.NormalizedComponentWithViewDirectives=m;var d=function(){function OfflineCompiler(e,t,i,r,n){this._directiveNormalizer=e,this._templateParser=t,this._styleCompiler=i,this._viewCompiler=r,this._outputEmitter=n}return OfflineCompiler.prototype.normalizeDirectiveMetadata=function(e){return this._directiveNormalizer.normalizeDirective(e).asyncResult},OfflineCompiler.prototype.compileTemplates=function(e){var t=this;if(0===e.length)throw new o.BaseException("No components given");var i=[],r=[],s=_ngfactoryModuleUrl(e[0].component.type),p=[];
return e.forEach(function(e){var s=e.component;_assertComponent(s);var o=_splitLastSuffix(s.type.moduleUrl)[1],l=t._styleCompiler.compileComponent(s);l.externalStylesheets.forEach(function(e){p.push(t._codgenStyles(e,o))});var c=t._compileComponent(s,e.directives,e.pipes,l.componentStylesheet,o,i);r.push(c);var h=n.createHostComponentMeta(s.type,s.selector),m=t._compileComponent(h,[s],[],null,o,i),d=_componentFactoryName(s.type);i.push(a.variable(d).set(a.importExpr(u,[a.importType(s.type)]).instantiate([a.literal(s.selector),a.variable(m),a.importExpr(s.type)],a.importType(u,[a.importType(s.type)],[a.TypeModifier.Const]))).toDeclStmt(null,[a.StmtModifier.Final])),r.push(d)}),p.unshift(this._codegenSourceModule(s,i,r)),p},OfflineCompiler.prototype._compileComponent=function(e,t,i,r,n,o){var p=this._templateParser.parse(e,e.template.template,t,i,e.type.name),l=r?a.variable(r.stylesVar):a.literalArr([]),u=this._viewCompiler.compileComponent(e,p,l,i);return r&&s.ListWrapper.addAll(o,_resolveStyleStatements(r,n)),s.ListWrapper.addAll(o,_resolveViewStatements(u)),u.viewFactoryVar},OfflineCompiler.prototype._codgenStyles=function(e,t){return _resolveStyleStatements(e,t),this._codegenSourceModule(_stylesModuleUrl(e.meta.moduleUrl,e.isShimmed,t),e.statements,[e.stylesVar])},OfflineCompiler.prototype._codegenSourceModule=function(e,t,i){return new c(e,this._outputEmitter.emitStatements(e,t,i))},OfflineCompiler}();t.OfflineCompiler=d},592:function(e,t,i){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=i(15),s=i(5),o=i(132),a=i(19),p=function(e){function AbstractJsEmitterVisitor(){e.call(this,!1)}return r(AbstractJsEmitterVisitor,e),AbstractJsEmitterVisitor.prototype.visitDeclareClassStmt=function(e,t){var i=this;return t.pushClass(e),this._visitClassConstructor(e,t),s.isPresent(e.parent)&&(t.print(e.name+".prototype = Object.create("),e.parent.visitExpression(this,t),t.println(".prototype);")),e.getters.forEach(function(r){return i._visitClassGetter(e,r,t)}),e.methods.forEach(function(r){return i._visitClassMethod(e,r,t)}),t.popClass(),null},AbstractJsEmitterVisitor.prototype._visitClassConstructor=function(e,t){t.print("function "+e.name+"("),s.isPresent(e.constructorMethod)&&this._visitParams(e.constructorMethod.params,t),t.println(") {"),t.incIndent(),s.isPresent(e.constructorMethod)&&e.constructorMethod.body.length>0&&(t.println("var self = this;"),this.visitAllStatements(e.constructorMethod.body,t)),t.decIndent(),t.println("}")},AbstractJsEmitterVisitor.prototype._visitClassGetter=function(e,t,i){i.println("Object.defineProperty("+e.name+".prototype, '"+t.name+"', { get: function() {"),i.incIndent(),t.body.length>0&&(i.println("var self = this;"),this.visitAllStatements(t.body,i)),i.decIndent(),i.println("}});")},AbstractJsEmitterVisitor.prototype._visitClassMethod=function(e,t,i){i.print(e.name+".prototype."+t.name+" = function("),this._visitParams(t.params,i),i.println(") {"),i.incIndent(),t.body.length>0&&(i.println("var self = this;"),this.visitAllStatements(t.body,i)),i.decIndent(),i.println("};")},AbstractJsEmitterVisitor.prototype.visitReadVarExpr=function(t,i){if(t.builtin===a.BuiltinVar.This)i.print("self");else{if(t.builtin===a.BuiltinVar.Super)throw new n.BaseException("'super' needs to be handled at a parent ast node, not at the variable level!");e.prototype.visitReadVarExpr.call(this,t,i)}return null},AbstractJsEmitterVisitor.prototype.visitDeclareVarStmt=function(e,t){return t.print("var "+e.name+" = "),e.value.visitExpression(this,t),t.println(";"),null},AbstractJsEmitterVisitor.prototype.visitCastExpr=function(e,t){return e.value.visitExpression(this,t),null},AbstractJsEmitterVisitor.prototype.visitInvokeFunctionExpr=function(t,i){var r=t.fn;return r instanceof a.ReadVarExpr&&r.builtin===a.BuiltinVar.Super?(i.currentClass.parent.visitExpression(this,i),i.print(".call(this"),t.args.length>0&&(i.print(", "),this.visitAllExpressions(t.args,i,",")),i.print(")")):e.prototype.visitInvokeFunctionExpr.call(this,t,i),null},AbstractJsEmitterVisitor.prototype.visitFunctionExpr=function(e,t){return t.print("function("),this._visitParams(e.params,t),t.println(") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print("}"),null},AbstractJsEmitterVisitor.prototype.visitDeclareFunctionStmt=function(e,t){return t.print("function "+e.name+"("),this._visitParams(e.params,t),t.println(") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println("}"),null},AbstractJsEmitterVisitor.prototype.visitTryCatchStmt=function(e,t){t.println("try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println("} catch ("+o.CATCH_ERROR_VAR.name+") {"),t.incIndent();var i=[o.CATCH_STACK_VAR.set(o.CATCH_ERROR_VAR.prop("stack")).toDeclStmt(null,[a.StmtModifier.Final])].concat(e.catchStmts);return this.visitAllStatements(i,t),t.decIndent(),t.println("}"),null},AbstractJsEmitterVisitor.prototype._visitParams=function(e,t){this.visitAllObjects(function(e){return t.print(e.name)},e,t,",")},AbstractJsEmitterVisitor.prototype.getBuiltinMethodName=function(e){var t;switch(e){case a.BuiltinMethod.ConcatArray:t="concat";break;case a.BuiltinMethod.SubscribeObservable:t="subscribe";break;case a.BuiltinMethod.bind:t="bind";break;default:throw new n.BaseException("Unknown builtin method: "+e)}return t},AbstractJsEmitterVisitor}(o.AbstractEmitterVisitor);t.AbstractJsEmitterVisitor=p},593:function(e,t,i){"use strict";function debugOutputAstAsDart(e){var t,i=new u(p),r=a.EmitterVisitorContext.createRoot([]);return t=s.isArray(e)?e:[e],t.forEach(function(e){if(e instanceof o.Statement)e.visitStatement(i,r);else if(e instanceof o.Expression)e.visitExpression(i,r);else{if(!(e instanceof o.Type))throw new n.BaseException("Don't know how to print debug info for "+e);e.visitType(i,r)}}),r.toSource()}function getSuperConstructorCallExpr(e){if(e instanceof o.ExpressionStatement){var t=e.expr;if(t instanceof o.InvokeFunctionExpr){var i=t.fn;if(i instanceof o.ReadVarExpr&&i.builtin===o.BuiltinVar.Super)return t}}return null}function isConstType(e){return s.isPresent(e)&&e.hasModifier(o.TypeModifier.Const)}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=i(15),s=i(5),o=i(19),a=i(132),p="asset://debug/lib";t.debugOutputAstAsDart=debugOutputAstAsDart;var l=function(){function DartEmitter(e){this._importGenerator=e}return DartEmitter.prototype.emitStatements=function(e,t,i){var r=this,n=[],s=new u(e),o=a.EmitterVisitorContext.createRoot(i);return s.visitAllStatements(t,o),s.importsWithPrefixes.forEach(function(t,i){n.push("import '"+r._importGenerator.getImportPath(e,i)+"' as "+t+";")}),n.push(o.toSource()),n.join("\n")},DartEmitter}();t.DartEmitter=l;var u=function(e){function _DartEmitterVisitor(t){e.call(this,!0),this._moduleUrl=t,this.importsWithPrefixes=new Map}return r(_DartEmitterVisitor,e),_DartEmitterVisitor.prototype.visitExternalExpr=function(e,t){return this._visitIdentifier(e.value,e.typeParams,t),null},_DartEmitterVisitor.prototype.visitDeclareVarStmt=function(e,t){return e.hasModifier(o.StmtModifier.Final)?isConstType(e.type)?t.print("const "):t.print("final "):s.isBlank(e.type)&&t.print("var "),s.isPresent(e.type)&&(e.type.visitType(this,t),t.print(" ")),t.print(e.name+" = "),e.value.visitExpression(this,t),t.println(";"),null},_DartEmitterVisitor.prototype.visitCastExpr=function(e,t){return t.print("("),e.value.visitExpression(this,t),t.print(" as "),e.type.visitType(this,t),t.print(")"),null},_DartEmitterVisitor.prototype.visitDeclareClassStmt=function(e,t){var i=this;return t.pushClass(e),t.print("class "+e.name),s.isPresent(e.parent)&&(t.print(" extends "),e.parent.visitExpression(this,t)),t.println(" {"),t.incIndent(),e.fields.forEach(function(e){return i._visitClassField(e,t)}),s.isPresent(e.constructorMethod)&&this._visitClassConstructor(e,t),e.getters.forEach(function(e){return i._visitClassGetter(e,t)}),e.methods.forEach(function(e){return i._visitClassMethod(e,t)}),t.decIndent(),t.println("}"),t.popClass(),null},_DartEmitterVisitor.prototype._visitClassField=function(e,t){e.hasModifier(o.StmtModifier.Final)?t.print("final "):s.isBlank(e.type)&&t.print("var "),s.isPresent(e.type)&&(e.type.visitType(this,t),t.print(" ")),t.println(e.name+";")},_DartEmitterVisitor.prototype._visitClassGetter=function(e,t){s.isPresent(e.type)&&(e.type.visitType(this,t),t.print(" ")),t.println("get "+e.name+" {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println("}")},_DartEmitterVisitor.prototype._visitClassConstructor=function(e,t){t.print(e.name+"("),this._visitParams(e.constructorMethod.params,t),t.print(")");var i=e.constructorMethod.body,r=i.length>0?getSuperConstructorCallExpr(i[0]):null;s.isPresent(r)&&(t.print(": "),r.visitExpression(this,t),i=i.slice(1)),t.println(" {"),t.incIndent(),this.visitAllStatements(i,t),t.decIndent(),t.println("}")},_DartEmitterVisitor.prototype._visitClassMethod=function(e,t){s.isPresent(e.type)?e.type.visitType(this,t):t.print("void"),t.print(" "+e.name+"("),this._visitParams(e.params,t),t.println(") {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println("}")},_DartEmitterVisitor.prototype.visitFunctionExpr=function(e,t){return t.print("("),this._visitParams(e.params,t),t.println(") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print("}"),null},_DartEmitterVisitor.prototype.visitDeclareFunctionStmt=function(e,t){return s.isPresent(e.type)?e.type.visitType(this,t):t.print("void"),t.print(" "+e.name+"("),this._visitParams(e.params,t),t.println(") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println("}"),null},_DartEmitterVisitor.prototype.getBuiltinMethodName=function(e){var t;switch(e){case o.BuiltinMethod.ConcatArray:t=".addAll";break;case o.BuiltinMethod.SubscribeObservable:t="listen";break;case o.BuiltinMethod.bind:t=null;break;default:throw new n.BaseException("Unknown builtin method: "+e)}return t},_DartEmitterVisitor.prototype.visitTryCatchStmt=function(e,t){return t.println("try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println("} catch ("+a.CATCH_ERROR_VAR.name+", "+a.CATCH_STACK_VAR.name+") {"),t.incIndent(),this.visitAllStatements(e.catchStmts,t),t.decIndent(),t.println("}"),null},_DartEmitterVisitor.prototype.visitBinaryOperatorExpr=function(t,i){switch(t.operator){case o.BinaryOperator.Identical:i.print("identical("),t.lhs.visitExpression(this,i),i.print(", "),t.rhs.visitExpression(this,i),i.print(")");break;case o.BinaryOperator.NotIdentical:i.print("!identical("),t.lhs.visitExpression(this,i),i.print(", "),t.rhs.visitExpression(this,i),i.print(")");break;default:e.prototype.visitBinaryOperatorExpr.call(this,t,i)}return null},_DartEmitterVisitor.prototype.visitLiteralArrayExpr=function(t,i){return isConstType(t.type)&&i.print("const "),e.prototype.visitLiteralArrayExpr.call(this,t,i)},_DartEmitterVisitor.prototype.visitLiteralMapExpr=function(t,i){return isConstType(t.type)&&i.print("const "),s.isPresent(t.valueType)&&(i.print("<String, "),t.valueType.visitType(this,i),i.print(">")),e.prototype.visitLiteralMapExpr.call(this,t,i)},_DartEmitterVisitor.prototype.visitInstantiateExpr=function(e,t){return t.print(isConstType(e.type)?"const":"new"),t.print(" "),e.classExpr.visitExpression(this,t),t.print("("),this.visitAllExpressions(e.args,t,","),t.print(")"),null},_DartEmitterVisitor.prototype.visitBuiltintType=function(e,t){var i;switch(e.name){case o.BuiltinTypeName.Bool:i="bool";break;case o.BuiltinTypeName.Dynamic:i="dynamic";break;case o.BuiltinTypeName.Function:i="Function";break;case o.BuiltinTypeName.Number:i="num";break;case o.BuiltinTypeName.Int:i="int";break;case o.BuiltinTypeName.String:i="String";break;default:throw new n.BaseException("Unsupported builtin type "+e.name)}return t.print(i),null},_DartEmitterVisitor.prototype.visitExternalType=function(e,t){return this._visitIdentifier(e.value,e.typeParams,t),null},_DartEmitterVisitor.prototype.visitArrayType=function(e,t){return t.print("List<"),s.isPresent(e.of)?e.of.visitType(this,t):t.print("dynamic"),t.print(">"),null},_DartEmitterVisitor.prototype.visitMapType=function(e,t){return t.print("Map<String, "),s.isPresent(e.valueType)?e.valueType.visitType(this,t):t.print("dynamic"),t.print(">"),null},_DartEmitterVisitor.prototype._visitParams=function(e,t){var i=this;this.visitAllObjects(function(e){s.isPresent(e.type)&&(e.type.visitType(i,t),t.print(" ")),t.print(e.name)},e,t,",")},_DartEmitterVisitor.prototype._visitIdentifier=function(e,t,i){var r=this;if(s.isBlank(e.name))throw new n.BaseException("Internal error: unknown identifier "+e);if(s.isPresent(e.moduleUrl)&&e.moduleUrl!=this._moduleUrl){var o=this.importsWithPrefixes.get(e.moduleUrl);s.isBlank(o)&&(o="import"+this.importsWithPrefixes.size,this.importsWithPrefixes.set(e.moduleUrl,o)),i.print(o+".")}i.print(e.name),s.isPresent(t)&&t.length>0&&(i.print("<"),this.visitAllObjects(function(e){return e.visitType(r,i)},t,i,","),i.print(">"))},_DartEmitterVisitor}(a.AbstractEmitterVisitor)},594:function(e,t,i){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=i(23),s=i(15),o=i(5),a=function(){function InterpretiveAppViewInstanceFactory(){}return InterpretiveAppViewInstanceFactory.prototype.createInstance=function(e,t,i,r,o,a){if(e===n.AppView)return i=i.concat([null]),new p(i,r,o,a);if(e===n.DebugAppView)return new p(i,r,o,a);throw new s.BaseException("Can't instantiate class "+e+" in interpretative mode")},InterpretiveAppViewInstanceFactory}();t.InterpretiveAppViewInstanceFactory=a;var p=function(e){function _InterpretiveAppView(t,i,r,n){e.call(this,t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]),this.props=i,this.getters=r,this.methods=n}return r(_InterpretiveAppView,e),_InterpretiveAppView.prototype.createInternal=function(t){var i=this.methods.get("createInternal");return o.isPresent(i)?i(t):e.prototype.createInternal.call(this,t)},_InterpretiveAppView.prototype.injectorGetInternal=function(t,i,r){var n=this.methods.get("injectorGetInternal");return o.isPresent(n)?n(t,i,r):e.prototype.injectorGet.call(this,t,i,r)},_InterpretiveAppView.prototype.detachInternal=function(){var t=this.methods.get("detachInternal");return o.isPresent(t)?t():e.prototype.detachInternal.call(this)},_InterpretiveAppView.prototype.destroyInternal=function(){var t=this.methods.get("destroyInternal");return o.isPresent(t)?t():e.prototype.destroyInternal.call(this)},_InterpretiveAppView.prototype.dirtyParentQueriesInternal=function(){var t=this.methods.get("dirtyParentQueriesInternal");return o.isPresent(t)?t():e.prototype.dirtyParentQueriesInternal.call(this)},_InterpretiveAppView.prototype.detectChangesInternal=function(t){var i=this.methods.get("detectChangesInternal");return o.isPresent(i)?i(t):e.prototype.detectChangesInternal.call(this,t)},_InterpretiveAppView}(n.DebugAppView)},595:function(e,t,i){"use strict";function interpretStatements(e,t,i){var r=e.concat([new l.ReturnStatement(l.variable(t))]),n=new h(null,null,null,null,new Map,new Map,new Map,new Map,i),s=new f,o=s.visitAllStatements(r,n);return a.isPresent(o)?o.value:null}function isDynamicInstance(e){return a.IS_DART?e instanceof c:a.isPresent(e)&&a.isPresent(e.props)&&a.isPresent(e.getters)&&a.isPresent(e.methods)}function _executeFunctionStatements(e,t,i,r,n){for(var s=r.createChildWihtLocalVars(),o=0;o<e.length;o++)s.vars.set(e[o],t[o]);var p=n.visitAllStatements(i,s);return a.isPresent(p)?p.value:null}function _declareFn(e,t,i,r){switch(e.length){case 0:return function(){return _executeFunctionStatements(e,[],t,i,r)};case 1:return function(n){return _executeFunctionStatements(e,[n],t,i,r)};case 2:return function(n,s){return _executeFunctionStatements(e,[n,s],t,i,r)};case 3:return function(n,s,o){return _executeFunctionStatements(e,[n,s,o],t,i,r)};case 4:return function(n,s,o,a){return _executeFunctionStatements(e,[n,s,o,a],t,i,r)};case 5:return function(n,s,o,a,p){return _executeFunctionStatements(e,[n,s,o,a,p],t,i,r)};case 6:return function(n,s,o,a,p,l){return _executeFunctionStatements(e,[n,s,o,a,p,l],t,i,r)};case 7:return function(n,s,o,a,p,l,u){return _executeFunctionStatements(e,[n,s,o,a,p,l,u],t,i,r)};case 8:return function(n,s,o,a,p,l,u,c){return _executeFunctionStatements(e,[n,s,o,a,p,l,u,c],t,i,r)};case 9:return function(n,s,o,a,p,l,u,c,h){return _executeFunctionStatements(e,[n,s,o,a,p,l,u,c,h],t,i,r)};case 10:return function(n,s,o,a,p,l,u,c,h,m){return _executeFunctionStatements(e,[n,s,o,a,p,l,u,c,h,m],t,i,r)};default:throw new o.BaseException("Declaring functions with more than 10 arguments is not supported right now")}}var r=i(23),n=i(337),s=i(12),o=i(15),a=i(5),p=i(593),l=i(19),u=i(340);t.interpretStatements=interpretStatements;var c=function(){function DynamicInstance(){}return Object.defineProperty(DynamicInstance.prototype,"props",{get:function(){return o.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(DynamicInstance.prototype,"getters",{get:function(){return o.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(DynamicInstance.prototype,"methods",{get:function(){return o.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(DynamicInstance.prototype,"clazz",{get:function(){return o.unimplemented()},enumerable:!0,configurable:!0}),DynamicInstance}();t.DynamicInstance=c;var h=function(){function _ExecutionContext(e,t,i,r,n,s,o,a,p){this.parent=e,this.superClass=t,this.superInstance=i,this.className=r,this.vars=n,this.props=s,this.getters=o,this.methods=a,this.instanceFactory=p}return _ExecutionContext.prototype.createChildWihtLocalVars=function(){return new _ExecutionContext(this,this.superClass,this.superInstance,this.className,new Map,this.props,this.getters,this.methods,this.instanceFactory)},_ExecutionContext}(),m=function(){function ReturnValue(e){this.value=e}return ReturnValue}(),d=function(){function _DynamicClass(e,t,i){this._classStmt=e,this._ctx=t,this._visitor=i}return _DynamicClass.prototype.instantiate=function(e){var t=this,i=new Map,r=new Map,n=new Map,s=this._classStmt.parent.visitExpression(this._visitor,this._ctx),o=new h(this._ctx,s,null,this._classStmt.name,this._ctx.vars,i,r,n,this._ctx.instanceFactory);this._classStmt.fields.forEach(function(e){i.set(e.name,null)}),this._classStmt.getters.forEach(function(e){r.set(e.name,function(){return _executeFunctionStatements([],[],e.body,o,t._visitor)})}),this._classStmt.methods.forEach(function(e){var i=e.params.map(function(e){return e.name});n.set(e.name,_declareFn(i,e.body,o,t._visitor))});var a=this._classStmt.constructorMethod.params.map(function(e){return e.name});return _executeFunctionStatements(a,e,this._classStmt.constructorMethod.body,o,this._visitor),o.superInstance},_DynamicClass.prototype.debugAst=function(){return this._visitor.debugAst(this._classStmt)},_DynamicClass}(),f=function(){function StatementInterpreter(){}return StatementInterpreter.prototype.debugAst=function(e){return a.IS_DART?p.debugOutputAstAsDart(e):u.debugOutputAstAsTypeScript(e)},StatementInterpreter.prototype.visitDeclareVarStmt=function(e,t){return t.vars.set(e.name,e.value.visitExpression(this,t)),null},StatementInterpreter.prototype.visitWriteVarExpr=function(e,t){for(var i=e.value.visitExpression(this,t),r=t;null!=r;){if(r.vars.has(e.name))return r.vars.set(e.name,i),i;r=r.parent}throw new o.BaseException("Not declared variable "+e.name)},StatementInterpreter.prototype.visitReadVarExpr=function(e,t){var i=e.name;if(a.isPresent(e.builtin))switch(e.builtin){case l.BuiltinVar.Super:case l.BuiltinVar.This:return t.superInstance;case l.BuiltinVar.CatchError:i=v;break;case l.BuiltinVar.CatchStack:i=y;break;default:throw new o.BaseException("Unknown builtin variable "+e.builtin)}for(var r=t;null!=r;){if(r.vars.has(i))return r.vars.get(i);r=r.parent}throw new o.BaseException("Not declared variable "+i)},StatementInterpreter.prototype.visitWriteKeyExpr=function(e,t){var i=e.receiver.visitExpression(this,t),r=e.index.visitExpression(this,t),n=e.value.visitExpression(this,t);return i[r]=n,n},StatementInterpreter.prototype.visitWritePropExpr=function(e,t){var i=e.receiver.visitExpression(this,t),n=e.value.visitExpression(this,t);if(isDynamicInstance(i)){var s=i;s.props.has(e.name)?s.props.set(e.name,n):r.reflector.setter(e.name)(i,n)}else r.reflector.setter(e.name)(i,n);return n},StatementInterpreter.prototype.visitInvokeMethodExpr=function(e,t){var i,p=e.receiver.visitExpression(this,t),u=this.visitAllExpressions(e.args,t);if(a.isPresent(e.builtin))switch(e.builtin){case l.BuiltinMethod.ConcatArray:i=s.ListWrapper.concat(p,u[0]);break;case l.BuiltinMethod.SubscribeObservable:i=n.ObservableWrapper.subscribe(p,u[0]);break;case l.BuiltinMethod.bind:i=a.IS_DART?p:p.bind(u[0]);break;default:throw new o.BaseException("Unknown builtin method "+e.builtin)}else if(isDynamicInstance(p)){var c=p;i=c.methods.has(e.name)?a.FunctionWrapper.apply(c.methods.get(e.name),u):r.reflector.method(e.name)(p,u)}else i=r.reflector.method(e.name)(p,u);return i},StatementInterpreter.prototype.visitInvokeFunctionExpr=function(e,t){var i=this.visitAllExpressions(e.args,t),r=e.fn;if(r instanceof l.ReadVarExpr&&r.builtin===l.BuiltinVar.Super)return t.superInstance=t.instanceFactory.createInstance(t.superClass,t.className,i,t.props,t.getters,t.methods),t.parent.superInstance=t.superInstance,null;var n=e.fn.visitExpression(this,t);return a.FunctionWrapper.apply(n,i)},StatementInterpreter.prototype.visitReturnStmt=function(e,t){return new m(e.value.visitExpression(this,t))},StatementInterpreter.prototype.visitDeclareClassStmt=function(e,t){var i=new d(e,t,this);return t.vars.set(e.name,i),null},StatementInterpreter.prototype.visitExpressionStmt=function(e,t){return e.expr.visitExpression(this,t)},StatementInterpreter.prototype.visitIfStmt=function(e,t){var i=e.condition.visitExpression(this,t);return i?this.visitAllStatements(e.trueCase,t):a.isPresent(e.falseCase)?this.visitAllStatements(e.falseCase,t):null},StatementInterpreter.prototype.visitTryCatchStmt=function(e,t){try{return this.visitAllStatements(e.bodyStmts,t)}catch(i){var r=t.createChildWihtLocalVars();return r.vars.set(v,i),r.vars.set(y,i.stack),this.visitAllStatements(e.catchStmts,r)}},StatementInterpreter.prototype.visitThrowStmt=function(e,t){throw e.error.visitExpression(this,t)},StatementInterpreter.prototype.visitCommentStmt=function(e,t){return null},StatementInterpreter.prototype.visitInstantiateExpr=function(e,t){var i=this.visitAllExpressions(e.args,t),n=e.classExpr.visitExpression(this,t);return n instanceof d?n.instantiate(i):a.FunctionWrapper.apply(r.reflector.factory(n),i)},StatementInterpreter.prototype.visitLiteralExpr=function(e,t){return e.value},StatementInterpreter.prototype.visitExternalExpr=function(e,t){return e.value.runtime},StatementInterpreter.prototype.visitConditionalExpr=function(e,t){return e.condition.visitExpression(this,t)?e.trueCase.visitExpression(this,t):a.isPresent(e.falseCase)?e.falseCase.visitExpression(this,t):null},StatementInterpreter.prototype.visitNotExpr=function(e,t){return!e.condition.visitExpression(this,t)},StatementInterpreter.prototype.visitCastExpr=function(e,t){return e.value.visitExpression(this,t)},StatementInterpreter.prototype.visitFunctionExpr=function(e,t){var i=e.params.map(function(e){return e.name});return _declareFn(i,e.statements,t,this)},StatementInterpreter.prototype.visitDeclareFunctionStmt=function(e,t){var i=e.params.map(function(e){return e.name});return t.vars.set(e.name,_declareFn(i,e.statements,t,this)),null},StatementInterpreter.prototype.visitBinaryOperatorExpr=function(e,t){var i=this,r=function(){return e.lhs.visitExpression(i,t)},n=function(){return e.rhs.visitExpression(i,t)};switch(e.operator){case l.BinaryOperator.Equals:return r()==n();case l.BinaryOperator.Identical:return r()===n();case l.BinaryOperator.NotEquals:return r()!=n();case l.BinaryOperator.NotIdentical:return r()!==n();case l.BinaryOperator.And:return r()&&n();case l.BinaryOperator.Or:return r()||n();case l.BinaryOperator.Plus:return r()+n();case l.BinaryOperator.Minus:return r()-n();case l.BinaryOperator.Divide:return r()/n();case l.BinaryOperator.Multiply:return r()*n();case l.BinaryOperator.Modulo:return r()%n();case l.BinaryOperator.Lower:return r()<n();case l.BinaryOperator.LowerEquals:return r()<=n();case l.BinaryOperator.Bigger:return r()>n();case l.BinaryOperator.BiggerEquals:return r()>=n();default:throw new o.BaseException("Unknown operator "+e.operator)}},StatementInterpreter.prototype.visitReadPropExpr=function(e,t){var i,n=e.receiver.visitExpression(this,t);if(isDynamicInstance(n)){var s=n;i=s.props.has(e.name)?s.props.get(e.name):s.getters.has(e.name)?s.getters.get(e.name)():s.methods.has(e.name)?s.methods.get(e.name):r.reflector.getter(e.name)(n)}else i=r.reflector.getter(e.name)(n);return i},StatementInterpreter.prototype.visitReadKeyExpr=function(e,t){var i=e.receiver.visitExpression(this,t),r=e.index.visitExpression(this,t);return i[r]},StatementInterpreter.prototype.visitLiteralArrayExpr=function(e,t){return this.visitAllExpressions(e.entries,t)},StatementInterpreter.prototype.visitLiteralMapExpr=function(e,t){var i=this,r={};return e.entries.forEach(function(e){return r[e[0]]=e[1].visitExpression(i,t)}),r},StatementInterpreter.prototype.visitAllExpressions=function(e,t){var i=this;return e.map(function(e){return e.visitExpression(i,t)})},StatementInterpreter.prototype.visitAllStatements=function(e,t){for(var i=0;i<e.length;i++){var r=e[i],n=r.visitStatement(this,t);if(n instanceof m)return n}return null},StatementInterpreter}(),v="error",y="stack"},596:function(e,t,i){"use strict";function jitStatements(e,t,i){var r=new p,o=s.EmitterVisitorContext.createRoot([i]);return r.visitAllStatements(t,o),n.evalExpression(e,i,o.toSource(),r.getArgs())}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=i(5),s=i(132),o=i(592),a=i(59);t.jitStatements=jitStatements;var p=function(e){function JitEmitterVisitor(){e.apply(this,arguments),this._evalArgNames=[],this._evalArgValues=[]}return r(JitEmitterVisitor,e),JitEmitterVisitor.prototype.getArgs=function(){for(var e={},t=0;t<this._evalArgNames.length;t++)e[this._evalArgNames[t]]=this._evalArgValues[t];return e},JitEmitterVisitor.prototype.visitExternalExpr=function(e,t){var i=e.value.runtime,r=this._evalArgValues.indexOf(i);if(r===-1){r=this._evalArgValues.length,this._evalArgValues.push(i);var s=n.isPresent(e.value.name)?a.sanitizeIdentifier(e.value.name):"val";this._evalArgNames.push(a.sanitizeIdentifier("jit_"+s+r))}return t.print(this._evalArgNames[r]),null},JitEmitterVisitor}(o.AbstractJsEmitterVisitor)},597:function(e,t,i){"use strict";var r=i(15),n=i(5),s=/asset:([^\/]+)\/([^\/]+)\/(.+)/g,o=function(){function ImportGenerator(){}return ImportGenerator.parseAssetUrl=function(e){return a.parse(e)},ImportGenerator}();t.ImportGenerator=o;var a=function(){function AssetUrl(e,t,i){this.packageName=e,this.firstLevelDir=t,this.modulePath=i}return AssetUrl.parse=function(e,t){void 0===t&&(t=!0);var i=n.RegExpWrapper.firstMatch(s,e);if(n.isPresent(i))return new AssetUrl(i[1],i[2],i[3]);if(t)return null;throw new r.BaseException("Url "+e+" is not a valid asset: url")},AssetUrl}();t.AssetUrl=a},598:function(e,t,i){"use strict";function _transformProvider(e,t){var i=t.useExisting,r=t.useValue,n=t.deps;return new o.CompileProviderMetadata({token:e.token,useClass:e.useClass,useExisting:i,useFactory:e.useFactory,useValue:r,deps:n,multi:e.multi})}function _transformProviderAst(e,t){var i=t.eager,r=t.providers;return new l.ProviderAst(e.token,e.multiProvider,e.eager||i,r,e.providerType,e.sourceSpan)}function _normalizeProviders(e,t,i,r){return void 0===r&&(r=null),s.isBlank(r)&&(r=[]),s.isPresent(e)&&e.forEach(function(e){if(s.isArray(e))_normalizeProviders(e,t,i,r);else{var n;e instanceof o.CompileProviderMetadata?n=e:e instanceof o.CompileTypeMetadata?n=new o.CompileProviderMetadata({token:new o.CompileTokenMetadata({identifier:e}),useClass:e}):i.push(new u("Unknown provider type "+e,t)),s.isPresent(n)&&r.push(n)}}),r}function _resolveProvidersFromDirectives(e,t,i){var r=new o.CompileTokenMap;e.forEach(function(e){var n=new o.CompileProviderMetadata({token:new o.CompileTokenMetadata({identifier:e.type}),useClass:e.type});_resolveProviders([n],e.isComponent?l.ProviderAstType.Component:l.ProviderAstType.Directive,!0,t,i,r)});var n=e.filter(function(e){return e.isComponent}).concat(e.filter(function(e){return!e.isComponent}));return n.forEach(function(e){_resolveProviders(_normalizeProviders(e.providers,t,i),l.ProviderAstType.PublicService,!1,t,i,r),_resolveProviders(_normalizeProviders(e.viewProviders,t,i),l.ProviderAstType.PrivateService,!1,t,i,r)}),r}function _resolveProviders(e,t,i,r,o,a){e.forEach(function(e){var p=a.get(e.token);s.isPresent(p)&&p.multiProvider!==e.multi&&o.push(new u("Mixing multi and non multi provider is not possible for token "+p.token.name,r)),s.isBlank(p)?(p=new l.ProviderAst(e.token,e.multi,i,[e],t,r),a.add(e.token,p)):(e.multi||n.ListWrapper.clear(p.providers),p.providers.push(e))})}function _getViewQueries(e){var t=new o.CompileTokenMap;return s.isPresent(e.viewQueries)&&e.viewQueries.forEach(function(e){return _addQueryToTokenMap(t,e)}),e.type.diDeps.forEach(function(e){s.isPresent(e.viewQuery)&&_addQueryToTokenMap(t,e.viewQuery)}),t}function _getContentQueries(e){var t=new o.CompileTokenMap;return e.forEach(function(e){s.isPresent(e.queries)&&e.queries.forEach(function(e){return _addQueryToTokenMap(t,e)}),e.type.diDeps.forEach(function(e){s.isPresent(e.query)&&_addQueryToTokenMap(t,e.query)})}),t}function _addQueryToTokenMap(e,t){t.selectors.forEach(function(i){var r=e.get(i);s.isBlank(r)&&(r=[],e.add(i,r)),r.push(t)})}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=i(12),s=i(5),o=i(31),a=i(32),p=i(57),l=i(58),u=function(e){function ProviderError(t,i){e.call(this,i,t)}return r(ProviderError,e),ProviderError}(p.ParseError);t.ProviderError=u;var c=function(){function ProviderViewContext(e,t){var i=this;this.component=e,this.sourceSpan=t,this.errors=[],this.viewQueries=_getViewQueries(e),this.viewProviders=new o.CompileTokenMap,_normalizeProviders(e.viewProviders,t,this.errors).forEach(function(e){s.isBlank(i.viewProviders.get(e.token))&&i.viewProviders.add(e.token,!0)})}return ProviderViewContext}();t.ProviderViewContext=c;var h=function(){function ProviderElementContext(e,t,i,r,n,p,l){var u=this;this._viewContext=e,this._parent=t,this._isViewRoot=i,this._directiveAsts=r,this._sourceSpan=l,this._transformedProviders=new o.CompileTokenMap,this._seenProviders=new o.CompileTokenMap,this._hasViewContainer=!1,this._attrs={},n.forEach(function(e){return u._attrs[e.name]=e.value});var c=r.map(function(e){return e.directive});this._allProviders=_resolveProvidersFromDirectives(c,l,e.errors),this._contentQueries=_getContentQueries(c);var h=new o.CompileTokenMap;this._allProviders.values().forEach(function(e){u._addQueryReadsTo(e.token,h)}),p.forEach(function(e){u._addQueryReadsTo(new o.CompileTokenMetadata({value:e.name}),h)}),s.isPresent(h.get(a.identifierToken(a.Identifiers.ViewContainerRef)))&&(this._hasViewContainer=!0),this._allProviders.values().forEach(function(e){var t=e.eager||s.isPresent(h.get(e.token));t&&u._getOrCreateLocalProvider(e.providerType,e.token,!0);
})}return ProviderElementContext.prototype.afterElement=function(){var e=this;this._allProviders.values().forEach(function(t){e._getOrCreateLocalProvider(t.providerType,t.token,!1)})},Object.defineProperty(ProviderElementContext.prototype,"transformProviders",{get:function(){return this._transformedProviders.values()},enumerable:!0,configurable:!0}),Object.defineProperty(ProviderElementContext.prototype,"transformedDirectiveAsts",{get:function(){var e=this._transformedProviders.values().map(function(e){return e.token.identifier}),t=n.ListWrapper.clone(this._directiveAsts);return n.ListWrapper.sort(t,function(t,i){return e.indexOf(t.directive.type)-e.indexOf(i.directive.type)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(ProviderElementContext.prototype,"transformedHasViewContainer",{get:function(){return this._hasViewContainer},enumerable:!0,configurable:!0}),ProviderElementContext.prototype._addQueryReadsTo=function(e,t){this._getQueriesFor(e).forEach(function(i){var r=s.isPresent(i.read)?i.read:e;s.isBlank(t.get(r))&&t.add(r,!0)})},ProviderElementContext.prototype._getQueriesFor=function(e){for(var t,i=[],r=this,o=0;null!==r;)t=r._contentQueries.get(e),s.isPresent(t)&&n.ListWrapper.addAll(i,t.filter(function(e){return e.descendants||o<=1})),r._directiveAsts.length>0&&o++,r=r._parent;return t=this._viewContext.viewQueries.get(e),s.isPresent(t)&&n.ListWrapper.addAll(i,t),i},ProviderElementContext.prototype._getOrCreateLocalProvider=function(e,t,i){var r=this,n=this._allProviders.get(t);if(s.isBlank(n)||(e===l.ProviderAstType.Directive||e===l.ProviderAstType.PublicService)&&n.providerType===l.ProviderAstType.PrivateService||(e===l.ProviderAstType.PrivateService||e===l.ProviderAstType.PublicService)&&n.providerType===l.ProviderAstType.Builtin)return null;var a=this._transformedProviders.get(t);if(s.isPresent(a))return a;if(s.isPresent(this._seenProviders.get(t)))return this._viewContext.errors.push(new u("Cannot instantiate cyclic dependency! "+t.name,this._sourceSpan)),null;this._seenProviders.add(t,!0);var p=n.providers.map(function(e){var t,a=e.useValue,p=e.useExisting;if(s.isPresent(e.useExisting)){var l=r._getDependency(n.providerType,new o.CompileDiDependencyMetadata({token:e.useExisting}),i);s.isPresent(l.token)?p=l.token:(p=null,a=l.value)}else if(s.isPresent(e.useFactory)){var u=s.isPresent(e.deps)?e.deps:e.useFactory.diDeps;t=u.map(function(e){return r._getDependency(n.providerType,e,i)})}else if(s.isPresent(e.useClass)){var u=s.isPresent(e.deps)?e.deps:e.useClass.diDeps;t=u.map(function(e){return r._getDependency(n.providerType,e,i)})}return _transformProvider(e,{useExisting:p,useValue:a,deps:t})});return a=_transformProviderAst(n,{eager:i,providers:p}),this._transformedProviders.add(t,a),a},ProviderElementContext.prototype._getLocalDependency=function(e,t,i){if(void 0===i&&(i=null),t.isAttribute){var r=this._attrs[t.token.value];return new o.CompileDiDependencyMetadata({isValue:!0,value:s.normalizeBlank(r)})}if(s.isPresent(t.query)||s.isPresent(t.viewQuery))return t;if(s.isPresent(t.token)){if(e===l.ProviderAstType.Directive||e===l.ProviderAstType.Component){if(t.token.equalsTo(a.identifierToken(a.Identifiers.Renderer))||t.token.equalsTo(a.identifierToken(a.Identifiers.ElementRef))||t.token.equalsTo(a.identifierToken(a.Identifiers.ChangeDetectorRef))||t.token.equalsTo(a.identifierToken(a.Identifiers.TemplateRef)))return t;t.token.equalsTo(a.identifierToken(a.Identifiers.ViewContainerRef))&&(this._hasViewContainer=!0)}if(t.token.equalsTo(a.identifierToken(a.Identifiers.Injector)))return t;if(s.isPresent(this._getOrCreateLocalProvider(e,t.token,i)))return t}return null},ProviderElementContext.prototype._getDependency=function(e,t,i){void 0===i&&(i=null);var r=this,n=i,p=null;if(t.isSkipSelf||(p=this._getLocalDependency(e,t,i)),t.isSelf)s.isBlank(p)&&t.isOptional&&(p=new o.CompileDiDependencyMetadata({isValue:!0,value:null}));else{for(;s.isBlank(p)&&s.isPresent(r._parent);){var c=r;r=r._parent,c._isViewRoot&&(n=!1),p=r._getLocalDependency(l.ProviderAstType.PublicService,t,n)}s.isBlank(p)&&(p=!t.isHost||this._viewContext.component.type.isHost||a.identifierToken(this._viewContext.component.type).equalsTo(t.token)||s.isPresent(this._viewContext.viewProviders.get(t.token))?t:t.isOptional?p=new o.CompileDiDependencyMetadata({isValue:!0,value:null}):null)}return s.isBlank(p)&&this._viewContext.errors.push(new u("No provider for "+t.token.name,this._sourceSpan)),p},ProviderElementContext}();t.ProviderElementContext=h},599:function(e,t,i){"use strict";function registerContext(e,i){for(var r=0,n=i;r<n.length;r++){var s=n[r];t.SECURITY_SCHEMA[s.toLowerCase()]=e}}var r=i(23);t.SECURITY_SCHEMA={},registerContext(r.SecurityContext.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),registerContext(r.SecurityContext.STYLE,["*|style"]),registerContext(r.SecurityContext.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","video|poster","video|src"]),registerContext(r.SecurityContext.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src","track|src"])},600:function(e,t,i){"use strict";function stripComments(e){return n.StringWrapper.replaceAllMapped(e,C,function(e){return""})}function processRules(e,t){var i=escapeBlocks(e),r=0;return n.StringWrapper.replaceAllMapped(i.escapedString,S,function(e){var s=e[2],o="",a=e[4],p="";n.isPresent(e[4])&&e[4].startsWith("{"+w)&&(o=i.blocks[r++],a=e[4].substring(w.length+1),p="{");var l=t(new x(s,o));return""+e[1]+l.selector+e[3]+p+l.content+a})}function escapeBlocks(e){for(var t=n.StringWrapper.split(e,A),i=[],r=[],s=0,o=[],a=0;a<t.length;a++){var p=t[a];p==P&&s--,s>0?o.push(p):(o.length>0&&(r.push(o.join("")),i.push(w),o=[]),i.push(p)),p==T&&s++}return o.length>0&&(r.push(o.join("")),i.push(w)),new M(i.join(""),r)}var r=i(12),n=i(5),s=function(){function ShadowCss(){this.strictStyling=!0}return ShadowCss.prototype.shimCssText=function(e,t,i){return void 0===i&&(i=""),e=stripComments(e),e=this._insertDirectives(e),this._scopeCssText(e,t,i)},ShadowCss.prototype._insertDirectives=function(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)},ShadowCss.prototype._insertPolyfillDirectivesInCssText=function(e){return n.StringWrapper.replaceAllMapped(e,o,function(e){return e[1]+"{"})},ShadowCss.prototype._insertPolyfillRulesInCssText=function(e){return n.StringWrapper.replaceAllMapped(e,a,function(e){var t=e[0];return t=n.StringWrapper.replace(t,e[1],""),t=n.StringWrapper.replace(t,e[2],""),e[3]+t})},ShadowCss.prototype._scopeCssText=function(e,t,i){var r=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),n.isPresent(t)&&(e=this._scopeSelectors(e,t,i)),e=e+"\n"+r,e.trim()},ShadowCss.prototype._extractUnscopedRulesFromCssText=function(e){for(var t,i="",r=n.RegExpWrapper.matcher(p,e);n.isPresent(t=n.RegExpMatcherWrapper.next(r));){var s=t[0];s=n.StringWrapper.replace(s,t[2],""),s=n.StringWrapper.replace(s,t[1],t[3]),i+=s+"\n\n"}return i},ShadowCss.prototype._convertColonHost=function(e){return this._convertColonRule(e,h,this._colonHostPartReplacer)},ShadowCss.prototype._convertColonHostContext=function(e){return this._convertColonRule(e,m,this._colonHostContextPartReplacer)},ShadowCss.prototype._convertColonRule=function(e,t,i){return n.StringWrapper.replaceAllMapped(e,t,function(e){if(n.isPresent(e[2])){for(var t=e[2].split(","),r=[],s=0;s<t.length;s++){var o=t[s];if(n.isBlank(o))break;o=o.trim(),r.push(i(d,o,e[3]))}return r.join(",")}return d+e[3]})},ShadowCss.prototype._colonHostContextPartReplacer=function(e,t,i){return n.StringWrapper.contains(t,l)?this._colonHostPartReplacer(e,t,i):e+t+i+", "+t+" "+e+i},ShadowCss.prototype._colonHostPartReplacer=function(e,t,i){return e+n.StringWrapper.replace(t,l,"")+i},ShadowCss.prototype._convertShadowDOMSelectors=function(e){for(var t=0;t<f.length;t++)e=n.StringWrapper.replaceAll(e,f[t]," ");return e},ShadowCss.prototype._scopeSelectors=function(e,t,i){var r=this;return processRules(e,function(e){var n=e.selector,s=e.content;return"@"!=e.selector[0]||e.selector.startsWith("@page")?n=r._scopeSelector(e.selector,t,i,r.strictStyling):(e.selector.startsWith("@media")||e.selector.startsWith("@supports"))&&(s=r._scopeSelectors(e.content,t,i)),new x(n,s)})},ShadowCss.prototype._scopeSelector=function(e,t,i,r){for(var s=[],o=e.split(","),a=0;a<o.length;a++){var p=o[a].trim(),l=n.StringWrapper.split(p,v),u=l[0];this._selectorNeedsScoping(u,t)&&(l[0]=r&&!n.StringWrapper.contains(u,d)?this._applyStrictSelectorScope(u,t):this._applySelectorScope(u,t,i)),s.push(l.join(" "))}return s.join(", ")},ShadowCss.prototype._selectorNeedsScoping=function(e,t){var i=this._makeScopeMatcher(t);return!n.isPresent(n.RegExpWrapper.firstMatch(i,e))},ShadowCss.prototype._makeScopeMatcher=function(e){var t=/\[/g,i=/\]/g;return e=n.StringWrapper.replaceAll(e,t,"\\["),e=n.StringWrapper.replaceAll(e,i,"\\]"),n.RegExpWrapper.create("^("+e+")"+y,"m")},ShadowCss.prototype._applySelectorScope=function(e,t,i){return this._applySimpleSelectorScope(e,t,i)},ShadowCss.prototype._applySimpleSelectorScope=function(e,t,i){if(n.isPresent(n.RegExpWrapper.firstMatch(_,e))){var r=this.strictStyling?"["+i+"]":t;return e=n.StringWrapper.replace(e,d,r),n.StringWrapper.replaceAll(e,_,r+" ")}return t+" "+e},ShadowCss.prototype._applyStrictSelectorScope=function(e,t){var i=/\[is=([^\]]*)\]/g;t=n.StringWrapper.replaceAllMapped(t,i,function(e){return e[1]});for(var s=[" ",">","+","~"],o=e,a="["+t+"]",p=0;p<s.length;p++){var l=s[p],u=o.split(l);o=u.map(function(e){var t=n.StringWrapper.replaceAll(e.trim(),_,"");if(t.length>0&&!r.ListWrapper.contains(s,t)&&!n.StringWrapper.contains(t,a)){var i=/([^:]*)(:*)(.*)/g,o=n.RegExpWrapper.firstMatch(i,t);n.isPresent(o)&&(e=o[1]+a+o[2]+o[3])}return e}).join(l)}return o},ShadowCss.prototype._insertPolyfillHostInCssText=function(e){return e=n.StringWrapper.replaceAll(e,g,u),e=n.StringWrapper.replaceAll(e,E,l)},ShadowCss}();t.ShadowCss=s;var o=/polyfill-next-selector[^}]*content:[\s]*?['"](.*?)['"][;\s]*}([^{]*?){/gim,a=/(polyfill-rule)[^}]*(content:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim,p=/(polyfill-unscoped-rule)[^}]*(content:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim,l="-shadowcsshost",u="-shadowcsscontext",c=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",h=n.RegExpWrapper.create("("+l+c,"im"),m=n.RegExpWrapper.create("("+u+c,"im"),d=l+"-no-combinator",f=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],v=/(?:>>>)|(?:\/deep\/)/g,y="([>\\s~+[.,{:][\\s\\S]*)?$",_=n.RegExpWrapper.create(l,"im"),E=/:host/gim,g=/:host-context/gim,C=/\/\*[\s\S]*?\*\//g,S=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,A=/([{}])/g,T="{",P="}",w="%BLOCK%",x=function(){function CssRule(e,t){this.selector=e,this.content=t}return CssRule}();t.CssRule=x,t.processRules=processRules;var M=function(){function StringWithEscapedBlocks(e,t){this.escapedString=e,this.blocks=t}return StringWithEscapedBlocks}()},601:function(e,t,i){"use strict";function _findPipeMeta(e,t){for(var i=null,s=e.pipeMetas.length-1;s>=0;s--){var o=e.pipeMetas[s];if(o.name==t){i=o;break}}if(n.isBlank(i))throw new r.BaseException("Illegal state: Could not find pipe "+t+" although the parser should have detected this error!");return i}var r=i(15),n=i(5),s=i(32),o=i(19),a=i(100),p=function(){function _PurePipeProxy(e,t,i){this.view=e,this.instance=t,this.argCount=i}return _PurePipeProxy}(),l=function(){function CompilePipe(e,t){this.view=e,this.meta=t,this._purePipeProxies=[],this.instance=o.THIS_EXPR.prop("_pipe_"+t.name+"_"+e.pipeCount++)}return CompilePipe.call=function(e,t,i){var r,s=e.componentView,o=_findPipeMeta(s,t);return o.pure?(r=s.purePipes.get(t),n.isBlank(r)&&(r=new CompilePipe(s,o),s.purePipes.set(t,r),s.pipes.push(r))):(r=new CompilePipe(e,o),e.pipes.push(r)),r._call(e,i)},Object.defineProperty(CompilePipe.prototype,"pure",{get:function(){return this.meta.pure},enumerable:!0,configurable:!0}),CompilePipe.prototype.create=function(){var e=this,t=this.meta.type.diDeps.map(function(t){return t.token.equalsTo(s.identifierToken(s.Identifiers.ChangeDetectorRef))?a.getPropertyInView(o.THIS_EXPR.prop("ref"),e.view,e.view.componentView):a.injectFromViewParentInjector(t.token,!1)});this.view.fields.push(new o.ClassField(this.instance.name,o.importType(this.meta.type))),this.view.createMethod.resetDebugInfo(null,null),this.view.createMethod.addStmt(o.THIS_EXPR.prop(this.instance.name).set(o.importExpr(this.meta.type).instantiate(t)).toStmt()),this._purePipeProxies.forEach(function(t){var i=a.getPropertyInView(e.instance,t.view,e.view);a.createPureProxy(i.prop("transform").callMethod(o.BuiltinMethod.bind,[i]),t.argCount,t.instance,t.view)})},CompilePipe.prototype._call=function(e,t){if(this.meta.pure){var i=new p(e,o.THIS_EXPR.prop(this.instance.name+"_"+this._purePipeProxies.length),t.length);return this._purePipeProxies.push(i),o.importExpr(s.Identifiers.castByValue).callFn([i.instance,a.getPropertyInView(this.instance.prop("transform"),e,this.view)]).callFn(t)}return a.getPropertyInView(this.instance,e,this.view).callMethod("transform",t)},CompilePipe}();t.CompilePipe=l},602:function(e,t,i){"use strict";function collectEventListeners(e,t,i){var n=[];return e.forEach(function(e){i.view.bindings.push(new o.CompileBinding(i,e));var t=u.getOrCreate(i,e.target,e.name,n);t.addAction(e,null,null)}),r.ListWrapper.forEachWithIndex(t,function(e,t){var r=i.directiveInstances[t];e.hostEvents.forEach(function(t){i.view.bindings.push(new o.CompileBinding(i,t));var s=u.getOrCreate(i,t.target,t.name,n);s.addAction(t,e.directive,r)})}),n.forEach(function(e){return e.finishMethod()}),n}function bindDirectiveOutputs(e,t,i){r.StringMapWrapper.forEach(e.directive.outputs,function(e,r){i.filter(function(t){return t.eventName==e}).forEach(function(e){e.listenToDirective(t,r)})})}function bindRenderOutputs(e){e.forEach(function(e){return e.listenToRenderer()})}function convertStmtIntoExpression(e){return e instanceof s.ExpressionStatement?e.expr:e instanceof s.ReturnStatement?e.value:null}function santitizeEventName(e){return n.StringWrapper.replaceAll(e,/[^a-zA-Z_]/g,"_")}var r=i(12),n=i(5),s=i(19),o=i(345),a=i(211),p=i(83),l=i(349),u=function(){function CompileEventListener(e,t,i,r){this.compileElement=e,this.eventTarget=t,this.eventName=i,this._hasComponentHostListener=!1,this._actionResultExprs=[],this._method=new a.CompileMethod(e.view),this._methodName="_handle_"+santitizeEventName(i)+"_"+e.nodeIndex+"_"+r,this._eventParam=new s.FnParam(p.EventHandlerVars.event.name,s.importType(this.compileElement.view.genConfig.renderTypes.renderEvent))}return CompileEventListener.getOrCreate=function(e,t,i,r){var s=r.find(function(e){return e.eventTarget==t&&e.eventName==i});return n.isBlank(s)&&(s=new CompileEventListener(e,t,i,r.length),r.push(s)),s},CompileEventListener.prototype.addAction=function(e,t,i){n.isPresent(t)&&t.isComponent&&(this._hasComponentHostListener=!0),this._method.resetDebugInfo(this.compileElement.nodeIndex,e);var r=n.isPresent(i)?i:this.compileElement.view.componentContext,o=l.convertCdStatementToIr(this.compileElement.view,r,e.handler),a=o.length-1;if(a>=0){var p=o[a],u=convertStmtIntoExpression(p),c=s.variable("pd_"+this._actionResultExprs.length);this._actionResultExprs.push(c),n.isPresent(u)&&(o[a]=c.set(u.cast(s.DYNAMIC_TYPE).notIdentical(s.literal(!1))).toDeclStmt(null,[s.StmtModifier.Final]))}this._method.addStmts(o)},CompileEventListener.prototype.finishMethod=function(){var e=this._hasComponentHostListener?this.compileElement.appElement.prop("componentView"):s.THIS_EXPR,t=s.literal(!0);this._actionResultExprs.forEach(function(e){t=t.and(e)});var i=[e.callMethod("markPathToRootAsCheckOnce",[]).toStmt()].concat(this._method.finish()).concat([new s.ReturnStatement(t)]);this.compileElement.view.eventHandlerMethods.push(new s.ClassMethod(this._methodName,[this._eventParam],i,s.BOOL_TYPE,[s.StmtModifier.Private]))},CompileEventListener.prototype.listenToRenderer=function(){var e,t=s.THIS_EXPR.callMethod("eventHandler",[s.THIS_EXPR.prop(this._methodName).callMethod(s.BuiltinMethod.bind,[s.THIS_EXPR])]);e=n.isPresent(this.eventTarget)?p.ViewProperties.renderer.callMethod("listenGlobal",[s.literal(this.eventTarget),s.literal(this.eventName),t]):p.ViewProperties.renderer.callMethod("listen",[this.compileElement.renderNode,s.literal(this.eventName),t]);var i=s.variable("disposable_"+this.compileElement.view.disposables.length);this.compileElement.view.disposables.push(i),this.compileElement.view.createMethod.addStmt(i.set(e).toDeclStmt(s.FUNCTION_TYPE,[s.StmtModifier.Private]))},CompileEventListener.prototype.listenToDirective=function(e,t){var i=s.variable("subscription_"+this.compileElement.view.subscriptions.length);this.compileElement.view.subscriptions.push(i);var r=s.THIS_EXPR.callMethod("eventHandler",[s.THIS_EXPR.prop(this._methodName).callMethod(s.BuiltinMethod.bind,[s.THIS_EXPR])]);this.compileElement.view.createMethod.addStmt(i.set(e.prop(t).callMethod(s.BuiltinMethod.SubscribeObservable,[r])).toDeclStmt(null,[s.StmtModifier.Final]))},CompileEventListener}();t.CompileEventListener=u,t.collectEventListeners=collectEventListeners,t.bindDirectiveOutputs=bindDirectiveOutputs,t.bindRenderOutputs=bindRenderOutputs},603:function(e,t,i){"use strict";function bindDirectiveDetectChangesLifecycleCallbacks(e,t,i){var p=i.view,l=p.detectChangesInInputsMethod,u=e.directive.lifecycleHooks;u.indexOf(r.LifecycleHooks.OnChanges)!==-1&&e.inputs.length>0&&l.addStmt(new n.IfStmt(s.DetectChangesVars.changes.notIdentical(n.NULL_EXPR),[t.callMethod("ngOnChanges",[s.DetectChangesVars.changes]).toStmt()])),u.indexOf(r.LifecycleHooks.OnInit)!==-1&&l.addStmt(new n.IfStmt(o.and(a),[t.callMethod("ngOnInit",[]).toStmt()])),u.indexOf(r.LifecycleHooks.DoCheck)!==-1&&l.addStmt(new n.IfStmt(a,[t.callMethod("ngDoCheck",[]).toStmt()]))}function bindDirectiveAfterContentLifecycleCallbacks(e,t,i){var s=i.view,a=e.lifecycleHooks,p=s.afterContentLifecycleCallbacksMethod;p.resetDebugInfo(i.nodeIndex,i.sourceAst),a.indexOf(r.LifecycleHooks.AfterContentInit)!==-1&&p.addStmt(new n.IfStmt(o,[t.callMethod("ngAfterContentInit",[]).toStmt()])),a.indexOf(r.LifecycleHooks.AfterContentChecked)!==-1&&p.addStmt(t.callMethod("ngAfterContentChecked",[]).toStmt())}function bindDirectiveAfterViewLifecycleCallbacks(e,t,i){var s=i.view,a=e.lifecycleHooks,p=s.afterViewLifecycleCallbacksMethod;p.resetDebugInfo(i.nodeIndex,i.sourceAst),a.indexOf(r.LifecycleHooks.AfterViewInit)!==-1&&p.addStmt(new n.IfStmt(o,[t.callMethod("ngAfterViewInit",[]).toStmt()])),a.indexOf(r.LifecycleHooks.AfterViewChecked)!==-1&&p.addStmt(t.callMethod("ngAfterViewChecked",[]).toStmt())}function bindDirectiveDestroyLifecycleCallbacks(e,t,i){var n=i.view.destroyMethod;n.resetDebugInfo(i.nodeIndex,i.sourceAst),e.lifecycleHooks.indexOf(r.LifecycleHooks.OnDestroy)!==-1&&n.addStmt(t.callMethod("ngOnDestroy",[]).toStmt())}function bindPipeDestroyLifecycleCallbacks(e,t,i){var n=i.destroyMethod;e.lifecycleHooks.indexOf(r.LifecycleHooks.OnDestroy)!==-1&&n.addStmt(t.callMethod("ngOnDestroy",[]).toStmt())}var r=i(23),n=i(19),s=i(83),o=n.THIS_EXPR.prop("numberOfChecks").identical(new n.LiteralExpr(0)),a=n.not(s.DetectChangesVars.throwOnChange);t.bindDirectiveDetectChangesLifecycleCallbacks=bindDirectiveDetectChangesLifecycleCallbacks,t.bindDirectiveAfterContentLifecycleCallbacks=bindDirectiveAfterContentLifecycleCallbacks,t.bindDirectiveAfterViewLifecycleCallbacks=bindDirectiveAfterViewLifecycleCallbacks,t.bindDirectiveDestroyLifecycleCallbacks=bindDirectiveDestroyLifecycleCallbacks,t.bindPipeDestroyLifecycleCallbacks=bindPipeDestroyLifecycleCallbacks},604:function(e,t,i){"use strict";function createBindFieldExpr(e){return o.THIS_EXPR.prop("_expr_"+e)}function createCurrValueExpr(e){return o.variable("currVal_"+e)}function bind(e,t,i,r,p,l,c){var h=u.convertCdExpressionToIr(e,p,r,a.DetectChangesVars.valUnwrapper);if(!n.isBlank(h.expression)){if(e.fields.push(new o.ClassField(i.name,null,[o.StmtModifier.Private])),e.createMethod.addStmt(o.THIS_EXPR.prop(i.name).set(o.importExpr(s.Identifiers.uninitialized)).toStmt()),h.needsValueUnwrapper){var m=a.DetectChangesVars.valUnwrapper.callMethod("reset",[]).toStmt();c.addStmt(m)}c.addStmt(t.set(h.expression).toDeclStmt(null,[o.StmtModifier.Final]));var d=o.importExpr(s.Identifiers.checkBinding).callFn([a.DetectChangesVars.throwOnChange,i,t]);h.needsValueUnwrapper&&(d=a.DetectChangesVars.valUnwrapper.prop("hasWrappedValue").or(d)),c.addStmt(new o.IfStmt(d,l.concat([o.THIS_EXPR.prop(i.name).set(t).toStmt()])))}}function bindRenderText(e,t,i){var r=i.bindings.length;i.bindings.push(new c.CompileBinding(t,e));var n=createCurrValueExpr(r),s=createBindFieldExpr(r);i.detectChangesRenderPropertiesMethod.resetDebugInfo(t.nodeIndex,e),bind(i,n,s,e.value,i.componentContext,[o.THIS_EXPR.prop("renderer").callMethod("setText",[t.renderNode,n]).toStmt()],i.detectChangesRenderPropertiesMethod)}function bindAndWriteToRenderer(e,t,i){var a=i.view,l=i.renderNode;e.forEach(function(e){var u=a.bindings.length;a.bindings.push(new c.CompileBinding(i,e)),a.detectChangesRenderPropertiesMethod.resetDebugInfo(i.nodeIndex,e);var m=createBindFieldExpr(u),d=createCurrValueExpr(u),f=sanitizedValue(e,m),v=sanitizedValue(e,d),y=[];switch(e.type){case p.PropertyBindingType.Property:a.genConfig.logBindingUpdate&&y.push(logBindingUpdateStmt(l,e.name,v)),y.push(o.THIS_EXPR.prop("renderer").callMethod("setElementProperty",[l,o.literal(e.name),v]).toStmt());break;case p.PropertyBindingType.Attribute:v=v.isBlank().conditional(o.NULL_EXPR,v.callMethod("toString",[])),y.push(o.THIS_EXPR.prop("renderer").callMethod("setElementAttribute",[l,o.literal(e.name),v]).toStmt());break;case p.PropertyBindingType.Class:y.push(o.THIS_EXPR.prop("renderer").callMethod("setElementClass",[l,o.literal(e.name),v]).toStmt());break;case p.PropertyBindingType.Style:var _=v.callMethod("toString",[]);n.isPresent(e.unit)&&(_=_.plus(o.literal(e.unit))),v=v.isBlank().conditional(o.NULL_EXPR,_),y.push(o.THIS_EXPR.prop("renderer").callMethod("setElementStyle",[l,o.literal(e.name),v]).toStmt());break;case p.PropertyBindingType.Animation:var E=e.name,g=a.componentView.animations.get(E);if(!n.isPresent(g))throw new h.BaseException("Internal Error: couldn't find an animation entry for "+e.name);var C=o.literal(r.EMPTY_STATE),S=o.variable("oldRenderVar");y.push(S.set(f).toDeclStmt()),y.push(new o.IfStmt(S.equals(o.importExpr(s.Identifiers.uninitialized)),[S.set(C).toStmt()]));var A=o.variable("newRenderVar");y.push(A.set(v).toDeclStmt()),y.push(new o.IfStmt(A.equals(o.importExpr(s.Identifiers.uninitialized)),[A.set(C).toStmt()])),y.push(g.fnVariable.callFn([o.THIS_EXPR,l,S,A]).toStmt()),a.detachMethod.addStmt(g.fnVariable.callFn([o.THIS_EXPR,l,f,C]).toStmt())}bind(a,d,m,e.value,t,y,a.detectChangesRenderPropertiesMethod)})}function sanitizedValue(e,t){var i;switch(e.securityContext){case r.SecurityContext.NONE:return t;case r.SecurityContext.HTML:i="HTML";break;case r.SecurityContext.STYLE:i="STYLE";break;case r.SecurityContext.SCRIPT:i="SCRIPT";break;case r.SecurityContext.URL:i="URL";break;case r.SecurityContext.RESOURCE_URL:i="RESOURCE_URL";break;default:throw new Error("internal error, unexpected SecurityContext "+e.securityContext+".")}var n=a.ViewProperties.viewUtils.prop("sanitizer"),p=[o.importExpr(s.Identifiers.SecurityContext).prop(i),t];return n.callMethod("sanitize",p)}function bindRenderInputs(e,t){bindAndWriteToRenderer(e,t.view.componentContext,t)}function bindDirectiveHostProps(e,t,i){bindAndWriteToRenderer(e.hostProperties,t,i)}function bindDirectiveInputs(e,t,i){if(0!==e.inputs.length){var n=i.view,p=n.detectChangesInInputsMethod;p.resetDebugInfo(i.nodeIndex,i.sourceAst);var l=e.directive.lifecycleHooks,u=l.indexOf(r.LifecycleHooks.OnChanges)!==-1,h=e.directive.isComponent&&!r.isDefaultChangeDetectionStrategy(e.directive.changeDetection);u&&p.addStmt(a.DetectChangesVars.changes.set(o.NULL_EXPR).toStmt()),h&&p.addStmt(a.DetectChangesVars.changed.set(o.literal(!1)).toStmt()),e.inputs.forEach(function(e){var r=n.bindings.length;n.bindings.push(new c.CompileBinding(i,e)),p.resetDebugInfo(i.nodeIndex,e);var l=createBindFieldExpr(r),m=createCurrValueExpr(r),d=[t.prop(e.directiveName).set(m).toStmt()];u&&(d.push(new o.IfStmt(a.DetectChangesVars.changes.identical(o.NULL_EXPR),[a.DetectChangesVars.changes.set(o.literalMap([],new o.MapType(o.importType(s.Identifiers.SimpleChange)))).toStmt()])),d.push(a.DetectChangesVars.changes.key(o.literal(e.directiveName)).set(o.importExpr(s.Identifiers.SimpleChange).instantiate([l,m])).toStmt())),h&&d.push(a.DetectChangesVars.changed.set(o.literal(!0)).toStmt()),n.genConfig.logBindingUpdate&&d.push(logBindingUpdateStmt(i.renderNode,e.directiveName,m)),bind(n,m,l,e.value,n.componentContext,d,p)}),h&&p.addStmt(new o.IfStmt(a.DetectChangesVars.changed,[i.appElement.prop("componentView").callMethod("markAsCheckOnce",[]).toStmt()]))}}function logBindingUpdateStmt(e,t,i){return o.THIS_EXPR.prop("renderer").callMethod("setBindingDebugInfo",[e,o.literal("ng-reflect-"+l.camelCaseToDashCase(t)),i.isBlank().conditional(o.NULL_EXPR,i.callMethod("toString",[]))]).toStmt()}var r=i(23),n=i(5),s=i(32),o=i(19),a=i(83),p=i(58),l=i(59),u=i(349),c=i(345),h=i(0);t.bindRenderText=bindRenderText,t.bindRenderInputs=bindRenderInputs,t.bindDirectiveHostProps=bindDirectiveHostProps,t.bindDirectiveInputs=bindDirectiveInputs},605:function(e,t,i){"use strict";function bindView(e,t){var i=new p(e);n.templateVisitAll(i,t),e.pipes.forEach(function(e){a.bindPipeDestroyLifecycleCallbacks(e.meta,e.instance,e.view)})}var r=i(12),n=i(58),s=i(604),o=i(602),a=i(603);t.bindView=bindView;var p=function(){function ViewBinderVisitor(e){this.view=e,this._nodeIndex=0}return ViewBinderVisitor.prototype.visitBoundText=function(e,t){var i=this.view.nodes[this._nodeIndex++];return s.bindRenderText(e,i,this.view),null},ViewBinderVisitor.prototype.visitText=function(e,t){return this._nodeIndex++,null},ViewBinderVisitor.prototype.visitNgContent=function(e,t){return null},ViewBinderVisitor.prototype.visitElement=function(e,t){var i=this.view.nodes[this._nodeIndex++],p=o.collectEventListeners(e.outputs,e.directives,i);return s.bindRenderInputs(e.inputs,i),o.bindRenderOutputs(p),r.ListWrapper.forEachWithIndex(e.directives,function(e,t){var r=i.directiveInstances[t];s.bindDirectiveInputs(e,r,i),a.bindDirectiveDetectChangesLifecycleCallbacks(e,r,i),s.bindDirectiveHostProps(e,r,i),o.bindDirectiveOutputs(e,r,p)}),n.templateVisitAll(this,e.children,i),r.ListWrapper.forEachWithIndex(e.directives,function(e,t){var r=i.directiveInstances[t];a.bindDirectiveAfterContentLifecycleCallbacks(e.directive,r,i),a.bindDirectiveAfterViewLifecycleCallbacks(e.directive,r,i),a.bindDirectiveDestroyLifecycleCallbacks(e.directive,r,i)}),null},ViewBinderVisitor.prototype.visitEmbeddedTemplate=function(e,t){var i=this.view.nodes[this._nodeIndex++],n=o.collectEventListeners(e.outputs,e.directives,i);return r.ListWrapper.forEachWithIndex(e.directives,function(e,t){var r=i.directiveInstances[t];s.bindDirectiveInputs(e,r,i),a.bindDirectiveDetectChangesLifecycleCallbacks(e,r,i),o.bindDirectiveOutputs(e,r,n),a.bindDirectiveAfterContentLifecycleCallbacks(e.directive,r,i),a.bindDirectiveAfterViewLifecycleCallbacks(e.directive,r,i),a.bindDirectiveDestroyLifecycleCallbacks(e.directive,r,i)}),bindView(i.embeddedView,e.children),null},ViewBinderVisitor.prototype.visitAttr=function(e,t){return null},ViewBinderVisitor.prototype.visitDirective=function(e,t){return null},ViewBinderVisitor.prototype.visitEvent=function(e,t){return null},ViewBinderVisitor.prototype.visitReference=function(e,t){return null},ViewBinderVisitor.prototype.visitVariable=function(e,t){return null},ViewBinderVisitor.prototype.visitDirectiveProperty=function(e,t){return null},ViewBinderVisitor.prototype.visitElementProperty=function(e,t){return null},ViewBinderVisitor}()},636:function(e,t,i){"use strict";var r=i(0);t.ReflectionCapabilities=r.__core_private__.ReflectionCapabilities,t.reflector=r.__core_private__.reflector},637:function(e,t,i){"use strict";function bootstrap(e,i){a.reflector.reflectionCapabilities=new a.ReflectionCapabilities;var r=[o.BROWSER_APP_PROVIDERS,t.BROWSER_APP_COMPILER_PROVIDERS,l.isPresent(i)?i:[]],n=s.ReflectiveInjector.resolveAndCreate(r,o.browserPlatform().injector);return s.coreLoadAndBootstrap(e,n)}function bootstrapWorkerUi(e,i){var r=s.ReflectiveInjector.resolveAndCreate([o.WORKER_UI_APPLICATION_PROVIDERS,t.BROWSER_APP_COMPILER_PROVIDERS,{provide:o.WORKER_SCRIPT,useValue:e},l.isPresent(i)?i:[]],o.workerUiPlatform().injector);return p.PromiseWrapper.resolve(r.get(s.ApplicationRef))}function bootstrapWorkerApp(e,t){var i=s.ReflectiveInjector.resolveAndCreate([o.WORKER_APP_APPLICATION_PROVIDERS,h,l.isPresent(t)?t:[]],o.workerAppPlatform().injector);return s.coreLoadAndBootstrap(e,i)}var r=i(39),n=i(200),s=i(0),o=i(105),a=i(636),p=i(638),l=i(87),u=i(641),c=i(642);t.BROWSER_APP_COMPILER_PROVIDERS=[n.COMPILER_PROVIDERS,{provide:n.CompilerConfig,useFactory:function(e,t){return new n.CompilerConfig({platformDirectives:e,platformPipes:t})},deps:[s.PLATFORM_DIRECTIVES,s.PLATFORM_PIPES]},{provide:n.XHR,useClass:c.XHRImpl},{provide:s.PLATFORM_DIRECTIVES,useValue:r.COMMON_DIRECTIVES,multi:!0},{provide:s.PLATFORM_PIPES,useValue:r.COMMON_PIPES,multi:!0}],t.CACHED_TEMPLATE_PROVIDER=[{provide:n.XHR,useClass:u.CachedXHR}],t.bootstrap=bootstrap,t.bootstrapWorkerUi=bootstrapWorkerUi;var h=[n.COMPILER_PROVIDERS,{provide:n.CompilerConfig,useFactory:function(e,t){return new n.CompilerConfig({platformDirectives:e,platformPipes:t})},deps:[s.PLATFORM_DIRECTIVES,s.PLATFORM_PIPES]},{provide:n.XHR,useClass:c.XHRImpl},{provide:s.PLATFORM_DIRECTIVES,useValue:r.COMMON_DIRECTIVES,multi:!0},{provide:s.PLATFORM_PIPES,useValue:r.COMMON_PIPES,multi:!0}];t.bootstrapWorkerApp=bootstrapWorkerApp},638:[1029,87,235],639:[1030,87],640:[1032,384,385,385],641:function(e,t,i){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=i(200),s=i(640),o=i(87),a=i(235),p=function(e){function CachedXHR(){if(e.call(this),this._cache=o.global.$templateCache,null==this._cache)throw new s.BaseException("CachedXHR: Template cache was not found in $templateCache.")}return r(CachedXHR,e),CachedXHR.prototype.get=function(e){return this._cache.hasOwnProperty(e)?a.PromiseWrapper.resolve(this._cache[e]):a.PromiseWrapper.reject("CachedXHR: Did not find cached template for "+e,null)},CachedXHR}(n.XHR);t.CachedXHR=p},642:function(e,t,i){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=i(200),s=i(87),o=i(235),a=function(e){function XHRImpl(){e.apply(this,arguments)}return r(XHRImpl,e),XHRImpl.prototype.get=function(e){var t=o.PromiseWrapper.completer(),i=new XMLHttpRequest;return i.open("GET",e,!0),i.responseType="text",i.onload=function(){var r=s.isPresent(i.response)?i.response:i.responseText,n=1223===i.status?204:i.status;0===n&&(n=r?200:0),200<=n&&n<=300?t.resolve(r):t.reject("Failed to load "+e,null)},i.onerror=function(){t.reject("Failed to load "+e,null)},i.send(),t.promise},XHRImpl}(n.XHR);t.XHRImpl=a},80:function(e,t,i){"use strict";var r=i(0),n=i(15),s=i(32),o=function(){function CompilerConfig(e){var t=void 0===e?{}:e,i=t.renderTypes,n=void 0===i?new p:i,s=t.defaultEncapsulation,o=void 0===s?r.ViewEncapsulation.Emulated:s,a=t.genDebugInfo,l=t.logBindingUpdate,u=t.useJit,c=void 0===u||u,h=t.platformDirectives,m=void 0===h?[]:h,d=t.platformPipes,f=void 0===d?[]:d;
this.renderTypes=n,this.defaultEncapsulation=o,this._genDebugInfo=a,this._logBindingUpdate=l,this.useJit=c,this.platformDirectives=m,this.platformPipes=f}return Object.defineProperty(CompilerConfig.prototype,"genDebugInfo",{get:function(){return void 0===this._genDebugInfo?r.isDevMode():this._genDebugInfo},enumerable:!0,configurable:!0}),Object.defineProperty(CompilerConfig.prototype,"logBindingUpdate",{get:function(){return void 0===this._logBindingUpdate?r.isDevMode():this._logBindingUpdate},enumerable:!0,configurable:!0}),CompilerConfig}();t.CompilerConfig=o;var a=function(){function RenderTypes(){}return Object.defineProperty(RenderTypes.prototype,"renderer",{get:function(){return n.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderTypes.prototype,"renderText",{get:function(){return n.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderTypes.prototype,"renderElement",{get:function(){return n.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderTypes.prototype,"renderComment",{get:function(){return n.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderTypes.prototype,"renderNode",{get:function(){return n.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(RenderTypes.prototype,"renderEvent",{get:function(){return n.unimplemented()},enumerable:!0,configurable:!0}),RenderTypes}();t.RenderTypes=a;var p=function(){function DefaultRenderTypes(){this.renderer=s.Identifiers.Renderer,this.renderText=null,this.renderElement=null,this.renderComment=null,this.renderNode=null,this.renderEvent=null}return DefaultRenderTypes}();t.DefaultRenderTypes=p},81:function(e,t,i){"use strict";function getElementFullName(e,t,i){return s.isBlank(e)&&(e=u.getHtmlTagDefinition(t).implicitNamespacePrefix,s.isBlank(e)&&s.isPresent(i)&&(e=u.getNsPrefix(i.name))),u.mergeNsAndName(e,t)}function lastOnStack(e,t){return e.length>0&&e[e.length-1]===t}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=i(0),s=i(5),o=i(12),a=i(56),p=i(586),l=i(57),u=i(130),c=function(e){function HtmlTreeError(t,i,r){e.call(this,i,r),this.elementName=t}return r(HtmlTreeError,e),HtmlTreeError.create=function(e,t,i){return new HtmlTreeError(e,t,i)},HtmlTreeError}(l.ParseError);t.HtmlTreeError=c;var h=function(){function HtmlParseTreeResult(e,t){this.rootNodes=e,this.errors=t}return HtmlParseTreeResult}();t.HtmlParseTreeResult=h;var m=function(){function HtmlParser(){}return HtmlParser.prototype.parse=function(e,t,i){void 0===i&&(i=!1);var r=p.tokenizeHtml(e,t,i),n=new d(r.tokens).build();return new h(n.rootNodes,r.errors.concat(n.errors))},HtmlParser.decorators=[{type:n.Injectable}],HtmlParser}();t.HtmlParser=m;var d=function(){function TreeBuilder(e){this.tokens=e,this.index=-1,this.rootNodes=[],this.errors=[],this.elementStack=[],this._advance()}return TreeBuilder.prototype.build=function(){for(;this.peek.type!==p.HtmlTokenType.EOF;)this.peek.type===p.HtmlTokenType.TAG_OPEN_START?this._consumeStartTag(this._advance()):this.peek.type===p.HtmlTokenType.TAG_CLOSE?this._consumeEndTag(this._advance()):this.peek.type===p.HtmlTokenType.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this.peek.type===p.HtmlTokenType.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this.peek.type===p.HtmlTokenType.TEXT||this.peek.type===p.HtmlTokenType.RAW_TEXT||this.peek.type===p.HtmlTokenType.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this.peek.type===p.HtmlTokenType.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance();return new h(this.rootNodes,this.errors)},TreeBuilder.prototype._advance=function(){var e=this.peek;return this.index<this.tokens.length-1&&this.index++,this.peek=this.tokens[this.index],e},TreeBuilder.prototype._advanceIf=function(e){return this.peek.type===e?this._advance():null},TreeBuilder.prototype._consumeCdata=function(e){this._consumeText(this._advance()),this._advanceIf(p.HtmlTokenType.CDATA_END)},TreeBuilder.prototype._consumeComment=function(e){var t=this._advanceIf(p.HtmlTokenType.RAW_TEXT);this._advanceIf(p.HtmlTokenType.COMMENT_END);var i=s.isPresent(t)?t.parts[0].trim():null;this._addToParent(new a.HtmlCommentAst(i,e.sourceSpan))},TreeBuilder.prototype._consumeExpansion=function(e){for(var t=this._advance(),i=this._advance(),r=[];this.peek.type===p.HtmlTokenType.EXPANSION_CASE_VALUE;){var n=this._parseExpansionCase();if(s.isBlank(n))return;r.push(n)}if(this.peek.type!==p.HtmlTokenType.EXPANSION_FORM_END)return void this.errors.push(c.create(null,this.peek.sourceSpan,"Invalid expansion form. Missing '}'."));this._advance();var o=new l.ParseSourceSpan(e.sourceSpan.start,this.peek.sourceSpan.end);this._addToParent(new a.HtmlExpansionAst(t.parts[0],i.parts[0],r,o,t.sourceSpan))},TreeBuilder.prototype._parseExpansionCase=function(){var e=this._advance();if(this.peek.type!==p.HtmlTokenType.EXPANSION_CASE_EXP_START)return this.errors.push(c.create(null,this.peek.sourceSpan,"Invalid expansion form. Missing '{'.,")),null;var t=this._advance(),i=this._collectExpansionExpTokens(t);if(s.isBlank(i))return null;var r=this._advance();i.push(new p.HtmlToken(p.HtmlTokenType.EOF,[],r.sourceSpan));var n=new TreeBuilder(i).build();if(n.errors.length>0)return this.errors=this.errors.concat(n.errors),null;var o=new l.ParseSourceSpan(e.sourceSpan.start,r.sourceSpan.end),u=new l.ParseSourceSpan(t.sourceSpan.start,r.sourceSpan.end);return new a.HtmlExpansionCaseAst(e.parts[0],n.rootNodes,o,e.sourceSpan,u)},TreeBuilder.prototype._collectExpansionExpTokens=function(e){for(var t=[],i=[p.HtmlTokenType.EXPANSION_CASE_EXP_START];;){if(this.peek.type!==p.HtmlTokenType.EXPANSION_FORM_START&&this.peek.type!==p.HtmlTokenType.EXPANSION_CASE_EXP_START||i.push(this.peek.type),this.peek.type===p.HtmlTokenType.EXPANSION_CASE_EXP_END){if(!lastOnStack(i,p.HtmlTokenType.EXPANSION_CASE_EXP_START))return this.errors.push(c.create(null,e.sourceSpan,"Invalid expansion form. Missing '}'.")),null;if(i.pop(),0==i.length)return t}if(this.peek.type===p.HtmlTokenType.EXPANSION_FORM_END){if(!lastOnStack(i,p.HtmlTokenType.EXPANSION_FORM_START))return this.errors.push(c.create(null,e.sourceSpan,"Invalid expansion form. Missing '}'.")),null;i.pop()}if(this.peek.type===p.HtmlTokenType.EOF)return this.errors.push(c.create(null,e.sourceSpan,"Invalid expansion form. Missing '}'.")),null;t.push(this._advance())}},TreeBuilder.prototype._consumeText=function(e){var t=e.parts[0];if(t.length>0&&"\n"==t[0]){var i=this._getParentElement();s.isPresent(i)&&0==i.children.length&&u.getHtmlTagDefinition(i.name).ignoreFirstLf&&(t=t.substring(1))}t.length>0&&this._addToParent(new a.HtmlTextAst(t,e.sourceSpan))},TreeBuilder.prototype._closeVoidElement=function(){if(this.elementStack.length>0){var e=o.ListWrapper.last(this.elementStack);u.getHtmlTagDefinition(e.name).isVoid&&this.elementStack.pop()}},TreeBuilder.prototype._consumeStartTag=function(e){for(var t=e.parts[0],i=e.parts[1],r=[];this.peek.type===p.HtmlTokenType.ATTR_NAME;)r.push(this._consumeAttr(this._advance()));var n=getElementFullName(t,i,this._getParentElement()),s=!1;this.peek.type===p.HtmlTokenType.TAG_OPEN_END_VOID?(this._advance(),s=!0,null!=u.getNsPrefix(n)||u.getHtmlTagDefinition(n).isVoid||this.errors.push(c.create(n,e.sourceSpan,'Only void and foreign elements can be self closed "'+e.parts[1]+'"'))):this.peek.type===p.HtmlTokenType.TAG_OPEN_END&&(this._advance(),s=!1);var o=this.peek.sourceSpan.start,h=new l.ParseSourceSpan(e.sourceSpan.start,o),m=new a.HtmlElementAst(n,r,[],h,h,null);this._pushElement(m),s&&(this._popElement(n),m.endSourceSpan=h)},TreeBuilder.prototype._pushElement=function(e){if(this.elementStack.length>0){var t=o.ListWrapper.last(this.elementStack);u.getHtmlTagDefinition(t.name).isClosedByChild(e.name)&&this.elementStack.pop()}var i=u.getHtmlTagDefinition(e.name),r=this._getParentElementSkippingContainers(),n=r.parent,p=r.container;if(s.isPresent(n)&&i.requireExtraParent(n.name)){var l=new a.HtmlElementAst(i.parentToAdd,[],[],e.sourceSpan,e.startSourceSpan,e.endSourceSpan);this._insertBeforeContainer(n,p,l)}this._addToParent(e),this.elementStack.push(e)},TreeBuilder.prototype._consumeEndTag=function(e){var t=getElementFullName(e.parts[0],e.parts[1],this._getParentElement());this._getParentElement()&&(this._getParentElement().endSourceSpan=e.sourceSpan),u.getHtmlTagDefinition(t).isVoid?this.errors.push(c.create(t,e.sourceSpan,'Void elements do not have end tags "'+e.parts[1]+'"')):this._popElement(t)||this.errors.push(c.create(t,e.sourceSpan,'Unexpected closing tag "'+e.parts[1]+'"'))},TreeBuilder.prototype._popElement=function(e){for(var t=this.elementStack.length-1;t>=0;t--){var i=this.elementStack[t];if(i.name==e)return o.ListWrapper.splice(this.elementStack,t,this.elementStack.length-t),!0;if(!u.getHtmlTagDefinition(i.name).closedByParent)return!1}return!1},TreeBuilder.prototype._consumeAttr=function(e){var t=u.mergeNsAndName(e.parts[0],e.parts[1]),i=e.sourceSpan.end,r="";if(this.peek.type===p.HtmlTokenType.ATTR_VALUE){var n=this._advance();r=n.parts[0],i=n.sourceSpan.end}return new a.HtmlAttrAst(t,r,new l.ParseSourceSpan(e.sourceSpan.start,i))},TreeBuilder.prototype._getParentElement=function(){return this.elementStack.length>0?o.ListWrapper.last(this.elementStack):null},TreeBuilder.prototype._getParentElementSkippingContainers=function(){for(var e=null,t=this.elementStack.length-1;t>=0;t--){if("ng-container"!==this.elementStack[t].name)return{parent:this.elementStack[t],container:e};e=this.elementStack[t]}return{parent:o.ListWrapper.last(this.elementStack),container:e}},TreeBuilder.prototype._addToParent=function(e){var t=this._getParentElement();s.isPresent(t)?t.children.push(e):this.rootNodes.push(e)},TreeBuilder.prototype._insertBeforeContainer=function(e,t,i){if(t){if(e){var r=e.children.indexOf(t);e.children[r]=i}else this.rootNodes.push(i);i.children.push(t),this.elementStack.splice(this.elementStack.indexOf(t),0,i)}else this._addToParent(i),this.elementStack.push(i)},TreeBuilder}()},82:function(e,t,i){"use strict";function createUrlResolverWithoutPackagePrefix(){return new o}function createOfflineCompileUrlResolver(){return new o(s)}function getUrlScheme(e){var t=_split(e);return t&&t[a.Scheme]||""}function _buildFromEncodedParts(e,t,i,r,s,o,a){var p=[];return n.isPresent(e)&&p.push(e+":"),n.isPresent(i)&&(p.push("//"),n.isPresent(t)&&p.push(t+"@"),p.push(i),n.isPresent(r)&&p.push(":"+r)),n.isPresent(s)&&p.push(s),n.isPresent(o)&&p.push("?"+o),n.isPresent(a)&&p.push("#"+a),p.join("")}function _split(e){return n.RegExpWrapper.firstMatch(p,e)}function _removeDotSegments(e){if("/"==e)return"/";for(var t="/"==e[0]?"/":"",i="/"===e[e.length-1]?"/":"",r=e.split("/"),n=[],s=0,o=0;o<r.length;o++){var a=r[o];switch(a){case"":case".":break;case"..":n.length>0?n.pop():s++;break;default:n.push(a)}}if(""==t){for(;s-- >0;)n.unshift("..");0===n.length&&n.push(".")}return t+n.join("/")+i}function _joinAndCanonicalizePath(e){var t=e[a.Path];return t=n.isBlank(t)?"":_removeDotSegments(t),e[a.Path]=t,_buildFromEncodedParts(e[a.Scheme],e[a.UserInfo],e[a.Domain],e[a.Port],t,e[a.QueryData],e[a.Fragment])}function _resolveUrl(e,t){var i=_split(encodeURI(t)),r=_split(e);if(n.isPresent(i[a.Scheme]))return _joinAndCanonicalizePath(i);i[a.Scheme]=r[a.Scheme];for(var s=a.Scheme;s<=a.Port;s++)n.isBlank(i[s])&&(i[s]=r[s]);if("/"==i[a.Path][0])return _joinAndCanonicalizePath(i);var o=r[a.Path];n.isBlank(o)&&(o="/");var p=o.lastIndexOf("/");return o=o.substring(0,p+1)+i[a.Path],i[a.Path]=o,_joinAndCanonicalizePath(i)}var r=i(0),n=i(5),s="asset:";t.createUrlResolverWithoutPackagePrefix=createUrlResolverWithoutPackagePrefix,t.createOfflineCompileUrlResolver=createOfflineCompileUrlResolver,t.DEFAULT_PACKAGE_URL_PROVIDER={provide:r.PACKAGE_ROOT_URL,useValue:"/"};var o=function(){function UrlResolver(e){void 0===e&&(e=null),this._packagePrefix=e}return UrlResolver.prototype.resolve=function(e,t){var i=t;n.isPresent(e)&&e.length>0&&(i=_resolveUrl(e,i));var r=_split(i),o=this._packagePrefix;if(n.isPresent(o)&&n.isPresent(r)&&"package"==r[a.Scheme]){var p=r[a.Path];if(this._packagePrefix!==s)return o=n.StringWrapper.stripRight(o,"/"),p=n.StringWrapper.stripLeft(p,"/"),o+"/"+p;var l=p.split(/\//);i="asset:"+l[0]+"/lib/"+l.slice(1).join("/")}return i},UrlResolver.decorators=[{type:r.Injectable}],UrlResolver.ctorParameters=[{type:void 0,decorators:[{type:r.Inject,args:[r.PACKAGE_ROOT_URL]}]}],UrlResolver}();t.UrlResolver=o,t.getUrlScheme=getUrlScheme;var a,p=n.RegExpWrapper.create("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");!function(e){e[e.Scheme=1]="Scheme",e[e.UserInfo=2]="UserInfo",e[e.Domain=3]="Domain",e[e.Port=4]="Port",e[e.Path=5]="Path",e[e.QueryData=6]="QueryData",e[e.Fragment=7]="Fragment"}(a||(a={}))},83:function(e,t,i){"use strict";function _enumExpression(e,t){if(o.isBlank(t))return p.NULL_EXPR;var i=o.resolveEnumToken(e.runtime,t);return p.importExpr(new s.CompileIdentifierMetadata({name:e.name+"."+i,moduleUrl:e.moduleUrl,runtime:t}))}var r=i(0),n=i(23),s=i(31),o=i(5),a=i(32),p=i(19),l=function(){function ViewTypeEnum(){}return ViewTypeEnum.fromValue=function(e){return _enumExpression(a.Identifiers.ViewType,e)},ViewTypeEnum.HOST=ViewTypeEnum.fromValue(n.ViewType.HOST),ViewTypeEnum.COMPONENT=ViewTypeEnum.fromValue(n.ViewType.COMPONENT),ViewTypeEnum.EMBEDDED=ViewTypeEnum.fromValue(n.ViewType.EMBEDDED),ViewTypeEnum}();t.ViewTypeEnum=l;var u=function(){function ViewEncapsulationEnum(){}return ViewEncapsulationEnum.fromValue=function(e){return _enumExpression(a.Identifiers.ViewEncapsulation,e)},ViewEncapsulationEnum.Emulated=ViewEncapsulationEnum.fromValue(r.ViewEncapsulation.Emulated),ViewEncapsulationEnum.Native=ViewEncapsulationEnum.fromValue(r.ViewEncapsulation.Native),ViewEncapsulationEnum.None=ViewEncapsulationEnum.fromValue(r.ViewEncapsulation.None),ViewEncapsulationEnum}();t.ViewEncapsulationEnum=u;var c=function(){function ChangeDetectionStrategyEnum(){}return ChangeDetectionStrategyEnum.fromValue=function(e){return _enumExpression(a.Identifiers.ChangeDetectionStrategy,e)},ChangeDetectionStrategyEnum.OnPush=ChangeDetectionStrategyEnum.fromValue(r.ChangeDetectionStrategy.OnPush),ChangeDetectionStrategyEnum.Default=ChangeDetectionStrategyEnum.fromValue(r.ChangeDetectionStrategy.Default),ChangeDetectionStrategyEnum}();t.ChangeDetectionStrategyEnum=c;var h=function(){function ChangeDetectorStatusEnum(){}return ChangeDetectorStatusEnum.fromValue=function(e){return _enumExpression(a.Identifiers.ChangeDetectorStatus,e)},ChangeDetectorStatusEnum.CheckOnce=ChangeDetectorStatusEnum.fromValue(n.ChangeDetectorStatus.CheckOnce),ChangeDetectorStatusEnum.Checked=ChangeDetectorStatusEnum.fromValue(n.ChangeDetectorStatus.Checked),ChangeDetectorStatusEnum.CheckAlways=ChangeDetectorStatusEnum.fromValue(n.ChangeDetectorStatus.CheckAlways),ChangeDetectorStatusEnum.Detached=ChangeDetectorStatusEnum.fromValue(n.ChangeDetectorStatus.Detached),ChangeDetectorStatusEnum.Errored=ChangeDetectorStatusEnum.fromValue(n.ChangeDetectorStatus.Errored),ChangeDetectorStatusEnum.Destroyed=ChangeDetectorStatusEnum.fromValue(n.ChangeDetectorStatus.Destroyed),ChangeDetectorStatusEnum}();t.ChangeDetectorStatusEnum=h;var m=function(){function ViewConstructorVars(){}return ViewConstructorVars.viewUtils=p.variable("viewUtils"),ViewConstructorVars.parentInjector=p.variable("parentInjector"),ViewConstructorVars.declarationEl=p.variable("declarationEl"),ViewConstructorVars}();t.ViewConstructorVars=m;var d=function(){function ViewProperties(){}return ViewProperties.renderer=p.THIS_EXPR.prop("renderer"),ViewProperties.projectableNodes=p.THIS_EXPR.prop("projectableNodes"),ViewProperties.viewUtils=p.THIS_EXPR.prop("viewUtils"),ViewProperties}();t.ViewProperties=d;var f=function(){function EventHandlerVars(){}return EventHandlerVars.event=p.variable("$event"),EventHandlerVars}();t.EventHandlerVars=f;var v=function(){function InjectMethodVars(){}return InjectMethodVars.token=p.variable("token"),InjectMethodVars.requestNodeIndex=p.variable("requestNodeIndex"),InjectMethodVars.notFoundResult=p.variable("notFoundResult"),InjectMethodVars}();t.InjectMethodVars=v;var y=function(){function DetectChangesVars(){}return DetectChangesVars.throwOnChange=p.variable("throwOnChange"),DetectChangesVars.changes=p.variable("changes"),DetectChangesVars.changed=p.variable("changed"),DetectChangesVars.valUnwrapper=p.variable("valUnwrapper"),DetectChangesVars}();t.DetectChangesVars=y},87:6,99:function(e,t,i){"use strict";function id(e){var t=r.isPresent(e.meaning)?e.meaning:"",i=r.isPresent(e.content)?e.content:"";return r.escape("$ng|"+t+"|"+i)}var r=i(5),n=function(){function Message(e,t,i){void 0===i&&(i=null),this.content=e,this.meaning=t,this.description=i}return Message}();t.Message=n,t.id=id}},[1027]);